<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‡ ä¸ªæœ‰æ„æ€çš„æ™ºåŠ›é¢˜</title>
      <link href="/blog/posts/b998d6a0/"/>
      <url>/blog/posts/b998d6a0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸ºäº†é”»ç‚¼è„‘åŠ›ï¼Œé¿å…æå‰æ‚£ä¸Šè€å¹´ç—´å‘†ç—‡ï¼Œæœ‰å¿…è¦åšä¸€äº›é”»ç‚¼æ€ç»´çš„æ™ºåŠ›é¢˜ã€‚ğŸ™‚è¿™é‡Œä¸ç»™å‡ºç­”æ¡ˆï¼Œç­”æ¡ˆç½‘ä¸Šéƒ½æœ‰ï¼Œåªç»™ä¸€ç‚¹æç¤ºã€‚</p></blockquote><h2 id="1-1000ç“¶è¯æ°´æ‰¾æ¯’è¯"><a class="header-anchor" href="#1-1000ç“¶è¯æ°´æ‰¾æ¯’è¯">Â¶</a>1.1000ç“¶è¯æ°´æ‰¾æ¯’è¯</h2><p>ä¸€é“ç»å…¸é¢˜ï¼Œç½‘ä¸Šéƒ½è¯´æ˜¯å¾®è½¯é¢è¯•é¢˜ï¼Œä½†è²Œä¼¼è¿™å‡ å¹´æ²¡è§å¾®è½¯è€ƒè¿‡â€¦</p><p>é¢˜ç›®æè¿°å¦‚ä¸‹ï¼š</p><p>ä¸€å…± 1000 ç“¶è¯æ°´ï¼Œå…¶ä¸­ 1 ç“¶æœ‰æ¯’è¯ã€‚<br>å·²çŸ¥å°ç™½é¼ å–æ¯’è¯ä¸€å¤©å†…æ­»<br>è‹¥æƒ³åœ¨ä¸€å¤©å†…æ‰¾åˆ°æ¯’è¯ï¼Œæœ€å°‘éœ€è¦å‡ åªå°ç™½é¼ ï¼Ÿ</p><p><strong>å…³é”®å­—ï¼šäºŒè¿›åˆ¶</strong></p><h2 id="2-æŠ¢30"><a class="header-anchor" href="#2-æŠ¢30">Â¶</a>2.æŠ¢30</h2><p>æŠ¢ 30 æ˜¯åŒäººæ¸¸æˆ<br>æ¸¸æˆè§„åˆ™æ˜¯ï¼šç¬¬ä¸€ä¸ªäººå–Š â€œ 1 â€æˆ– â€œ 2 â€ï¼Œç¬¬äºŒä¸ªäººè¦æ¥ç€å¾€ä¸‹å–Šä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°ï¼Œç„¶åå†è½®åˆ°ç¬¬ä¸€ä¸ªäººã€‚ä¸¤äººè½®æµè¿›è¡Œä¸‹å»ã€‚æœ€åå–Š 30 çš„äººè·èƒœã€‚é—®å–Šæ•°å­—çš„æœ€ä½³ç­–ç•¥ã€‚</p><p><strong>å…³é”®å­—ï¼šbashåšå¼ˆ</strong></p><h2 id="3-ä¸‰ä¸ªç©ºç“¶å­"><a class="header-anchor" href="#3-ä¸‰ä¸ªç©ºç“¶å­">Â¶</a>3.ä¸‰ä¸ªç©ºç“¶å­</h2><p>æœ‰ä¸‰ä¸ªç©ºç“¶å­ï¼Œä¸€ä¸ª8Lï¼Œä¸€ä¸ª5Lï¼Œä¸€ä¸ª3Lï¼Œç›®å‰8Lçš„ç“¶å­è£…æ»¡äº†ç‰›å¥¶ã€‚è¯•é—®ï¼Œå¦‚æœåœ¨ä¸æµªè´¹ä¸€æ»´æ°´å’Œæ— åˆ»åº¦çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æµ‹é‡å‡º4Lçš„ç‰›å¥¶ï¼Ÿ</p><p><strong>å…³é”®å­—: æ¨¡æ‹Ÿï¼Œåæ¨</strong></p><h2 id="4-ç¯æ³¡å¼€å…³"><a class="header-anchor" href="#4-ç¯æ³¡å¼€å…³">Â¶</a>4.ç¯æ³¡å¼€å…³</h2><p>ä¸€ä¸ªåœ†ç¯ä¸Šæœ‰ 100 ä¸ªç¯æ³¡ï¼Œç¯æ³¡æœ‰äº®å’Œæš—ä¸¤ç§çŠ¶æ€ã€‚æŒ‰ä¸€ä¸ªç¯æ³¡çš„å¼€å…³å¯ä»¥æ”¹å˜å®ƒå’Œä¸å®ƒç›¸é‚»ä¸¤ä¸ªç¯æ³¡çš„çŠ¶æ€ã€‚ è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå¯¹äºä»»æ„åˆå§‹çŠ¶æ€ï¼Œä½¿æ‰€æœ‰ç¯æ³¡å…¨äº®ã€‚</p><p><strong>å…³é”®å­—ï¼šæ¨¡æ‹Ÿï¼Œåæ¨ï¼Œä»å…¨ç­å¯ä»¥æ¢å¤åˆ°å…¨äº®ã€‚</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> -æ™ºåŠ›é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»™åšå®¢åŠ ä¸Špwa</title>
      <link href="/blog/posts/b198188b/"/>
      <url>/blog/posts/b198188b/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç»™åšå®¢åŠ ä¸Špwaï¼Œæ–­ç½‘ä¹Ÿå¯ä»¥æ‰“å¼€</p></blockquote><h2 id="pwaç®€ä»‹"><a class="header-anchor" href="#pwaç®€ä»‹">Â¶</a><code>pwa</code>ç®€ä»‹</h2><p><code>PWA</code>ï¼ˆ<code>Progressive Web Apps</code>ï¼Œæ¸è¿›å¼ <code>Web</code> åº”ç”¨ï¼‰è¿ç”¨ç°ä»£çš„ Web API ä»¥åŠä¼ ç»Ÿçš„æ¸è¿›å¼å¢å¼ºç­–ç•¥æ¥åˆ›å»ºè·¨å¹³å° Web åº”ç”¨ç¨‹åºã€‚è¿™äº›åº”ç”¨æ— å¤„ä¸åœ¨ã€åŠŸèƒ½ä¸°å¯Œï¼Œä½¿å…¶å…·æœ‰ä¸åŸç”Ÿåº”ç”¨ç›¸åŒçš„ç”¨æˆ·ä½“éªŒä¼˜åŠ¿ã€‚è¿™ç»„æ–‡æ¡£å’ŒæŒ‡å—å‘Šè¯‰æ‚¨æœ‰å…³ <code>PWA</code> çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><h2 id="è¿‡ç¨‹"><a class="header-anchor" href="#è¿‡ç¨‹">Â¶</a>è¿‡ç¨‹</h2><p>ç”¨åˆ°äº† <code>hexo-pwa</code> è¿™ä¸ªæ’ä»¶ï¼Œåœ¨<code>config.yml</code> é‡ŒåŠ ä¸Šé…ç½®ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ<code>mainfest.json</code> ,å†æ‰‹åŠ¨åŠ ä¸Š<code>sw.js</code>æ–‡ä»¶ã€‚</p><pre><code class="language-yml">pwa:  manifest:    path: manifest.json    body:      name: x1nes      short_name: x1nes      theme_color: white      background_color: white      display: standalone      orientation: portrait      scope: /      start_url: /blog/      icons:        - src: img/logo.png          type: image/png          sizes: 600x600        - src: img/icon-60@2x.png          type: image/png          sizes: 120x120        - src: img/icon-40@2x.png          type: image/png          sizes: 80x80        - src: img/icon-29@2x.png          type: image/png          sizes: 58x58        - src: img/icon-20@2x.png          type: image/png          sizes: 40x40     serviceWorker:    path: /sw.js    preload:      urls:        - /      posts: 5    opts:      networkTimeoutSeconds: 20    routes:      - pattern: !!js/regexp /hm.baidu.com/        strategy: networkOnly      - pattern: !!js/regexp /www.google-analytics.com/        strategy: networkOnly      - pattern: !!js/regexp /pagead2.googlesyndication.com/        strategy: networkOnly      - pattern: !!js/regexp /cdn.jsdelivr.net/        strategy: cacheFirst      - pattern: !!js/regexp /.*\.(js|css|jpg|jpeg|png|gif)$/        strategy: cacheFirst      - pattern: !!js/regexp /\//        strategy: networkFirst  priority: 5</code></pre><p>sw.js</p><pre><code class="language-js">importScripts('https://g.alicdn.com/kg/workbox/3.3.0/workbox-sw.js');if (workbox) {    workbox.setConfig({ modulePathPrefix: 'https://g.alicdn.com/kg/workbox/3.3.0/' });    workbox.precaching.precache(['/', '/index.html']);    workbox.routing.registerRoute(new RegExp('^https?://x1nes.github.io/?$'), workbox.strategies.networkFirst());    workbox.routing.registerRoute(new RegExp('.*.html'), workbox.strategies.networkFirst());    workbox.routing.registerRoute(new RegExp('.*.(?:js|css)'), workbox.strategies.staleWhileRevalidate());}</code></pre><p>å®Œæˆï¼å†æ¬¡æ‰“å¼€é¡µé¢ï¼Œå°±å¯ä»¥çœ‹è§æ§åˆ¶å°é‡Œ<code>application</code>é‡Œé¢çš„<code>Mainfest</code> å’Œ <code>service workers</code>é‡Œéƒ½æˆåŠŸåŠ è½½äº†ã€‚ç°åœ¨å¯ä»¥æŠŠè¿™ä¸ªç½‘é¡µå½“ä½œappä¸€æ ·æ·»åŠ åˆ°æ¡Œé¢ä½¿ç”¨äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> pwa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ°çƒä¸Šè¿˜å‰©ä¸€ä¸ªé¸¡è›‹</title>
      <link href="/blog/posts/11ca1e89/"/>
      <url>/blog/posts/11ca1e89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘çš„å†…å·è¯é¢˜ï¼Œçªç„¶æƒ³åˆ°å°æ—¶å€™çœ‹åˆ°çš„ä¸€ç¯‡éƒ‘æ¸Šæ´çš„å°è¯´ï¼ŒæŒºæœ‰æ„æ€çš„ï¼Œè¿™é‡Œè½¬è½½ä¸€ä¸‹ã€‚</p></blockquote><h2 id="åœ°çƒä¸Šè¿˜å‰©ä¸€ä¸ªé¸¡è›‹"><a class="header-anchor" href="#åœ°çƒä¸Šè¿˜å‰©ä¸€ä¸ªé¸¡è›‹">Â¶</a>åœ°çƒä¸Šè¿˜å‰©ä¸€ä¸ªé¸¡è›‹</h2><p>ä¸€</p><p>æ•´ä¸ªé¸¡å®¶æ—éƒ½ä¸ç”˜å¿ƒè‡ªå·±åœ¨åœ°çƒä¸Šçš„åœ°ä½â€“ä»»äººå®°å‰²ï¼Œä¾›äººé£Ÿç”¨ã€‚<br>ä»ï¼‘ï¼ï¼å¹´å‰èµ·ï¼Œé¸¡å®¶æ—çš„æœ‰è¯†ä¹‹å£«å°±è¯•å›¾æ‘†è„±é¸¡å®¶æ—çš„å›°å¢ƒã€‚ä½†æ¯æ¬¡è¡ŒåŠ¨éƒ½ä»¥é¸¡çš„å¤±è´¥å‘Šç»ˆã€‚äººç±»å¤§è·å…¨èƒœï¼Œè¿˜ä¸æ–­å®Œå–„ç€åƒé¸¡çš„è‰ºæœ¯ï¼šç°ä»£åŒ–å…»é¸¡åœºã€å¡«é¸¡ã€è‚¯å¾·é¸¡ã€æ‰’é¸¡ã€çƒ§é¸¡â€¦â€¦çœŸæ˜¯åˆ°äº†ç‚‰ç«çº¯é’çš„å¢ƒç•Œã€‚<br>è¿™è¿˜ä¸ç®—ï¼Œé¸¡è¢«äººç±»åƒå¾—æœ€å¤šï¼Œå¯äººç±»å´å‘æ˜å‡º&quot;é»„é¼ ç‹¼ç»™é¸¡æ‹œå¹´&quot;çš„æˆè¯­å«ç¥¸äºé»„é¼ ç‹¼ï¼Œé¸¡ä»¬ç¡®å®å’½ä¸ä¸‹è¿™å£æ°”ã€‚<br>é¸¡ç‹å†³å®šåœ¨æœ¬ä¸–çºªæœ«ä¹‹å‰æ‰­è½¬é¸¡å®¶æ—çš„å¤„å¢ƒï¼Œä»–å¬é›†å¹•åƒšæƒ³åŠæ³•ã€‚<br>&quot;è¦æƒ³è®©äººç±»æ”¾å¼ƒåƒé¸¡å¾ˆéš¾ã€‚&quot;ä¸€ä½å¹•åƒšè¯´ã€‚ä»–æ›¾ç»ç”¨ï¼‘ï¼æ–¤é¸¡è›‹æ”¶ä¹°äº†äººç±»ä¸­ä¸€ä½å†™ä¸œè¥¿çš„äººï¼Œè®©ä»–åœ¨æŠ¥ä¸Šå†™æ–‡ç« è¯´ï¼Œåƒé¸¡å®¹æ˜“æ‚£ç™Œç—‡ã€‚äººç±»ç…§åƒä¸è¯¯ã€‚<br>&quot;ä¾æˆ‘çœ‹ï¼Œäººåƒå’±ä»¬å¹¶ä¸æ˜¯å› ä¸ºæ¨å’±ä»¬ï¼Œè€Œæ˜¯è¯´æ˜ä»–ä»¬ç¦»ä¸å¼€å’±ä»¬ã€‚&quot;å¦ä¸€ä½å¹´çºªå¤§ä¸€äº›çš„å¹•åƒšè¯´ï¼Œä»–æ›¾ç»å‘æ˜è¿‡é¸¡ç˜Ÿï¼Œä½†è¢«äººç±»ç”¨è¯ç‰©æ²»ä½äº†ã€‚<br>&quot;æœ‰é“ç†ã€‚&quot;é¸¡ç‹ç‚¹å¤´ã€‚ç¤ºæ„è¿™ä½æ…•åƒšç»§ç»­å¾€ä¸‹è¯´ã€‚<br>&quot;å¤§ç‹ä¸‹ä¸€é“åœ£æ—¨ï¼Œå‘½ä»¤æ‰€æœ‰æ¯é¸¡åœæ­¢ä¸‹è›‹ã€‚ä¿å‡†äººç±»ä¸ä¼šå†åƒç°åœ¨è¿™æ ·å¯¹å¾…å’±ä»¬äº†ã€‚&quot;å¹•åƒšå»ºè®®ã€‚<br>&quot;åœæ­¢ä¸‹è›‹ï¼Ÿ&quot;é¸¡ç‹åƒäº†ä¸€æƒŠï¼Œè¿™å¯æ˜¯æ–­å­ç»å­™çš„ä¸¾åŠ¨ã€‚<br>&quot;æ²¡æœ‰é¸¡è›‹ï¼Œå°±ä¸ä¼šå†æœ‰æ–°çš„é¸¡å‡ºç”Ÿï¼Œå…‰è¿™ä¸€ç‚¹ï¼Œå°±å¤Ÿäººç±»ä¼¤è„‘ç­‹çš„ã€‚&quot;å¹•åƒšè¯´ã€‚<br>é¸¡ç‹ç‚¹ç‚¹å¤´ã€‚<br>ï¼•åˆ†é’Ÿåï¼Œé¸¡ç‹å‘æ•´ä¸ªé¸¡å®¶æ—ä¸‹è¾¾äº†åœ£æ—¨ï¼šåœæ­¢ä¸‹è›‹ã€‚</p><p>äºŒ</p><p>å½“äººç±»å‘ç°å…¨ä¸–ç•Œæ‰€æœ‰çš„æ¯é¸¡éƒ½ä¸ä¸‹è›‹äº†æ—¶ï¼Œåœ°çƒä¸Šåªå‰©ä¸‹ä¸€ä¸ªé¸¡è›‹äº†ã€‚<br>äººç±»æ„è¯†åˆ°é—®é¢˜çš„ä¸¥é‡æ€§äº†ï¼Œåœ°çƒä¸Šçš„é¸¡å°†åƒä¸€åªå°‘ä¸€åªï¼Œæœ€ç»ˆç­ç»ã€‚äººä»¬å°†ä¸å†æœ‰é¸¡è‚‰åƒï¼Œä¸å†æœ‰é¸¡è›‹åƒã€‚<br>ç§‘å­¦å®¶ä»¬æƒ³å°½ä¸€åˆ‡æ–¹æ³•åŠ¨å‘˜æ¯é¸¡ä»¬æ¢å¤ä¸‹è›‹ï¼Œä»€ä¹ˆéŸ³ä¹åˆºæ¿€æ³•å•¦ï¼Œçº¢å¤–çº¿ç´«å¤–çº¿è¿™çº¿é‚£çº¿ç…§å°„å•¦ï¼Œé—æ’¼çš„æ˜¯æ¯é¸¡ä»¬ä¸ä¸ºæ‰€åŠ¨ï¼Œä¸ç®¡ç§‘å­¦å®¶ä»¬æƒ³å‡ºä»€ä¹ˆç»æ´»å„¿ï¼Œå¥¹ä»¬å°±æ˜¯ä¸ä¸‹è›‹ã€‚<br>äººç±»ä¸“é—¨ä¸ºæ­¤å¬å¼€äº†ä¸€ä¸ªç´§æ€¥ä¼šè®®ï¼Œä¼šè®®çš„ç»“æœæ˜¯åˆ¶å®šäº†ä¸€éƒ¨å…³äºä¿æŠ¤çè´µåŠ¨ç‰©â€“é¸¡çš„æ³•å¾‹ã€‚é¸¡ç»ˆäºæ”¹å˜äº†å‘å¾®çš„åœ°ä½ï¼ŒåŠ å…¥çè´µåŠ¨ç‰©çš„è¡Œåˆ—ã€‚<br>äººä»¬ä»¥æ‹¥æœ‰ä¸€åªé¸¡ä¸ºè£ï¼Œç‹—å’ŒçŒ«çš„åœ°ä½ä¸€è½åƒä¸ˆã€‚åœ¨å…¬å›­é‡Œæ—¶å¸¸è§åˆ°ç‰µç€é¸¡æ•£æ­¥çš„è¾¾å®˜è´µäººã€‚ä¸€åªé¸¡çš„å”®ä»·å·²é«˜è¾¾ä¸Šåƒç¾å…ƒã€‚<br>ç§‘å­¦å®¶ä»¬ç ”åˆ¶çš„å»¶é•¿é¸¡çš„å¯¿å‘½çš„è¯ç‰©åˆšä¸€é—®ä¸–å°±è¢«æŠ¢è´­ä¸€ç©ºã€‚æœ‰å‡ ä¸ªå›½å®¶çš„å›½æ——ä¸Šå‡ºç°äº†é¸¡çš„å›¾æ¡ˆã€‚è¿™ä¸€åˆ‡éƒ½å› ä¸ºæ¯é¸¡ä¸ä¸‹è›‹äº†ã€‚<br>ç»è¥ç‚¸é¸¡çš„å¿«é¤åº—ç»Ÿç»Ÿå€’é—­ï¼Œè€æ¿ä¸æ˜¯è·³æ¥¼å°±æ˜¯ç¦»å©šã€‚<br>åœ°çƒä¸Šå”¯ä¸€çš„çš„é‚£ä¸ªé¸¡è›‹æ›´æ˜¯ä»·å€¼è¿åŸï¼Œå…‰æ˜¯å®ˆæŠ¤å®ƒçš„å†›é˜Ÿå°±æœ‰ä¸¤ä¸ªæ—…ä¹‹å¤šã€‚è¿™ä¸ªé¸¡è›‹çš„å¦ˆå¦ˆæ˜¯æœ€åä¸€ä¸ªå¬åˆ°é¸¡ç‹çš„åœ£æ—¨çš„ï¼Œå½“æ—¶å¥¹æ­£åœ¨ä¸‹è›‹ï¼Œæƒ³æŠŠè¿™ä¸ªè›‹é€€å›åˆ°è‚šå­é‡Œå·²ç»ä¸å¯èƒ½äº†ï¼Œäºæ˜¯å¥¹æˆäº†åœ°çƒä¸Šå”¯ä¸€çš„é¸¡è›‹çš„æ¯äº²ã€‚<br>å¥¹å› æ­¤èº«ä»·ç™¾å€ï¼Œäººä»¬å°†å»¶ç»­é¸¡çš„ç”Ÿå‘½çš„æœŸæœ›å¯„æ‰˜åœ¨å¥¹èº«ä¸Šï¼Œäººä»¬æŠŠæœ€å¥½çš„é£Ÿç‰©ç»™å¥¹åƒï¼Œä¸ºå¥¹å»ºé€ äº†è¶…è±ªåä½å®…ï¼Œè¿˜è®©å¥¹ä¸ŠæŠ¥çº¸ä¸Šç”µè§†ä¸Šç”µå½±ã€‚<br>é¸¡ç‹çš„è‡£æ°‘ä»¬ä¸å†è¢«äººç±»æ€æˆ®ï¼Œä¸å†ä¾›äººç±»é£Ÿç”¨ï¼Œäººç±»è§†ä»–ä»¬ä¸ºçå®ã€‚é¸¡ç‹æ»¡æ„äº†ã€‚</p><p>ä¸‰</p><p>é‚£ä¸ªå”¯ä¸€çš„é¸¡è›‹çš„æ¯äº²çš„æ˜¾èµ«åœ°ä½æ¸æ¸å¼•èµ·äº†é¸¡å®¶æ—æˆå‘˜çš„æ³¨æ„ï¼Œä»–ä»¬ç¾¡æ…•å¥¹å«‰å¦’å¥¹ã€‚åŒæ ·æ˜¯é¸¡ï¼Œä¸ºä»€ä¹ˆå¥¹ä½çš„æˆ¿å­æ¯”åŒç±»çš„å¥½ï¼Ÿä¸ºä»€ä¹ˆå¥¹çš„é£Ÿè°±æ¯”åŒç±»çš„é«˜çº§ï¼Ÿä¸ºä»€ä¹ˆå¥¹èƒ½ä¸Šç”µè§†è¿˜äº«æœ‰é¸¡çš‡åçš„ç§°å·ï¼Ÿå°±å› ä¸ºå¥¹ç”Ÿäº†åœ°çƒä¸Šæœ€åä¸€ä¸ªé¸¡è›‹ï¼<br>æ²¡äººç”˜å¿ƒæ¯”åŒç±»æ´»å¾—å·®ã€‚<br>äºæ˜¯ï¼Œåœ¨ä¸€ä¸ªä¸Šåˆï¼Œä¸€åªæ¯é¸¡è¿æŠ—é¸¡ç‹çš„åœ£æ—¨ï¼Œå¥¹å…¬ç„¶ä¸‹äº†ä¸€ä¸ªè›‹ã€‚<br>è¿™åªæ¯é¸¡ç«‹åˆ»æˆä¸ºå…¨çƒæ–°é—»çš„ç„¦ç‚¹ï¼Œå¥¹çš„å¾…é‡ç«‹å³è¶…è¿‡äº†é‚£åª&quot;é¸¡çš‡å&quot;ã€‚<br>é¸¡å®¶æ—å—åˆ°äº†å¼ºçƒˆçš„éœ‡åŠ¨ã€‚<br>ç¬¬ä¸‰ä¸ªé¸¡è›‹å‡ºç”Ÿäº†ã€‚<br>ç¬¬å››ä¸ªé¸¡è›‹é—®ä¸–äº†ã€‚<br>ç¬¬äº”ä¸ªé¸¡è›‹é™ä¸´äº†ã€‚<br>ç¬¬å…­ä¸ªé¸¡è›‹è¯è¾°äº†ã€‚<br>é¸¡ç‹æ„Ÿåˆ°å¤§äº‹ä¸å¦™ï¼Œä»–è¿é™åœ£æ—¨åˆ¶æ­¢æ¯é¸¡ä»¬ä¸‹è›‹ï¼Œä½†ä»–å·²ç»æ§åˆ¶ä¸äº†ä»–çš„è‡£æ°‘äº†ã€‚<br>æ‰€æœ‰çš„æ¯é¸¡éƒ½æƒ³å½“é¸¡çš‡åï¼Œæ‰€æœ‰çš„æ¯é¸¡éƒ½æƒ³æ¯”åˆ«çš„é¸¡æ´»å¾—å¥½ï¼Œå¥¹ä»¬ç‰¹ç©å‘½åœ°ä¸‹è›‹ã€‚<br>å½“é¸¡è›‹çš„æ•°é‡å¤šåˆ°æ´¾ä¸è¿‡æ¥å†›é˜Ÿä¿æŠ¤æ—¶ï¼Œäººç±»é†’æ‚Ÿåˆ°é¸¡ä¸ä¼šç­ç»äº†ã€‚äººä»¬å˜´é‡Œå‡ºç°äº†å£æ°´ï¼Œä»–ä»¬ä»¿ä½›åˆé—»åˆ°ç‚¸é¸¡çš„é¦™å‘³äº†ã€‚<br>ä¿æŠ¤é¸¡çš„æ³•å¾‹å–æ¶ˆäº†ã€‚<br>é¸¡åˆé‡æ–°å‡ºç°åœ¨é¤æ¡Œä¸Šã€‚<br>æ²¡äººç‰µç€é¸¡é€›å…¬å›­äº†ã€‚<br>é¸¡ç‹æƒ³å†å‘ä¸€é“ä¸ä¸‹è›‹çš„åœ£æ—¨ï¼Œå¹•åƒšè¿›è°åŠä½äº†ä»–ã€‚å¹•åƒšå‘Šè¯‰é¸¡ç‹ï¼Œäººç±»å·²ç»æœ‰äº†å¯¹ä»˜é¸¡ä¸ä¸‹è›‹çš„åŠæ³•ï¼šä»–ä»¬ç•™å‡ºä¸€ä¸ªé¸¡è›‹ï¼Œåªè¦é¸¡ä»¬å†ä¸ä¸‹è›‹ï¼Œä»–ä»¬å°±æ‹¼å‘½æŠ¬ä¸¾è¿™ä¸ªé¸¡è›‹å’Œå®ƒçš„å¦ˆå¦ˆã€‚<br>é¸¡å®¶æ—ç®—æ˜¯æ²¡æœ‰å‡ºå¤´ä¹‹æ—¥äº†ã€‚é¸¡ç‹å“€å¹ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å°è¯´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rediså¸¸è§çš„ä½¿ç”¨æ¡ˆä¾‹</title>
      <link href="/blog/posts/753a7543/"/>
      <url>/blog/posts/753a7543/</url>
      
        <content type="html"><![CDATA[<blockquote><p><code>redis</code>é™¤äº†ç¼“å­˜ï¼Œè¿˜æœ‰å¾ˆå¤šçš„ä½¿ç”¨æ–¹å¼ï¼Œäº’è”ç½‘é¡¹ç›®çš„å¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯é€šè¿‡<code>redis</code>å®ç°çš„ï¼Œä»Šå¤©ç®€å•ä»‹ç»ä¸€äº›ã€‚</p></blockquote><h2 id="ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ">Â¶</a>ç®€å•å›é¡¾ä¸‹redisæ˜¯ä»€ä¹ˆ</h2><p><code>Redis</code>æ˜¯ä¸€ä¸ªä½¿ç”¨<code>ANSI C</code>ç¼–å†™çš„å¼€æºã€æ”¯æŒç½‘ç»œã€åŸºäºå†…å­˜ã€åˆ†å¸ƒå¼ã€å¯é€‰æŒä¹…æ€§çš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚ä»2015å¹´6æœˆå¼€å§‹ï¼Œ<code>Redis</code>çš„å¼€å‘ç”±<code>Redis Labs</code>èµåŠ©ï¼Œè€Œ2013å¹´5æœˆè‡³2015å¹´6æœˆæœŸé—´ï¼Œå…¶å¼€å‘ç”±<code>Pivotal</code>èµåŠ©ã€‚åœ¨2013å¹´5æœˆä¹‹å‰ï¼Œå…¶å¼€å‘ç”±<code>VMware</code>èµåŠ©ã€‚æ ¹æ®æœˆåº¦æ’è¡Œç½‘ç«™<code>DB-Engines.com</code>çš„æ•°æ®ï¼Œ<code>Redis</code>æ˜¯æœ€æµè¡Œçš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚</p><h2 id="redisçš„ç‰¹ç‚¹"><a class="header-anchor" href="#redisçš„ç‰¹ç‚¹">Â¶</a>redisçš„ç‰¹ç‚¹</h2><ol><li>é«˜æ€§èƒ½<br>æ€§èƒ½æé«˜ â€“ <code>Redis</code>èƒ½è¯»çš„é€Ÿåº¦æ˜¯110000æ¬¡/s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡/s ã€‚</li><li>å’ŒåŸç”Ÿè¯­è¨€æ— ç¼çš„æ•°æ®ç»“æ„<br><code>Redis</code>æ”¯æŒäºŒè¿›åˆ¶æ¡ˆä¾‹çš„ <code>Strings</code>, <code>Lists</code>, <code>Hashes</code>, <code>Sets</code> åŠ <code>Ordered Sets</code> æ•°æ®ç±»å‹æ“ä½œã€‚</li><li>ä¸°å¯Œçš„ç‰¹æ€§<br>Redisè¿˜æ”¯æŒ <code>publish/subscribe</code>, é€šçŸ¥, <code>key</code> è¿‡æœŸç­‰ç­‰ç‰¹æ€§ã€‚</li><li>æ”¯æŒæŒä¹…åŒ–<br><code>Redis</code>æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚</li><li>åˆ†å¸ƒå¼<br><code>Redis</code>æ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³<code>master-slave</code>æ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚</li><li>é«˜å¯ç”¨<br><code>Redis Sentinel</code> ä¸€ä¸ªåˆ†å¸ƒå¼æ¶æ„ï¼Œç›‘æ§å„ä¸ªæœºå™¨çš„çŠ¶æ€åŠæ—¶ä½œå‡ºè°ƒæ•´ï¼Œé‡æ–°é€‰å–ä¸»èŠ‚ç‚¹ã€‚</li></ol><h2 id="äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•"><a class="header-anchor" href="#äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•">Â¶</a>äº”ç§æ•°æ®ç±»å‹å’Œå¸¸è§ç”¨æ³•</h2><h3 id="1-string"><a class="header-anchor" href="#1-string">Â¶</a>1. <code>string</code></h3><p><code>string</code>åœ¨<code>redis</code>é‡Œæ˜¯é€šè¿‡å­—ç¬¦æ•°ç»„å®ç°çš„ã€‚ä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚valueå…¶å®ä¸ä»…æ˜¯Stringï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚</p><h4 id="å¸¸è§çš„åœºæ™¯"><a class="header-anchor" href="#å¸¸è§çš„åœºæ™¯">Â¶</a>å¸¸è§çš„åœºæ™¯</h4><ol><li><code>json</code>å­—ç¬¦ä¸²å‚¨å­˜ç¼“å­˜</li><li><code>string</code>ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½œä¸ºè®¡æ•°å™¨ï¼Œä½¿ç”¨<code>INCR</code>å‘½ä»¤</li><li><code>redis</code>ä¹Ÿæ”¯æŒäºŒè¿›åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥å½“ä½œä¸€ä¸ª<code>bitmap</code>,æŠŠå›ºå®šé•¿åº¦çš„bitä½å‚¨å­˜æ•°æ®ã€‚</li><li>å¸ƒéš†è¿‡æ»¤å™¨ï¼Œä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡ï¼Œä½œä¸ºè¶…å¤§çš„åŒ…å«å…³ç³»çš„æŸ¥è¯¢ã€‚è¯¦ç»†ç‚¹å‡»<a href="https://www.huaweicloud.com/articles/cd70d43549f0a4c36641be61780ab66a.html" target="_blank" rel="noopener">è¿™é‡Œ</a></li><li>åˆ†å¸ƒå¼é”ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥çœ‹ä¸‹<a href="https://xiaomi-info.github.io/2019/12/17/redis-distributed-lock/" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</li></ol><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><pre><code class="language-bash">  APPEND key value  summary: Append a value to a key  since: 2.0.0  BITCOUNT key [start end]  summary: Count set bits in a string  since: 2.6.0  BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]  summary: Perform arbitrary bitfield integer operations on strings  since: 3.2.0  BITOP operation destkey key [key ...]  summary: Perform bitwise operations between strings  since: 2.6.0  BITPOS key bit [start] [end]  summary: Find first bit set or clear in a string  since: 2.8.7  DECR key  summary: Decrement the integer value of a key by one  since: 1.0.0  DECRBY key decrement  summary: Decrement the integer value of a key by the given number  since: 1.0.0  GET key  summary: Get the value of a key  since: 1.0.0  GETBIT key offset  summary: Returns the bit value at offset in the string value stored at key  since: 2.2.0  GETRANGE key start end  summary: Get a substring of the string stored at a key  since: 2.4.0  GETSET key value  summary: Set the string value of a key and return its old value  since: 1.0.0  INCR key  summary: Increment the integer value of a key by one  since: 1.0.0  INCRBY key increment  summary: Increment the integer value of a key by the given amount  since: 1.0.0  INCRBYFLOAT key increment  summary: Increment the float value of a key by the given amount  since: 2.6.0  MGET key [key ...]  summary: Get the values of all the given keys  since: 1.0.0  MSET key value [key value ...]  summary: Set multiple keys to multiple values  since: 1.0.1  MSETNX key value [key value ...]  summary: Set multiple keys to multiple values, only if none of the keys exist  since: 1.0.1  PSETEX key milliseconds value  summary: Set the value and expiration in milliseconds of a key  since: 2.6.0  SET key value [EX seconds] [PX milliseconds] [NX|XX]  summary: Set the string value of a key  since: 1.0.0  SETBIT key offset value  summary: Sets or clears the bit at offset in the string value stored at key  since: 2.2.0  SETEX key seconds value  summary: Set the value and expiration of a key  since: 2.0.0  SETNX key value  summary: Set the value of a key, only if the key does not exist  since: 1.0.0  SETRANGE key offset value  summary: Overwrite part of a string at key starting at the specified offset  since: 2.2.0  STRLEN key  summary: Get the length of the value stored in a key  since: 2.2.0</code></pre><h3 id="2-hash"><a class="header-anchor" href="#2-hash">Â¶</a>2. hash</h3><p>Hash æ˜¯ä¸€ä¸ªé”®å€¼(key =&gt; value)å¯¹é›†åˆã€‚Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚æ¯”å¦‚å‚¨å­˜ç”¨æˆ·ä¿¡æ¯ã€‚ç”¨æˆ·idä½œä¸ºkeyï¼Œå§“åï¼Œå¹´é¾„ï¼Œç”Ÿæ—¥ç­‰ä¿¡æ¯å¯ä»¥ç»´æŠ¤åºåˆ—åŒ–çš„å¯¹è±¡ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯">Â¶</a>ä½¿ç”¨åœºæ™¯</h4><ol><li>å­˜å‚¨å¯¹è±¡ç±»æ•°æ®ï¼Œå› æ­¤å¯ä»¥å­˜ä¸€äº›ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚è´­ç‰©è½¦ï¼Œç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€‚</li></ol><pre><code class="language-bash">  HDEL key field [field ...]  summary: Delete one or more hash fields  since: 2.0.0  HEXISTS key field  summary: Determine if a hash field exists  since: 2.0.0  HGET key field  summary: Get the value of a hash field  since: 2.0.0  HGETALL key  summary: Get all the fields and values in a hash  since: 2.0.0  HINCRBY key field increment  summary: Increment the integer value of a hash field by the given number  since: 2.0.0  HINCRBYFLOAT key field increment  summary: Increment the float value of a hash field by the given amount  since: 2.6.0  HKEYS key  summary: Get all the fields in a hash  since: 2.0.0  HLEN key  summary: Get the number of fields in a hash  since: 2.0.0  HMGET key field [field ...]  summary: Get the values of all the given hash fields  since: 2.0.0  HMSET key field value [field value ...]  summary: Set multiple hash fields to multiple values  since: 2.0.0  HSCAN key cursor [MATCH pattern] [COUNT count]  summary: Incrementally iterate hash fields and associated values  since: 2.8.0  HSET key field value  summary: Set the string value of a hash field  since: 2.0.0  HSETNX key field value  summary: Set the value of a hash field, only if the field does not exist  since: 2.0.0  HSTRLEN key field  summary: Get the length of the value of a hash field  since: 3.2.0  HVALS key  summary: Get all the values in a hash  since: 2.0.0</code></pre><h3 id="3-list"><a class="header-anchor" href="#3-list">Â¶</a>3. list</h3><p>list åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚<br>å¯ä»¥ä½œä¸ºä¸€ä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯-v2"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v2">Â¶</a>ä½¿ç”¨åœºæ™¯</h4><ol><li>ç®€æ˜“æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå³(å·¦)è¾¹è¿›å·¦(å³)è¾¹å‡ºï¼Œç”¨æ¥æ¶ˆè´¹é˜Ÿåˆ—é‡Œçš„ä¿¡æ¯ã€‚ä½†æ˜¯ackæœºåˆ¶éº»çƒ¦ï¼Œå¤æ‚åœºæ™¯è¿˜æ˜¯ä½¿ç”¨ä¸“ä¸šçš„mqã€‚</li><li>ä½œä¸ºæ ˆä½¿ç”¨ï¼Œæ”¯æŒå³(å·¦)è¾¹è¿›å³(å·¦)è¾¹å‡ºã€‚</li><li>ç”¨äºå‚¨å­˜çº¿æ€§æ•°æ®ï¼Œæ¯”å¦‚æŸä¸ªäººçš„å…³æ³¨åˆ—è¡¨ã€‚æ–‡ç« ç‚¹èµçš„äººçš„idã€‚</li></ol><pre><code class="language-bash">  BLPOP key [key ...] timeout  summary: Remove and get the first element in a list, or block until one is available  since: 2.0.0  BRPOP key [key ...] timeout  summary: Remove and get the last element in a list, or block until one is available  since: 2.0.0  BRPOPLPUSH source destination timeout  summary: Pop a value from a list, push it to another list and return it; or block until one is available  since: 2.2.0  LINDEX key index  summary: Get an element from a list by its index  since: 1.0.0  LINSERT key BEFORE|AFTER pivot value  summary: Insert an element before or after another element in a list  since: 2.2.0  LLEN key  summary: Get the length of a list  since: 1.0.0  LPOP key  summary: Remove and get the first element in a list  since: 1.0.0  LPUSH key value [value ...]  summary: Prepend one or multiple values to a list  since: 1.0.0  LPUSHX key value  summary: Prepend a value to a list, only if the list exists  since: 2.2.0  LRANGE key start stop  summary: Get a range of elements from a list  since: 1.0.0  LREM key count value  summary: Remove elements from a list  since: 1.0.0  LSET key index value  summary: Set the value of an element in a list by its index  since: 1.0.0  LTRIM key start stop  summary: Trim a list to the specified range  since: 1.0.0  RPOP key  summary: Remove and get the last element in a list  since: 1.0.0  RPOPLPUSH source destination  summary: Remove the last element in a list, prepend it to another list and return it  since: 1.2.0  RPUSH key value [value ...]  summary: Append one or multiple values to a list  since: 1.0.0  RPUSHX key value  summary: Append a value to a list, only if the list exists  since: 2.2.0</code></pre><h3 id="4-set"><a class="header-anchor" href="#4-set">Â¶</a>4. set</h3><p>set æ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚é›†åˆæ˜¯é€šè¿‡hashtableå®ç°çš„ï¼Œæ¦‚å¿µå’Œæ•°å­¦ä¸­ä¸ªçš„é›†åˆåŸºæœ¬ç±»ä¼¼ï¼Œå¯ä»¥äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ç­‰ç­‰ï¼Œsetä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„ã€‚æ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯-v3"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v3">Â¶</a>ä½¿ç”¨åœºæ™¯</h3><ol><li>å»é‡ï¼Œå¤šå°æœåŠ¡å¯ä»¥æ”¾åœ¨ä¸€ä¸ªseté‡Œå»é‡ã€‚</li><li>redis æä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°å¦‚å…±åŒå…³æ³¨ã€å…±åŒå–œå¥½ã€äºŒåº¦å¥½å‹ç­‰åŠŸèƒ½ã€‚</li></ol><pre><code class="language-bash">  SADD key member [member ...]  summary: Add one or more members to a set  since: 1.0.0  SCARD key  summary: Get the number of members in a set  since: 1.0.0  SDIFF key [key ...]  summary: Subtract multiple sets  since: 1.0.0  SDIFFSTORE destination key [key ...]  summary: Subtract multiple sets and store the resulting set in a key  since: 1.0.0  SINTER key [key ...]  summary: Intersect multiple sets  since: 1.0.0  SINTERSTORE destination key [key ...]  summary: Intersect multiple sets and store the resulting set in a key  since: 1.0.0  SISMEMBER key member  summary: Determine if a given value is a member of a set  since: 1.0.0  SMEMBERS key  summary: Get all the members in a set  since: 1.0.0  SMOVE source destination member  summary: Move a member from one set to another  since: 1.0.0  SPOP key [count]  summary: Remove and return one or multiple random members from a set  since: 1.0.0  SRANDMEMBER key [count]  summary: Get one or multiple random members from a set  since: 1.0.0  SREM key member [member ...]  summary: Remove one or more members from a set  since: 1.0.0  SSCAN key cursor [MATCH pattern] [COUNT count]  summary: Incrementally iterate Set elements  since: 2.8.0  SUNION key [key ...]  summary: Add multiple sets  since: 1.0.0  SUNIONSTORE destination key [key ...]  summary: Add multiple sets and store the resulting set in a key  since: 1.0.0</code></pre><h3 id="5-sorted-set"><a class="header-anchor" href="#5-sorted-set">Â¶</a>5. sorted_set</h3><p>zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ *zadd å‘½ä»¤ï¼š*æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”scoreã€‚setæ˜¯æœ‰åºçš„ï¼Œæ ¹æ®<code>score</code>æ’åºã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯-v4"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯-v4">Â¶</a>ä½¿ç”¨åœºæ™¯</h3><ol><li>å› ä¸ºè‡ªå¸¦æ’åºï¼Œæ˜¾ç¤ºæœ€æ–°çš„é¡¹ç›®åˆ—è¡¨ ï¼Œæ’è¡Œæ¦œç›¸å…³ã€‚</li><li>å¤„ç†è¿‡æœŸé¡¹ç›®ï¼Œæ¯”å¦‚å¤„ç†æ²¡ä»˜æ¬¾çš„è®¢å•ã€‚æ ¹æ®ä¸‹å•æ—¶é—´æ”¾è¿›<code>sorted_set</code>ï¼Œåå°ä»»åŠ¡æ ¹æ®<code>ZRANGE</code>æŸ¥æœ€è¿‘çš„å‡ æ¡æ•°æ®ï¼Œå¦‚æœè¿‡æœŸå†å›å†™åˆ°æ•°æ®åº“ã€‚</li></ol><pre><code class="language-bash">  ZADD key [NX|XX] [CH] [INCR] score member [score member ...]  summary: Add one or more members to a sorted set, or update its score if it already exists  since: 1.2.0  ZCARD key  summary: Get the number of members in a sorted set  since: 1.2.0  ZCOUNT key min max  summary: Count the members in a sorted set with scores within the given values  since: 2.0.0  ZINCRBY key increment member  summary: Increment the score of a member in a sorted set  since: 1.2.0  ZINTERSTORE destination numkeys key [key ...] [WEIGHTS weight] [AGGREGATE SUM|MIN|MAX]  summary: Intersect multiple sorted sets and store the resulting sorted set in a new key  since: 2.0.0  ZLEXCOUNT key min max  summary: Count the number of members in a sorted set between a given lexicographical range  since: 2.8.9  ZRANGE key start stop [WITHSCORES]  summary: Return a range of members in a sorted set, by index  since: 1.2.0  ZRANGEBYLEX key min max [LIMIT offset count]  summary: Return a range of members in a sorted set, by lexicographical range  since: 2.8.9  ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]  summary: Return a range of members in a sorted set, by score  since: 1.0.5  ZRANK key member  summary: Determine the index of a member in a sorted set  since: 2.0.0  ZREM key member [member ...]  summary: Remove one or more members from a sorted set  since: 1.2.0  ZREMRANGEBYLEX key min max  summary: Remove all members in a sorted set between the given lexicographical range  since: 2.8.9  ZREMRANGEBYRANK key start stop  summary: Remove all members in a sorted set within the given indexes  since: 2.0.0  ZREMRANGEBYSCORE key min max  summary: Remove all members in a sorted set within the given scores  since: 1.2.0  ZREVRANGE key start stop [WITHSCORES]  summary: Return a range of members in a sorted set, by index, with scores ordered from high to low  since: 1.2.0  ZREVRANGEBYLEX key max min [LIMIT offset count]  summary: Return a range of members in a sorted set, by lexicographical range, ordered from higher to lower strings.  since: 2.8.9  ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]  summary: Return a range of members in a sorted set, by score, with scores ordered from high to low  since: 2.2.0  ZREVRANK key member  summary: Determine the index of a member in a sorted set, with scores ordered from high to low  since: 2.0.0  ZSCAN key cursor [MATCH pattern] [COUNT count]  summary: Incrementally iterate sorted sets elements and associated scores  since: 2.8.0  ZSCORE key member  summary: Get the score associated with the given member in a sorted set  since: 1.2.0  ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight] [AGGREGATE SUM|MIN|MAX]  summary: Add multiple sorted sets and store the resulting sorted set in a new key  since: 2.0.0</code></pre><h2 id="å…¶ä»–åŠŸèƒ½"><a class="header-anchor" href="#å…¶ä»–åŠŸèƒ½">Â¶</a>å…¶ä»–åŠŸèƒ½</h2><ol><li>Pub/Sub<br>Redisçš„Pub/Subéå¸¸éå¸¸ç®€å•ï¼Œè¿è¡Œç¨³å®šå¹¶ä¸”å¿«é€Ÿã€‚å¯ä»¥ä½œä¸ºå‘å¸ƒè®¢é˜…ä½¿ç”¨ã€‚<br>2.<code>geo</code><br>å‚¨å­˜åœ°ç†åæ ‡æ•°æ®ï¼Œç”¨æ¥å®ç°é™„è¿‘çš„äººåŠŸèƒ½ã€‚</li><li>HyperLogLog<br><code>Redis HyperLogLog</code> æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼Œ<code>HyperLogLog</code> çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®š çš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚<br>åœ¨ <code>Redis</code> é‡Œé¢ï¼Œæ¯ä¸ª <code>HyperLogLog</code> é”®åªéœ€è¦èŠ±è´¹ <code>12 KB</code> å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ <code>2^64</code> ä¸ªä¸åŒå…ƒç´ çš„åŸº æ•°ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcodeåˆ·åˆ°500é¢˜ï¼Œæˆ‘å†³å®šä»å¤´å¼€å§‹å­¦ä¹ ç®—æ³•</title>
      <link href="/blog/posts/cec8bc39/"/>
      <url>/blog/posts/cec8bc39/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç®—æ³•åˆ·åˆ°500é“ï¼Œæˆ‘å†³å®šæš‚åœä¸€ä¸‹</p></blockquote><h2 id="æˆªå›¾ç•™å¿µ"><a class="header-anchor" href="#æˆªå›¾ç•™å¿µ">Â¶</a>æˆªå›¾ç•™å¿µ</h2><p><img src="./1.PNG" alt="æˆªå›¾çºªå¿µ"></p><h2 id="å‡ ä¸ªå‘¨èµ›é¢˜-æˆ‘è¢«è™äº†"><a class="header-anchor" href="#å‡ ä¸ªå‘¨èµ›é¢˜-æˆ‘è¢«è™äº†">Â¶</a>å‡ ä¸ªå‘¨èµ›é¢˜ï¼Œæˆ‘è¢«è™äº†</h2><p>åˆ·äº†è¿™ä¹ˆå¤šï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±è†¨èƒ€äº†ï¼Œå¯ä»¥å‚åŠ å‘¨èµ›äº†ï¼Œäºæ˜¯æ‰“äº†å‡ åœºï¼Œç»“æœæƒ¨ä¸å¿ç¹ï¼Œæœ€å¥½çš„ä¸€æ¬¡åšäº†ä¸‰é“é¢˜ï¼Œå¹³å‡ä¸¤é“é¢˜ï¼Œæœ‰æ—¶åªèƒ½åšå‡ºæ¥ä¸€é“ã€‚<br>è®©æˆ‘ä¼¤å¿ƒçš„æ˜¯ä¸æ˜¯é¢˜ç›®æœ‰å¤šéš¾ï¼Œè€Œæ˜¯ç»“æŸåçœ‹äº†ä¸‹åˆ«äººçš„ç­”æ¡ˆï¼ŒåŸæ¥è¿™ä¹ˆç®€å•ï¼Œä¸€ç‚¹éƒ½ä¸éš¾ï¼Œéƒ½æ˜¯å¾ˆç®€å•çš„é€»è¾‘ï¼Œä½†æ˜¯æˆ‘å°±æ˜¯æ²¡æƒ³åˆ°ï¼Œè¿™äº›é¢˜æœ‰äº›ç”šè‡³æ˜¯æˆ‘åšè¿‡çš„åŸé¢˜ï¼Œåªæ˜¯æ¢äº†ä¸€ä¸ªè¡¨è¾¾æ–¹å¼ï¼ŒæŠŠä»–åº”ç”¨åˆ°äº†å®é™…çš„åœºæ™¯ä¸­ï¼Œæˆ‘å°±æƒ³ä¸åˆ°æ€ä¹ˆè§£å†³äº†ğŸ˜­ã€‚ä½†æ˜¯ä¸€æ—¦æƒ³æ˜ç™½è¦å¹²ä»€ä¹ˆï¼Œæ‰å‘ç°åŸæ¥æ˜¯åšè¿‡çš„åŸé¢˜ã€‚</p><h2 id="æˆ‘ç¼ºä¹ä»€ä¹ˆ"><a class="header-anchor" href="#æˆ‘ç¼ºä¹ä»€ä¹ˆ">Â¶</a>æˆ‘ç¼ºä¹ä»€ä¹ˆ</h2><p>ç¬¬ä¸€ï¼šé€è¿‡ç°è±¡çœ‹æœ¬è´¨ï¼Œè¿™ä¸€ç‚¹æˆ‘ååˆ†ç¡®è®¤å’Œæ™ºå•†æœ‰å…³ç³»ï¼Œæ•°å­¦å®¶å¯ä»¥æŠŠå¤æ‚çš„æ˜¾ç¤ºä¸–ç•Œç”¨å…¬å¼æè¿°ï¼Œç¼–ç¨‹é«˜æ‰‹å¯ä»¥ç”¨ä»£ç å®ç°å¤æ‚çš„ç³»ç»Ÿè®¾è®¡ã€‚è‘—åçš„ç‰©ç†å­¦å®¶ã€ç”µæœºä¸“å®¶æ–¯å¦é—¨èŒ¨çš„ç”»ä¸€æ¡çº¿ï¼Œ1ç¾å…ƒï¼›<br>çŸ¥é“åœ¨å“ªå„¿ç”»çº¿ï¼Œ9999ç¾å…ƒçš„æ•…äº‹å¤§å®¶ä¹Ÿéƒ½æ¸…æ¥šï¼Œå¤©èµ‹å›ºç„¶é‡è¦ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†äººçš„åŠªåŠ›ç¨‹åº¦è¿˜ä¸åˆ°æ‹¼å¤©èµ‹çš„çš„åœ°æ­¥ï¼Œæ™ºå•†ä¹Ÿè®¸å¯ä»¥å†³å®šä¸Šé™ï¼ŒåŠªåŠ›å’Œå‹¤å¥‹æ›´èƒ½å†³å®šä¸‹é™ï¼Œåªæœ‰ä¸æ–­çš„ç»ƒä¹ ï¼Œæ¿€å‘è‡ªå·±å¯¹æœªçŸ¥é¢†åŸŸçš„è¯•æ¢ï¼Œæˆ‘ç›¸ä¿¡è‡ªå·±ä¹Ÿèƒ½è§£å¼€å±‚å±‚é¢çº±ï¼Œçœ‹åˆ°é¢˜ç›®çº·ç¹æ¡ä»¶ä¸‹çš„ç»†ææœ«èŠ‚ğŸ§ã€‚</p><p>ç¬¬äºŒï¼šå¯¹æ•°æ®ç»“æ„çš„ç†è§£å’Œä½¿ç”¨åœºæ™¯ä¸åˆ°ä½ã€‚æ—¥å¸¸å·¥ä½œä¸­ï¼Œä½¿ç”¨å¤æ‚æ•°æ®ç»“æ„çš„åœºæ™¯å…¶å®ä¸å¤šï¼Œå‰ç«¯ä¸šåŠ¡ä»£ç å¾€å¾€å¹¶ä¸å¤æ‚ï¼Œå› æ­¤å¾ˆå¤šæ•°æ®ç»“æ„è¿˜æ²¡ç†Ÿæ‚‰åˆ°ï¼Œä¸‹ä¸€æ­¥å®šä¸ªç›®æ ‡ï¼Œä¸€å‘¨çœŸæ­£å­¦ä¼šä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</p><p>ç¬¬ä¸‰ï¼šæˆ‘æƒ³ï¼Œåˆ·åŠ›æ‰£ï¼Œé«˜ä¸­çš„æ•°å­¦çŸ¥è¯†åº”è¯¥å·®ä¸å¤šäº†ï¼Œä½†å…¶å®ï¼Œç¦»æ•£å’Œçº¿æ€§ä»£æ•°å¦‚æœç†Ÿç»ƒçš„è¯ï¼Œæ›´å¥½ã€‚ç°åœ¨è¦å†å¤ä¹ ä¸‹ä¸€äº›åŸºæœ¬çš„æ•°å­¦çŸ¥è¯†ã€‚</p><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h2><p>æ¯æ—¥ä¸€é¢˜è¿˜è¦åšæŒä¸‹å»ï¼Œä½†æ˜¯ä¸ä¼šèŠ±å¤§æ—¶é—´æ¼«æ— ç›®çš„çš„åˆ·é¢˜äº†ï¼Œæ¥ä¸‹æ¥çš„ç›®æ ‡æ˜¯å­¦ä¹ ä»¥ä¸‹çš„æ•°æ®ç»“æ„ã€‚ç›®å‰åœ¨çœ‹çš„ä¸€æœ¬ä¹¦æ˜¯ã€Šç®—æ³•ã€‹ç¬¬å››ç‰ˆã€‚</p><p>æ ˆ/å•è°ƒæ ˆï¼Œé˜Ÿåˆ—/å•è°ƒé˜Ÿåˆ—ï¼Œé“¾è¡¨ï¼Œå“ˆå¸Œè¡¨ï¼Œå †ï¼ŒäºŒå‰æ ‘/äºŒå‰æœç´¢æ ‘/å¹³è¡¡æ ‘ï¼Œè·³è¡¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨é¡µé¢é€šä¿¡çš„å‡ ç§æ–¹æ³•</title>
      <link href="/blog/posts/97160c27/"/>
      <url>/blog/posts/97160c27/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ¥ï¼Œè·¨é¡µé¢é€šä¿¡æœ‰è¿™è¿™ä¹ˆå¤šæ–¹æ³•</p></blockquote><h2 id="åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡"><a class="header-anchor" href="#åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡">Â¶</a>åŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡</h2><h3 id="localstorage"><a class="header-anchor" href="#localstorage">Â¶</a>localStorage</h3><p>è¿™ä¸ªå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯ä»–è¿˜æœ‰ä¸€ä¸ªstorageäº‹ä»¶ï¼Œä¹‹å‰æ²¡æ¥è§¦è¿‡<br>å½“ LocalStorage å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘storageäº‹ä»¶ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼ŒæŠŠæ¶ˆæ¯å†™å…¥åˆ°æŸä¸ª LocalStorage ä¸­ï¼›ç„¶ååœ¨å„ä¸ªé¡µé¢å†…ï¼Œé€šè¿‡ç›‘å¬storageäº‹ä»¶å³å¯æ”¶åˆ°é€šçŸ¥ã€‚</p><pre><code class="language-js">// ä¸€ä¸ªé¡µé¢ç›‘å¬äº‹ä»¶window.addEventListener('storage', function (e) {    if (e.key === 'ctc-msg') {        const data = JSON.parse(e.newValue);        const text = '[receive] ' + data.msg + ' â€”â€” tab ' + data.from;        console.log('[Storage I] receive message:', text);    }});// å¦å¤–ä¸€ä¸ªé¡µé¢setæ•°æ®ï¼Œè¿™é‡ŒåŠ ä¸Šäº‹ä»¶æˆ³æ˜¯å› ä¸ºåªæœ‰çœŸæ­£æ”¹å˜æ‰ä¼šè§¦å‘storagemydata.st = +(new Date);window.localStorage.setItem('ctc-msg', JSON.stringify(mydata));</code></pre><h3 id="indexeddb"><a class="header-anchor" href="#indexeddb">Â¶</a>IndexedDB</h3><p>ä¸å¤šä»‹ç»äº†ï¼Œå°±æ˜¯ç®€å•çš„è½®è¯¢</p><h3 id="service-worker"><a class="header-anchor" href="#service-worker">Â¶</a>Service Worker</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener">Service workers</a> æœ¬è´¨ä¸Šå……å½“ Web åº”ç”¨ç¨‹åºã€æµè§ˆå™¨ä¸ç½‘ç»œï¼ˆå¯ç”¨æ—¶ï¼‰ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚è¿™ä¸ª API æ—¨åœ¨åˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œå®ƒä¼šæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶æ ¹æ®ç½‘ç»œæ˜¯å¦å¯ç”¨é‡‡å–æ¥é€‚å½“çš„åŠ¨ä½œã€æ›´æ–°æ¥è‡ªæœåŠ¡å™¨çš„çš„èµ„æºã€‚å®ƒè¿˜æä¾›å…¥å£ä»¥æ¨é€é€šçŸ¥å’Œè®¿é—®åå°åŒæ­¥ APIã€‚<br>Shared Worker åœ¨å®ç°è·¨é¡µé¢é€šä¿¡æ—¶çš„é—®é¢˜åœ¨äºï¼Œå®ƒæ— æ³•ä¸»åŠ¨é€šçŸ¥æ‰€æœ‰é¡µé¢ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è½®è¯¢çš„æ–¹å¼ï¼Œæ¥æ‹‰å–æœ€æ–°çš„æ•°æ®ã€‚æ€è·¯å¦‚ä¸‹ï¼š<br>è®© Shared Worker æ”¯æŒä¸¤ç§æ¶ˆæ¯ã€‚ä¸€ç§æ˜¯ postï¼ŒShared Worker æ”¶åˆ°åä¼šå°†è¯¥æ•°æ®ä¿å­˜ä¸‹æ¥ï¼›å¦ä¸€ç§æ˜¯ getï¼ŒShared Worker æ”¶åˆ°è¯¥æ¶ˆæ¯åä¼šå°†ä¿å­˜çš„æ•°æ®é€šè¿‡postMessageä¼ ç»™æ³¨å†Œå®ƒçš„é¡µé¢ã€‚ä¹Ÿå°±æ˜¯è®©é¡µé¢é€šè¿‡ get æ¥ä¸»åŠ¨è·å–ï¼ˆåŒæ­¥ï¼‰æœ€æ–°æ¶ˆæ¯ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š<br>é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šåœ¨é¡µé¢ä¸­å¯åŠ¨ä¸€ä¸ª Shared Workerï¼Œå¯åŠ¨æ–¹å¼éå¸¸ç®€å•ï¼š</p><pre><code class="language-JS">// æ„é€ å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ Shared Worker åç§°ï¼Œä¹Ÿå¯ä»¥ç•™ç©ºconst sharedWorker = new SharedWorker('../util.shared.js', 'ctc');</code></pre><p>ç„¶åï¼Œåœ¨è¯¥ Shared Worker ä¸­æ”¯æŒ get ä¸ post å½¢å¼çš„æ¶ˆæ¯ï¼š</p><pre><code class="language-js">/* ../util.shared.js: Shared Worker ä»£ç  */let data = null;self.addEventListener('connect', function (e) {    const port = e.ports[0];    port.addEventListener('message', function (event) {        // get æŒ‡ä»¤åˆ™è¿”å›å­˜å‚¨çš„æ¶ˆæ¯æ•°æ®        if (event.data.get) {            data &amp;&amp; port.postMessage(data);        }        // é get æŒ‡ä»¤åˆ™å­˜å‚¨è¯¥æ¶ˆæ¯æ•°æ®        else {            data = event.data;        }    });    port.start();});</code></pre><p>ä¹‹åï¼Œé¡µé¢å®šæ—¶å‘é€ get æŒ‡ä»¤çš„æ¶ˆæ¯ç»™ Shared Workerï¼Œè½®è¯¢æœ€æ–°çš„æ¶ˆæ¯æ•°æ®ï¼Œå¹¶åœ¨é¡µé¢ç›‘å¬è¿”å›ä¿¡æ¯ï¼š</p><pre><code class="language-js">// å®šæ—¶è½®è¯¢ï¼Œå‘é€ get æŒ‡ä»¤çš„æ¶ˆæ¯setInterval(function () {    sharedWorker.port.postMessage({get: true});}, 1000);// ç›‘å¬ get æ¶ˆæ¯çš„è¿”å›æ•°æ®sharedWorker.port.addEventListener('message', (e) =&gt; {    const data = e.data;    const text = '[receive] ' + data.msg + ' â€”â€” tab ' + data.from;    console.log('[Shared Worker] receive message:', text);}, false);sharedWorker.port.start();</code></pre><p>æœ€åï¼Œå½“è¦è·¨é¡µé¢é€šä¿¡æ—¶ï¼Œåªéœ€ç»™ Shared Worker postMessageå³å¯ï¼š</p><pre><code class="language-js">sharedWorker.port.postMessage(mydata);</code></pre><p>æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨addEventListeneræ¥æ·»åŠ  Shared Worker çš„æ¶ˆæ¯ç›‘å¬ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨MessagePort.startæ–¹æ³•ï¼Œå³ä¸Šæ–‡ä¸­çš„sharedWorker.port.start()ï¼›å¦‚æœä½¿ç”¨onmessageç»‘å®šç›‘å¬åˆ™ä¸éœ€è¦ã€‚</p><h3 id="broadcast-channel"><a class="header-anchor" href="#broadcast-channel">Â¶</a>BroadCast Channel</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Broadcast_Channel_API" target="_blank" rel="noopener">Broadcast Channel API</a> å¯ä»¥å®ç°åŒ æº ä¸‹æµè§ˆå™¨ä¸åŒçª—å£ï¼ŒTabé¡µï¼Œframeæˆ–è€… iframe ä¸‹çš„ æµè§ˆå™¨ä¸Šä¸‹æ–‡ (é€šå¸¸æ˜¯åŒä¸€ä¸ªç½‘ç«™ä¸‹ä¸åŒçš„é¡µé¢)ä¹‹é—´çš„ç®€å•é€šè®¯ã€‚</p><p>ç®€å•çš„apiå±•ç¤ºï¼š</p><pre><code class="language-js">// è¿æ¥åˆ°å¹¿æ’­é¢‘é“,åœ¨å¤šä¸ªé¡µé¢æ³¨å†ŒåŒä¸€ä¸ªé¢‘é“var bc = new BroadcastChannel('test_channel');// å‘é€ç®€å•æ¶ˆæ¯çš„ç¤ºä¾‹bc.postMessage('This is a test message.');// ç®€å•ç¤ºä¾‹ï¼Œç”¨äºå°†äº‹ä»¶æ‰“å°åˆ°æ§åˆ¶å°bc.onmessage = function (ev) { console.log(ev); }// æ–­å¼€é¢‘é“è¿æ¥bc.close()</code></pre><h2 id="éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡"><a class="header-anchor" href="#éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡">Â¶</a>éåŒæºé¡µé¢ä¹‹é—´çš„é€šä¿¡</h2><h3 id="åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg"><a class="header-anchor" href="#åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg">Â¶</a>åˆ©ç”¨ä¸­é—´iframeä½œä¸ºbrideg</h3><p>ä½¿ç”¨ä¸€ä¸ªç”¨æˆ·ä¸å¯è§çš„ iframe ä½œä¸ºâ€œæ¡¥â€ã€‚ç”±äº iframe ä¸çˆ¶é¡µé¢é—´å¯ä»¥é€šè¿‡æŒ‡å®šoriginæ¥å¿½ç•¥åŒæºé™åˆ¶ï¼Œå› æ­¤å¯ä»¥åœ¨æ¯ä¸ªé¡µé¢ä¸­åµŒå…¥ä¸€ä¸ª iframe ï¼ˆä¾‹å¦‚ï¼š<a href="http://sample.com/bridge.html%EF%BC%89%EF%BC%8C%E8%80%8C%E8%BF%99%E4%BA%9B" target="_blank" rel="noopener">http://sample.com/bridge.htmlï¼‰ï¼Œè€Œè¿™äº›</a> iframe ç”±äºä½¿ç”¨çš„æ˜¯ä¸€ä¸ª urlï¼Œå› æ­¤å±äºåŒæºé¡µé¢ï¼Œå…¶é€šä¿¡æ–¹å¼å¯ä»¥å¤ç”¨ä¸Šé¢ç¬¬ä¸€éƒ¨åˆ†æåˆ°çš„å„ç§æ–¹å¼ã€‚</p><pre><code class="language-js">/* ä¸šåŠ¡é¡µé¢ä»£ç  */window.addEventListener('message', function (e) {    // â€¦â€¦ do something});/* ä¸šåŠ¡é¡µé¢ä»£ç å‘ä¿¡æ¯ */window.frames[0].window.postMessage(mydata, '*');</code></pre><h3 id="åˆ©ç”¨websocket"><a class="header-anchor" href="#åˆ©ç”¨websocket">Â¶</a>åˆ©ç”¨websocket</h3><p>åˆ©ç”¨åç«¯æ–°å¼€ä¸€ä¸ªwebsocketæœåŠ¡ï¼Œå¤šä¸ªé¡µé¢éƒ½æ¥å—æœåŠ¡ç«¯çš„æ¨é€ï¼Œä¹Ÿå¯ä»¥å®ç°åŒæ­¥çŠ¶æ€ã€‚</p><hr><p>åŸæ–‡åœ°å€ï¼Œæœ¬æ–‡ç¨ä½œåˆ æ”¹ï¼š<br><a href="https://juejin.cn/post/6844903811232825357" target="_blank" rel="noopener">https://juejin.cn/post/6844903811232825357</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearchä½¿ç”¨</title>
      <link href="/blog/posts/5e47ac86/"/>
      <url>/blog/posts/5e47ac86/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è®°å½•ä¸€æ¬¡å°†åƒä¸‡çº§åˆ«çš„æ•°æ®åº“è¡¨è¿ç§»åˆ°Elasticsearch çš„è¿‡ç¨‹</p></blockquote><h2 id="èƒŒæ™¯"><a class="header-anchor" href="#èƒŒæ™¯">Â¶</a>èƒŒæ™¯</h2><p>æˆ‘ä»¬æœ‰ä¸€å¼ åƒä¸‡çº§åˆ«ï¼Œå¹¶ä¸”æ¯å¤©éƒ½æ–°å¢å°†è¿‘ä¸‡æ¡æ•°æ®ï¼Œæ›´æ–°ä¹Ÿåœ¨åå‡ ä¸‡çš„ä¸šåŠ¡è¡¨ï¼Œè¿™ä¸ªä¸šåŠ¡è¡¨å¯ä»¥è¯´æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå› ä¸ºå†å²é—®é¢˜ï¼Œè¡¨å­—æ®µé™¤äº†åŸºæœ¬çš„å­—æ®µå¤–ï¼Œè¿˜å­˜äº†jsonï¼Œ ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»£è¡¨å¤šä¸šåŠ¡ï¼Œ ç”šè‡³å­˜äº†äºŒè¿›åˆ¶çš„å¯¹è±¡ï¼Œ åŒæ—¶ï¼Œæˆ‘ä»¬çš„è¿è¥é¡µé¢éœ€è¦æ ¹æ®å°†è¿‘20ä¸ªæŸ¥è¯¢æ¡ä»¶å¯¹è¿™ä¸ªè¡¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€æ–¹é¢å› ä¸ºæ•°æ®é‡å¤§ï¼Œå¤šä¸ªæŸ¥è¯¢æ¡ä»¶ç»„åˆèµ·æ¥ï¼ŒæŸ¥å‡ºæ•°æ®æœ‰æ—¶ä¹Ÿè¦åå‡ ç§’ï¼Œç”šè‡³åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œé¡µé¢ç›´æ¥è¶…æ—¶ï¼Œç”¨æˆ·ä½“éªŒå¾ˆä¸å¥½ï¼Œå¦ä¸€æ–¹é¢ï¼Œæœ‰äº›å­—æ®µéšè—åœ¨jsonå†…éƒ¨ï¼Œæˆ–è€…äºŒè¿›åˆ¶çš„å¯¹è±¡é‡Œé¢ï¼Œé™åˆ¶äº†å…¶ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ã€‚</p><h2 id="é¢„ç ”"><a class="header-anchor" href="#é¢„ç ”">Â¶</a>é¢„ç ”</h2><p>äºæ˜¯æˆ‘èŠ±äº†ä¸¤å¤©çš„æ—¶é—´äº†è§£äº†Elasticsearch æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥åšä»€ä¹ˆï¼Œå¤§æ¦‚çš„æ“ä½œæ­¥éª¤ï¼ŒæŸ¥è¯¢apiï¼Œä»¥åŠé…å¥—çš„ç”Ÿæ€ï¼ŒåˆèŠ±äº†ä¸€å¤©åœ¨æµ‹è¯•ç¯å¢ƒæ­å»ºäº†ä¸€å¥—elkï¼Œå°±å¼€å§‹äº†è¿ç§»çš„æµ‹è¯•ã€‚<br>psï¼šåœ¨è¿™é‡Œè¯´æ˜ä¸€ä¸‹<br>Elasticsearchæ˜¯ä¸ªå¼€æºåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œå®ƒçš„ç‰¹ç‚¹æœ‰ï¼šåˆ†å¸ƒå¼ï¼Œé›¶é…ç½®ï¼Œè‡ªåŠ¨å‘ç°ï¼Œç´¢å¼•è‡ªåŠ¨åˆ†ç‰‡ï¼Œç´¢å¼•å‰¯æœ¬æœºåˆ¶ï¼Œrestfulé£æ ¼æ¥å£ï¼Œå¤šæ•°æ®æºï¼Œè‡ªåŠ¨æœç´¢è´Ÿè½½ç­‰ã€‚<br>Logstashæ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„å·¥å…·ï¼Œä»–å¯ä»¥å¯¹ä½ çš„æ—¥å¿—è¿›è¡Œæ”¶é›†ã€è¿‡æ»¤ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¾›ä»¥åä½¿ç”¨ï¼ˆå¦‚ï¼Œæœç´¢ï¼‰ã€‚<br>Kibana ä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºå’Œå…è´¹çš„å·¥å…·ï¼Œå®ƒKibanaå¯ä»¥ä¸º Logstash å’Œ ElasticSearch æä¾›çš„æ—¥å¿—åˆ†æå‹å¥½çš„ Web ç•Œé¢ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ±‡æ€»ã€åˆ†æå’Œæœç´¢é‡è¦æ•°æ®æ—¥å¿—<br>elkå½“ç„¶å°±æ˜¯è¿™ä¸‰éƒ¨åˆ†çš„ç»„åˆäº†ã€‚</p><h2 id="ç”¨logstash-åŒæ­¥æ•°æ®"><a class="header-anchor" href="#ç”¨logstash-åŒæ­¥æ•°æ®">Â¶</a>ç”¨logstash åŒæ­¥æ•°æ®</h2><p>logstash æœ¬èº«çš„é…ç½®ä¹Ÿä¸å¤æ‚ï¼Œåˆ†ä¸º<code>input</code>ï¼Œ<code>filter</code>ï¼Œ<code>output</code> ä¸‰éƒ¨åˆ†ã€‚<br><code>input</code> å’Œ <code>output</code>æ”¯æŒå„ç§æ’ä»¶ã€‚<br>æ¯”å¦‚<code>input</code> æ”¯æŒ <code>mysql</code>ï¼Œ<code>file</code>ï¼Œ<code>http</code>ï¼Œç­‰ç­‰ï¼Œæœ€æ–°çš„<code>input</code> ç”šè‡³æ”¯æŒ<code>Twitter</code>ã€‚<br><code>output</code> æ”¯æŒ <code>elasticsearch</code>ï¼Œ<code>email</code>ï¼Œ<code>rabbitmq</code>ç­‰ç­‰ã€‚<br>æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æ’ä»¶å¯ä»¥ç‚¹å‡»<a href="https://www.elastic.co/guide/en/logstash/7.12/introduction.html" target="_blank" rel="noopener">è¿™é‡Œ</a></p><p>è¿™ä¸€æ­¥æœ¬æ¥æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºlogstash æœ¬èº«å°±æ”¯æŒåŒæ­¥mysqlæ•°æ®åˆ°esï¼Œåªéœ€è¦ç®€å•çš„é…ç½®ï¼ŒåŠ ä¸Šjsonçš„ä¸­é—´filterï¼Œå°±å¯ä»¥å®Œæˆäº†ï¼Œä½†æ˜¯å°±æ˜¯äºŒè¿›åˆ¶çš„æ•°æ®å¯¹è±¡è¦è§£æå‡ºæ¥æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜å¥½logstashæ”¯æŒç”¨rubyä½œä¸ºè„šæœ¬ï¼Œäºæ˜¯å°±éœ€è¦ç¼–å†™ä¸€ä¸ªrubyè„šæœ¬ï¼ŒæŠŠä»mysqlé‡Œè¯»å‡ºæ¥çš„äºŒè¿›åˆ¶è½¬åŒ–æˆå¯¹è±¡ï¼Œæˆ‘ä»¬å­˜çš„äºŒè¿›åˆ¶æ˜¯protobufè½¬åŒ–çš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œéœ€è¦ç”¨ä¸€ä¸ªprotobufçš„åº“ æŠŠäºŒè¿›åˆ¶è½¬æˆrubyå¯¹è±¡ï¼Œç„¶ååœ¨è§£æè¿™ä¸ªå¯¹è±¡ï¼Œåˆ†å‰²æˆä¸åŒçš„å­—æ®µå­˜å…¥esã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»å†…éƒ¨çš„å¹³å°ï¼Œä¸‹è½½äº†åŸå§‹çš„protobufæ–‡ä»¶ï¼Œç„¶ååœ¨å…¬å¸çš„ç¼–è¯‘æœºä¸Šï¼Œä¾¿æˆrubyçš„classæ–‡ä»¶ï¼Œä½†æ˜¯æ€ä¹ˆä»äºŒè¿›åˆ¶è§£ç åˆ°å¯¹è±¡å‘¢ï¼Ÿæˆ‘åˆç¿»çœ‹äº†ä¸‹logstashçš„æ–‡æ¡£ï¼Œå‘ç°ä»–æœ‰ä¸€ä¸ªcodecçš„æ’ä»¶æ˜¯ç›´æ¥æ”¯æŒè§£ç pbå¯¹è±¡çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶åªæ”¯æŒæ¯æ¬¡è§£æä¸€è¡Œï¼Œä½†æ˜¯æˆ‘ä»mysqlè¯»å‡ºæ¥çš„æ•°æ®ï¼Œæ˜¯ä¸€è¡Œsqlæ’å™ç»“æœï¼Œé‡Œé¢åªæœ‰å‡ ä¸ªå­—æ®µæ˜¯äºŒè¿›åˆ¶çš„ï¼Œäºæ˜¯æˆ‘æ‰¾åˆ°äº†è¿™ä¸ªæ’ä»¶<code>logstash-codec-protobuf</code>çš„github<a href="https://github.com/logstash-plugins/logstash-codec-protobuf" target="_blank" rel="noopener">åœ°å€</a>ï¼Œç®€å•çœ‹äº†ä¸‹æºç å’Œ<code>api</code>ï¼Œæºç ä¸å¤šåŠ ä¸Šæ³¨é‡Šä¹Ÿæ‰700å¤šè¡Œï¼Œè™½ç„¶æ²¡å­¦è¿‡rubyä½†ä¹Ÿå¤§æ¦‚çœ‹å‡ºæ¥ä¸€äº›é€»è¾‘ï¼Œçœ‹äº†ä¸‹ä»–çš„ä¾èµ–ï¼Œ</p><pre><code class="language-ruby">require 'logstash/codecs/base'require 'logstash/util/charset'require 'google/protobuf' # for protobuf3require 'protocol_buffers' # https://github.com/codekitchen/ruby-protocol-buffers, for protobuf2</code></pre><p>ä¸»è¦èµ·ä½œç”¨çš„åº”è¯¥æ˜¯</p><pre><code class="language-ruby">require 'google/protobuf' # for protobuf3require 'protocol_buffers</code></pre><p>æ•´ä¸ªä»£ç æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­æ³•ï¼Œ å®šä¹‰äº†ä¸€ä¸ªclass</p><pre><code class="language-ruby">class LogStash::Codecs::Protobuf &lt; LogStash::Codecs::Base</code></pre><p>é‡Œé¢æœ‰<code>register</code>,<code>decode</code>,<code>encode</code> ç­‰æ–¹æ³•ï¼Œçœ‹æ¥èµ·ä½œç”¨çš„å°±æ˜¯<code>decode</code> äº†ï¼Œé©¬ä¸Šæ‹¿æ¥æ”¾åœ¨è„šæœ¬é‡Œé¢è·‘äº†ä¸€ä¸‹ï¼ŒæˆåŠŸä»äºŒè¿›åˆ¶è§£æå¾—åˆ°äº†rubyå¯¹è±¡ã€‚</p><p>æ¥ä¸‹æ¥å°±ç®€å•äº†ï¼Œæ³¨æ„ç»†èŠ‚ï¼Œå¯¹ç…§å­—æ®µå¼€å§‹åŒæ­¥ã€‚å¤§æ¦‚èŠ±äº†25ä¸ªå°æ—¶ï¼Œå°±æŠŠæ‰€æœ‰çš„æ•°æ®åŒæ­¥åˆ°äº†es,å¢é‡çš„æ•°æ®ï¼Œæˆ‘ç”¨<code>updatetime</code>ä½œä¸ºæŸ¥è¯¢æ¡ä»¶æ›´æ–°ã€‚</p><h2 id="ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®"><a class="header-anchor" href="#ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®">Â¶</a>ç”¨phpå®¢æˆ·ç«¯æŸ¥è¯¢æ•°æ®</h2><p>æœ€åï¼Œæˆ‘ç”¨phpå®¢æˆ·ç«¯ï¼Œé€šè¿‡httpè°ƒç”¨çš„å½¢å¼ï¼Œä½¿ç”¨esæŸ¥è¯¢è¯­æ³•ï¼Œå¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œæœç„¶å¿«äº†å¾ˆå¤šï¼Œå¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ï¼Œä¹Ÿèƒ½åœ¨1så·¦å³æŸ¥è¯¢å‡ºæ¥ã€‚</p><p>è¿™é‡Œè¦è¯´æ˜çš„æ˜¯<code>kibana</code>é‡Œé¢æœ‰ä¸ªdevtoolçš„é¡µé¢ï¼Œå¯ä»¥åœ¨é‡Œé¢å†™æŸ¥è¯¢è¯­å¥éªŒè¯ç»“æœï¼Œä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ã€‚</p><h2 id="é‡åˆ°çš„å‘"><a class="header-anchor" href="#é‡åˆ°çš„å‘">Â¶</a>é‡åˆ°çš„å‘</h2><p>ä¸»è¦æ˜¯åˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™ï¼Œå¾ˆå¤§çš„æ•°æ®é‡ä¸‹ä¸èƒ½ä»¥ä¸€èˆ¬çš„æŸ¥è¯¢è¯­æ³•ï¼Œå³from to è¿™ç§ï¼Œå› ä¸ºåœ¨æ·±åº¦åˆ†é¡µçš„æƒ…å†µä¸‹ï¼Œè¿™ç§ä½¿ç”¨æ–¹å¼æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼Œæ¯”å¦‚from = 5000, size=10ï¼Œ es éœ€è¦åœ¨å„ä¸ªåˆ†ç‰‡ä¸ŠåŒ¹é…æ’åºå¹¶å¾—åˆ°5000*10æ¡æœ‰æ•ˆæ•°æ®ï¼Œç„¶ååœ¨ç»“æœé›†ä¸­å–æœ€å10æ¡æ•°æ®è¿”å›ã€‚</p><p>æˆ‘ä»¬å°±é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå…ˆæŠŠ<code>max_result_window</code>è°ƒå¤§äº†ä¸€äº›ï¼Œåæ¥ç”¨æ·±åº¦åˆ†é¡µä»£æ›¿ï¼š<br>es æä¾›äº† <code>Scroll API</code> çš„æ–¹å¼è¿›è¡Œåˆ†é¡µè¯»å–ã€‚åŸç†ä¸Šæ˜¯å¯¹æŸæ¬¡æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ªæ¸¸æ ‡ scroll_id ï¼Œ åç»­çš„æŸ¥è¯¢åªéœ€è¦æ ¹æ®è¿™ä¸ªæ¸¸æ ‡å»å–æ•°æ®ï¼Œç›´åˆ°ç»“æœé›†ä¸­è¿”å›çš„ hits å­—æ®µä¸ºç©ºï¼Œå°±è¡¨ç¤ºéå†ç»“æŸã€‚scroll_id çš„ç”Ÿæˆå¯ä»¥ç†è§£ä¸ºå»ºç«‹äº†ä¸€ä¸ªä¸´æ—¶çš„å†å²å¿«ç…§ï¼Œåœ¨æ­¤ä¹‹åçš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œä¸ä¼šå½±å“åˆ°è¿™ä¸ªå¿«ç…§çš„ç»“æœã€‚<br>ä½†æ˜¯è¿™ä¸ªä¹Ÿä¸å…è®¸éšæœºè·³é¡µï¼Œé€‚åˆç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ç¿»é¡µçš„åœºæ™¯ã€‚</p><p>ps: å…³äºæ·±åº¦åˆ†é¡µä¼˜åŒ–å¯ä»¥çœ‹ä¸‹<a href="https://juejin.cn/post/6850037275456339975" target="_blank" rel="noopener">è¿™é‡Œ</a></p><h2 id="elkå¾ˆå¤æ‚çš„"><a class="header-anchor" href="#elkå¾ˆå¤æ‚çš„">Â¶</a>elkå¾ˆå¤æ‚çš„</h2><p>è™½ç„¶åŸºæœ¬ç¬¦åˆäº†ä½¿ç”¨åœºæ™¯ï¼Œä½†æ˜¯å…³äºelkæˆ‘æ„Ÿè§‰è¿˜æ˜¯åªäº†è§£äº†çš®æ¯›ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Œæ€ä¹ˆå…³è”æŸ¥è¯¢ï¼Œæ€ä¹ˆè®¾ç½®ç´¢å¼•ç»“æ„æ›´é«˜æ•ˆï¼Œæ›´å¤æ‚çš„æŸ¥è¯¢è¯­å¥ï¼Œè¿™äº›éƒ½è¿˜æ²¡æ¥è§¦åˆ°ã€‚<br>ps: ç½‘ä¸Šå¾ˆå¤šå…³äºæ€§èƒ½ä¼˜åŒ–çš„æ–‡ç« ï¼Œæ¯”å¦‚<a href="https://zhuanlan.zhihu.com/p/67362440" target="_blank" rel="noopener">è¿™ç¯‡</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Elasticsearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2é“ç®—æ³•é¢˜çš„ä¼˜åŒ–è¿‡ç¨‹</title>
      <link href="/blog/posts/7e570359/"/>
      <url>/blog/posts/7e570359/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘åˆ·äº†é‚£ä¹ˆå¤šçš„ç®—æ³•,æ„Ÿè§‰è‡ªå·±åˆšåˆšæœ‰ç‚¹è¿›æ­¥,åˆè¢«ä¸¤é“ç®€å•é¢˜ææ™•äº†ğŸ™ƒğŸ™ƒ,å½»åº•æš´éœ²äº†è‡ªå·±å¯¹æ—¶é—´å¤æ‚åº¦æŒæ¡ä¸è¶³çš„é—æ¼,å› æ­¤åœ¨è¿™é‡Œè®°å½•ä¸‹ä¼˜åŒ–çš„è¿‡ç¨‹.</p></blockquote><h3 id="ç¬¬ä¸€é¢˜"><a class="header-anchor" href="#ç¬¬ä¸€é¢˜">Â¶</a>ç¬¬ä¸€é¢˜</h3><p>ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  æœ€å¤šå‡ºç°ä¸¤æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚</p><p>ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [1,1,1,2,2,3]<br>è¾“å‡ºï¼š5, nums = [1,1,2,2,3]<br>è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [0,0,1,1,1,1,2,3,3]<br>è¾“å‡ºï¼š7, nums = [0,0,1,1,2,3,3]<br>è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸ºÂ 0, 0, 1, 1, 2, 3, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚<br>ä¸€çœ‹åˆ°é¢˜ç›®,è§‰å¾—ä¸éš¾,é©¬ä¸Šå¼€å§‹å†™ä»£ç ,å°±æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹,å‡ åˆ†é’Ÿæå®š.</p><pre><code class="language-javaScript">var removeDuplicates = function(nums) {        let len = nums.length    let last = nums[len-1]    let count = 1    for(let i = nums.length-2;i&gt;=0;i--) {        if(nums[i] === last) {            count++            if(count&gt;2) {                len--                for(let j = i;j&lt;len;j++) {                    nums[j] = nums[j+1]                }            }        }else {            count = 1            last = nums[i]        }       }    return len};</code></pre><p>åˆšå¥½è¿™å‡ å¤©å‡ ä¸ªåŒäº‹éƒ½åœ¨æ‰“å¡æ¯æ—¥ä¸€é¢˜,æˆ‘ä»¬äº¤æµäº†ä¸€ä¸‹,æˆ‘æŠŠè‡ªå·±çš„ä»£ç ç»™åŒäº‹çœ‹äº†çœ‹,ä¸€ä¸ªåŒäº‹ç«‹é©¬è¯´,ä½ è¿™ä¸ªæ—¶é—´å¤æ‚åº¦å¤ªé«˜äº†,æˆ‘ä»”ç»†çœ‹äº†çœ‹ä»£ç ,ç¡®å®,å¾ªç¯é‡Œé¢ç§»åŠ¨æ•°ç»„,å¤§æ¦‚å¤æ‚åº¦O(n^2).</p><p>å¬äº†åŒäº‹çš„çš„è§£æ³•,æˆ‘é¡¿æ‚Ÿäº†,åŸæ¥åŒæŒ‡é’ˆå°±å¥½äº†,å¿«æ…¢æŒ‡é’ˆ,æ…¢æŒ‡é’ˆä¿æŒé•¿åº¦,å¿«æŒ‡é’ˆæ¯æ¬¡+1ç”¨æ¥æ£€æŸ¥åé¢çš„å…ƒç´ ,é‡åˆ°ä¸åŒçš„å…ƒç´ ,å¹¶ä¸”å‰æ–¹å·²ç»å‡ºç°äº†ä¸¤ä¸ªé‡å¤çš„,å°±è¦†ç›–å‰æ–¹æ…¢æŒ‡é’ˆçš„å…ƒç´ ,ç„¶åæ…¢æŒ‡é’ˆç»§ç»­+1</p><p>ä¸‹é¢æ˜¯ä»£ç :</p><pre><code class="language-javaScript">var removeDuplicates = function(nums) {    let n = nums.length    if(n&lt;2) {        return n    }    let slow = 2    let fast = 2        while(fast&lt;n) {        if(nums[slow-2] !== nums[fast]) {            nums[slow] = nums[fast]            slow++        }        fast++    }        return slow};</code></pre><p>è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±è¢«ä¼˜åŒ–åˆ°äº†O(n),åªéå†äº†ä¸€è¾¹.<br>ç»è¿‡è‡ªå·±çš„æµ‹è¯•,åœ¨é•¿åº¦ä¸º999999,ä¸‰ä¸ªä¸€ç»„ç›¸åŒçš„æ•°ç»„çš„è¿è¡Œæµ‹è¯•ä¸‹,ç¬¬äºŒç§èŠ±è´¹å¤§æ¦‚3ms,è€Œç¬¬ä¸€ç§,å±…ç„¶ç”¨äº†100000+ms,ç›¸å·®äº†3ä¸‡å€!!!ğŸ¤¯ ğŸ¤¯ ğŸ¤¯ ğŸ¤¯ ğŸ¤¯</p><h3 id="ç¬¬äºŒé¢˜"><a class="header-anchor" href="#ç¬¬äºŒé¢˜">Â¶</a>ç¬¬äºŒé¢˜</h3><p>å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚</p><p>æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1<br>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [2,5,3,5], target = 6</p><p>è¾“å‡ºï¼š1</p><p>è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸ nums[2]ã€‚</p><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [2,2,1,9], target = 10</p><p>è¾“å‡ºï¼š4</p><p>è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼š<br>nums[0] + nums[1] = 4<br>nums[0] + nums[2] = 3<br>nums[1] + nums[2] = 3<br>nums[2] + nums[3] = 10</p><p>ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜,å¿ƒæƒ³è¿™ä¹ˆç®€å•çš„å—?<br>ç«‹é©¬åˆæ˜¯åŒå±‚å¾ªç¯éå†ä¸€è¾¹,æœä¸å…¶ç„¶è¶…æ—¶äº†,ä¸€çœ‹ç»™çš„æµ‹è¯•ç”¨ä¾‹,é•¿åº¦ <code>2 &lt;= nums.length &lt;= 10^5</code><br>è€ƒè™‘åˆ°æ²¡æœ‰è´Ÿæ•°,äºæ˜¯åŠ äº†ä¸ªåˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°çš„é•¿åº¦æ˜¯å¦å¤§äºtarget,ç„¶è€Œè¿˜æ˜¯è¶…æ—¶.<br>æƒ³äº†æƒ³,å…ˆæ’ä¸‹é¡ºåºå§,ç„¶åäºŒåˆ†æ‰¾åˆ°å°äºtargetçš„éƒ¨åˆ†,åœ¨è¿™ä¸ªèŒƒå›´å†…åˆ¤æ–­,åæ¥åˆæƒ³,å¦‚æœtargetå¾ˆå¤§æ€ä¹ˆåŠ?ä¸è¿˜æ˜¯è¦éå†å¾ˆå¤šæ¬¡å—?<br>æƒ³å•Šæƒ³,æ­»æ‰nä¸ªè„‘ç»†èƒ,mæ ¹å¤´å‘å,æˆ‘æ˜ç™½äº†,åœ¨ä¸€ä¸ªé¡ºåºçš„æ•°ç»„é‡Œ,å¦‚æœä¸‹æ ‡iå’Œä¸‹æ ‡jæ»¡è¶³å°äºtarget,é‚£ä¹ˆiå’Œå…¶ä»–å°äºjçš„å…¶ä»–ç»„åˆéƒ½æ»¡è¶³,è¿™ä¸ªä¸ªæ•°æ˜¯(j-i)ä¸ª,ç„¶åi++ç»§ç»­åˆ¤æ–­å°±è¡Œäº†,å¦‚æœå¤§äºtargetäº†,å°±å¤§æ•°çš„ä¸‹æ ‡,j å‘å·¦ç§»åŠ¨j-- å°±è¡Œäº†. æƒ³æ˜ç™½å,æ‰å‘ç°å·²ç»è¿‡å»1ä¸ªå°æ—¶äº†.é©¬ä¸ŠåŠ¨æ‰‹å†™ä»£ç </p><pre><code class="language-javaScript">var purchasePlans = function(nums, target) {    const MOD = 1000000007    nums.sort((a,b) =&gt; a-b)    let i = 0    let  j = nums.length-1    let res = 0    while(i&lt;j) {        if(nums[i] + nums[j] &lt;= target) {            res+=j-i            res = res%MOD            i++        }else {            j--        }    }    return res};</code></pre><p>è¿™æ ·å°±O(n)äº†,åŒæ—¶,ä¸è¦å¿˜äº†æ¨¡MOD.</p><p>æ³¨æ„æ—¶é—´å¤æ‚åº¦,ä¸è¦å†å†™ä½æ•ˆç‡çš„ä»£ç äº†ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</title>
      <link href="/blog/posts/fe80343/"/>
      <url>/blog/posts/fe80343/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€ä¸ªè®°å½•æ—¥å¸¸ç»“å±€æµè§ˆå™¨å…¼å®¹é—®é¢˜çš„å¤‡å¿˜å½•</p></blockquote><ol><li>å¦‚ä½•æŸ¥çœ‹æŸä¸ªjavaScript å¯¹è±¡æˆ–è€…css å±æ€§çš„å…¼å®¹æ€§</li></ol><p>åˆ°MNDæœç´¢éœ€è¦æŸ¥çœ‹çš„å†…å®¹,é¡µé¢åº•éƒ¨æä¾›ä¸€ä»½ä¸åŒå¹³å°(æ¯”å¦‚PCç«¯,æ‰‹æœºç«¯,nodeç«¯)ä»¥åŠä¸åŒæµè§ˆå™¨è¿›è¡Œå’Œå…¶å„ä¸ªå†å²ç‰ˆæœ¬çš„å…¼å®¹è¡¨æ ¼,å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°ä½ è¦ç”¨çš„æŠ€æœ¯æ˜¯å¦æ”¯æŒä¸šåŠ¡è¦†ç›–çš„æµè§ˆå™¨æˆ–è€…å¹³å°.</p><ol start="2"><li>æµè§ˆå™¨å¼ºåˆ¶ç”¨webkitå†…æ ¸<br>å›½å†…éƒ¨åˆ†åŒæ ¸æµè§ˆå™¨å¦‚ï¼š360æé€Ÿæµè§ˆå™¨ã€æœç‹—æµè§ˆå™¨ã€ç™¾åº¦æµè§ˆå™¨ç­‰ç­‰ï¼Œè¿™äº›æµè§ˆå™¨éƒ½å·ç§°æ‹¥æœ‰ä¸¤ä¸ªå†…æ ¸ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±åˆ‡æ¢ã€‚åŒæ ¸æµè§ˆå™¨çš„2ä¸ªå†…ä¸ªåˆ†åˆ«ä¸ºæé€Ÿå†…æ ¸ï¼ˆwebkitå†…æ ¸ï¼‰ï¼Œå…¼å®¹å†…æ ¸ï¼ˆtridentå†…æ ¸ï¼‰ã€‚ä½¿ç”¨æé€Ÿå†…æ ¸æµè§ˆå™¨ä¼šæŒ‰ç…§w3cçš„æ–°æ ‡å‡†æ¸²æŸ“é¡µé¢ï¼Œå…¶ç»“æœæ˜¯æ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œè§„èŒƒæ€§æ›´å¥½ã€‚è€Œå…¼å®¹å†…æ ¸ä¹Ÿå¹¶éä¸€æ— æ˜¯å¤„ï¼Œå›½å†…å¾ˆå¤šæ”¿åºœã€é“¶è¡Œç±»ç½‘ç«™åœ¨ç¼–å†™ä¹‹åˆè€ƒè™‘äº†å…¼å®¹æ—§ç‰ˆæœ¬ieçš„tridentå†…æ ¸ï¼Œå…¶ä»£ç å¹¶éä¸ºw3cè§„èŒƒçš„æ ‡å‡†ï¼Œè€Œæ˜¯æµè§ˆå™¨å‚å•†è‡ªå®šä¹‰çš„æ¨¡å¼ï¼Œè¿™ç±»ç½‘ç«™åˆ™å¿…é¡»ä½¿ç”¨å…¼å®¹æ¨¡å¼æ‰“å¼€ï¼Œå¦‚æœä½¿ç”¨æé€Ÿæ¨¡å¼æ‰“å¼€å°±ä¼šäº§ç”Ÿå¸ƒå±€é”™ä¹±ç­‰é—®é¢˜ã€‚</li></ol><p>å¯ä»¥ç”¨ä¸‹é¢çš„æ ‡ç­¾å¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨æé€Ÿå†…æ ¸:</p><meta name="renderer" content="webkit"><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å…¼å®¹çš„å†™æ³•:</p><meta name="renderer" content="webkit|ie-comp|ie-stand">è¿™é‡Œä¼šæ ¹æ®å…ˆåé¡ºåº,å¯ç”¨æ”¯æŒçš„å†…æ ¸,ä¸æ”¯æŒä¹Ÿä¸ä¼š<ol start="3"><li>é‡ç½®æ ·å¼<br>ä¸åŒçš„æµè§ˆå™¨ä¹‹é—´åŸºæœ¬æ ·å¼å¾ˆä¸ä¸€æ ·ï¼Œæ¯”å¦‚IEæµè§ˆå™¨ä½¿ç”¨ieç›’å­æ¨¡å‹ï¼Œç°ä»£æµè§ˆå™¨å¤§å¤šä½¿ç”¨æ ‡å‡†ç›’å­æ¨¡å‹ã€‚ä»–ä»¬ä¹‹é—´çš„å®½åº¦è®¡ç®—å¾ˆä¸ä¸€æ ·ã€‚<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨reset.cssé‡ç½®ä¸€ä¸‹æ ·å¼äº†</li></ol><pre><code class="language-css">@charset &quot;utf-8&quot;;/* CSS Document */html, body, div, span, applet, object, iframe,h1, h2, h3, h4, h5, h6, p, blockquote, pre,a, abbr, acronym, address, big, cite, code,del, dfn, em, font, img, ins, kbd, q, s, samp,small, strike, strong, sub, sup, tt, var,b, u, i, center,dl, dt, dd, ol, ul, li,fieldset, form, label, legend,table, caption, tbody, tfoot, thead, tr, th, td {    margin: 0;    padding: 0;    border: 0;    outline: 0;    font-size: 100%;    vertical-align: baseline;    background: transparent;}body {    line-height: 1;}ol, ul {    list-style: none;}blockquote, q {    quotes: none;}blockquote:before, blockquote:after,q:before, q:after {    content: '';    content: none;}/* remember to define focus styles! */:focus {    outline: 0;}/* remember to highlight inserts somehow! */ins {    text-decoration: none;}del {    text-decoration: line-through;}/* tables still need 'cellspacing=&quot;0&quot;' in the markup */table {    border-collapse: collapse;    border-spacing: 0;}/* æ¸…é™¤æµ®åŠ¨ */.clearfloat:after{display:block;clear:both;content:&quot;&quot;;visibility:hidden; height:0;} .clearfloat{zoom:1} </code></pre><ol start="4"><li>æµè§ˆå™¨ç±»å‹åˆ¤æ–­</li></ol><pre><code class="language-javaScript">// æµè§ˆå™¨ç±»å‹åˆ¤æ–­function browserType () {    var userAgent = navigator.userAgent; //å–å¾—æµè§ˆå™¨çš„userAgentå­—ç¬¦ä¸²    var isOpera = userAgent.indexOf(&quot;Opera&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦Operaæµè§ˆå™¨    var isIE = window.ActiveXObject || &quot;ActiveXObject&quot; in window    var isEdge = userAgent.indexOf(&quot;Edge&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦IEçš„Edgeæµè§ˆå™¨    var isFF = userAgent.indexOf(&quot;Firefox&quot;) &gt; -1; //åˆ¤æ–­æ˜¯å¦Firefoxæµè§ˆå™¨    var isSafari = userAgent.indexOf(&quot;Safari&quot;) &gt; -1 &amp;&amp; userAgent.indexOf(&quot;Chrome&quot;) == -1; //åˆ¤æ–­æ˜¯å¦Safariæµè§ˆå™¨    var isChrome = userAgent.indexOf(&quot;Chrome&quot;) &gt; -1 &amp;&amp; userAgent.indexOf(&quot;Safari&quot;) &gt; -1 &amp;&amp; !isEdge; //åˆ¤æ–­Chromeæµè§ˆå™¨    if (isIE) {        var reIE = new RegExp(&quot;MSIE (\\d+\\.\\d+);&quot;);        reIE.test(userAgent);        var fIEVersion = parseFloat(RegExp[&quot;$1&quot;]);        if (userAgent.indexOf('MSIE 6.0') != -1) {            return &quot;IE6&quot;;        } else if (fIEVersion == 7) {            return &quot;IE7&quot;;        }        else if (fIEVersion == 8) {            return &quot;IE8&quot;;        }        else if (fIEVersion == 9) {            return &quot;IE9&quot;;        }        else if (fIEVersion == 10) {            return &quot;IE10&quot;;        }        else if (userAgent.toLowerCase().match(/rv:([\d.]+)\) like gecko/)) {            return &quot;IE11&quot;;        }        else {            return &quot;0&quot;        }//IEç‰ˆæœ¬è¿‡ä½    }    if (isFF) {        return &quot;FF&quot;;    }    if (isOpera) {        return &quot;Opera&quot;;    }    if (isSafari) {        return &quot;Safari&quot;;    }    if (isChrome) {        return &quot;Chrome&quot;;    }    if (isEdge) {        return &quot;Edge&quot;;    }}</code></pre><ol start="5"><li>html if åˆ¤æ–­æµè§ˆå™¨ieç‰ˆæœ¬</li></ol><pre><code class="language-html">&lt;!--[if !IE]&gt; é™¤IEå¤–éƒ½å¯è¯†åˆ« &lt;!--&lt;![endif]--&gt;&lt;!--[if IE]&gt; æ‰€æœ‰çš„IEå¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 6]&gt; ä»…IE6å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if lt IE 6]&gt; IE6ä»¥åŠIE6ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if gte IE 6]&gt; IE6ä»¥åŠIE6ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 7]&gt; ä»…IE7å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if lt IE 7]&gt; IE7ä»¥åŠIE7ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if gte IE 7]&gt; IE7ä»¥åŠIE7ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 8]&gt; ä»…IE8å¯è¯†åˆ« &lt;![endif]--&gt;&lt;!--[if IE 9]&gt; ä»…IE9å¯è¯†åˆ« &lt;![endif]--&gt;</code></pre><p>~~æœªå®Œå¾…ç»­</p>]]></content>
      
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>promiseA+</title>
      <link href="/blog/posts/d721f59f/"/>
      <url>/blog/posts/d721f59f/</url>
      
        <content type="html"><![CDATA[<blockquote><p>JavaScript Promise A+ è§„èŒƒ</p></blockquote><p>è¯‘è€…åºï¼šä¸€å¹´å‰æ›¾è¯‘è¿‡ Promise/A+ è§„èŒƒï¼Œé€‚æ—¶å®Œå…¨ä¸æ‡‚ Promise çš„æ€æƒ³ï¼Œçº¯ç²¹å°†ç¿»è¯‘çš„è¿‡ç¨‹å½“ä½œå­¦ä¹ ï¼Œæ—§æ–‡è¯‘ä¸‹æ¥è¯˜å±ˆè±ç‰™ï¼Œè¯»èµ·æ¥ååˆ†ä¸é¡ºç•…ã€‚è°çŸ¥è¿™æ ·ä¸€ç¯‡æ‹™è¯‘ï¼Œä¸€å¹´ä¹‹é—´ç«Ÿç„¶ç‚¹å‡»æ•°åƒï¼Œæˆä¸ºè°·æ­Œæœç´¢çš„å¤´æ¡ã€‚ä»Šæ—¥åœ¨ç†è§£ä¹‹åé‡è¯‘æ­¤è§„èŒƒï¼Œä»¥é£¨è¯»è€…ã€‚</p><p>ä¸€ä¸ªå¼€æ”¾ã€å¥å…¨ä¸”é€šç”¨çš„ JavaScript Promise æ ‡å‡†ã€‚ç”±å¼€å‘è€…åˆ¶å®šï¼Œä¾›å¼€å‘è€…å‚è€ƒã€‚</p><p>è¯‘æ–‡æœ¯è¯­:</p><p>è§£å†³ï¼ˆfulfillï¼‰ï¼šæŒ‡ä¸€ä¸ª promise æˆåŠŸæ—¶è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œå¦‚çŠ¶æ€çš„æ”¹å˜ã€å›è°ƒçš„æ‰§è¡Œã€‚è™½ç„¶è§„èŒƒä¸­ç”¨ fulfill æ¥è¡¨ç¤ºè§£å†³ï¼Œä½†åœ¨åä¸–çš„ promise å®ç°å¤šä»¥ resolve æ¥æŒ‡ä»£ä¹‹ã€‚</p><p>æ‹’ç»ï¼ˆrejectï¼‰ï¼šæŒ‡ä¸€ä¸ª promise å¤±è´¥æ—¶è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œã€‚</p><p>ç»ˆå€¼ï¼ˆeventual valueï¼‰ï¼šæ‰€è°“ç»ˆå€¼ï¼ŒæŒ‡çš„æ˜¯ promise è¢«è§£å†³æ—¶ä¼ é€’ç»™è§£å†³å›è°ƒçš„å€¼ï¼Œç”±äº promise æœ‰ä¸€æ¬¡æ€§çš„ç‰¹å¾ï¼Œå› æ­¤å½“è¿™ä¸ªå€¼è¢«ä¼ é€’æ—¶ï¼Œæ ‡å¿—ç€ promise ç­‰å¾…æ€çš„ç»“æŸï¼Œæ•…ç§°ä¹‹ç»ˆå€¼ï¼Œæœ‰æ—¶ä¹Ÿç›´æ¥ç®€ç§°ä¸ºå€¼ï¼ˆvalueï¼‰ã€‚</p><p>æ®å› ï¼ˆreasonï¼‰ï¼šä¹Ÿå°±æ˜¯æ‹’ç»åŸå› ï¼ŒæŒ‡åœ¨ promise è¢«æ‹’ç»æ—¶ä¼ é€’ç»™æ‹’ç»å›è°ƒçš„å€¼ã€‚</p><p>å®ç°:</p><pre><code class="language-javaScript">/** * Promise å®ç° éµå¾ªpromise/A+è§„èŒƒ * Promise/A+è§„èŒƒè¯‘æ–‡: * https://malcolmyu.github.io/2015/06/12/Promises-A-Plus/#note-4 */// promise ä¸‰ä¸ªçŠ¶æ€const PENDING = &quot;pending&quot;;const FULFILLED = &quot;fulfilled&quot;;const REJECTED = &quot;rejected&quot;;function Promise(excutor) {    let that = this; // ç¼“å­˜å½“å‰promiseå®ä¾‹å¯¹è±¡    that.status = PENDING; // åˆå§‹çŠ¶æ€    that.value = undefined; // fulfilledçŠ¶æ€æ—¶ è¿”å›çš„ä¿¡æ¯    that.reason = undefined; // rejectedçŠ¶æ€æ—¶ æ‹’ç»çš„åŸå›     that.onFulfilledCallbacks = []; // å­˜å‚¨fulfilledçŠ¶æ€å¯¹åº”çš„onFulfilledå‡½æ•°    that.onRejectedCallbacks = []; // å­˜å‚¨rejectedçŠ¶æ€å¯¹åº”çš„onRejectedå‡½æ•°    function resolve(value) { // valueæˆåŠŸæ€æ—¶æ¥æ”¶çš„ç»ˆå€¼        if (value instanceof Promise) {            return value.then(resolve, reject);        }        // ä¸ºä»€ä¹ˆresolve åŠ setTimeout?        // 2.2.4è§„èŒƒ onFulfilled å’Œ onRejected åªå…è®¸åœ¨ execution context æ ˆä»…åŒ…å«å¹³å°ä»£ç æ—¶è¿è¡Œ.        // æ³¨1 è¿™é‡Œçš„å¹³å°ä»£ç æŒ‡çš„æ˜¯å¼•æ“ã€ç¯å¢ƒä»¥åŠ promise çš„å®æ–½ä»£ç ã€‚å®è·µä¸­è¦ç¡®ä¿ onFulfilled å’Œ onRejected æ–¹æ³•å¼‚æ­¥æ‰§è¡Œï¼Œä¸”åº”è¯¥åœ¨ then æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚        setTimeout(() =&gt; {            // è°ƒç”¨resolve å›è°ƒå¯¹åº”onFulfilledå‡½æ•°            if (that.status === PENDING) {                // åªèƒ½ç”±pedningçŠ¶æ€ =&gt; fulfilledçŠ¶æ€ (é¿å…è°ƒç”¨å¤šæ¬¡resolve reject)                that.status = FULFILLED;                that.value = value;                that.onFulfilledCallbacks.forEach(cb =&gt; cb(that.value));            }        });    }    function reject(reason) { // reasonå¤±è´¥æ€æ—¶æ¥æ”¶çš„æ‹’å›         setTimeout(() =&gt; {            // è°ƒç”¨reject å›è°ƒå¯¹åº”onRejectedå‡½æ•°            if (that.status === PENDING) {                // åªèƒ½ç”±pedningçŠ¶æ€ =&gt; rejectedçŠ¶æ€ (é¿å…è°ƒç”¨å¤šæ¬¡resolve reject)                that.status = REJECTED;                that.reason = reason;                that.onRejectedCallbacks.forEach(cb =&gt; cb(that.reason));            }        });    }    // æ•è·åœ¨excutoræ‰§è¡Œå™¨ä¸­æŠ›å‡ºçš„å¼‚å¸¸    // new Promise((resolve, reject) =&gt; {    //     throw new Error('error in excutor')    // })    try {        excutor(resolve, reject);    } catch (e) {        reject(e);    }}/** * resolveä¸­çš„å€¼å‡ ç§æƒ…å†µï¼š * 1.æ™®é€šå€¼ * 2.promiseå¯¹è±¡ * 3.thenableå¯¹è±¡/å‡½æ•° *//** * å¯¹resolve è¿›è¡Œæ”¹é€ å¢å¼º é’ˆå¯¹resolveä¸­ä¸åŒå€¼æƒ…å†µ è¿›è¡Œå¤„ç† * @param  {promise} promise2 promise1.thenæ–¹æ³•è¿”å›çš„æ–°çš„promiseå¯¹è±¡ * @param  {[type]} x         promise1ä¸­onFulfilledçš„è¿”å›å€¼ * @param  {[type]} resolve   promise2çš„resolveæ–¹æ³• * @param  {[type]} reject    promise2çš„rejectæ–¹æ³• */function resolvePromise(promise2, x, resolve, reject) {    if (promise2 === x) { // å¦‚æœä»onFulfilledä¸­è¿”å›çš„x å°±æ˜¯promise2 å°±ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨æŠ¥é”™        return reject(new TypeError('å¾ªç¯å¼•ç”¨'));    }    let called = false; // é¿å…å¤šæ¬¡è°ƒç”¨    // å¦‚æœxæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ ï¼ˆè¯¥åˆ¤æ–­å’Œä¸‹é¢ åˆ¤æ–­æ˜¯ä¸æ˜¯thenableå¯¹è±¡é‡å¤ æ‰€ä»¥å¯æœ‰å¯æ— ï¼‰    if (x instanceof Promise) { // è·å¾—å®ƒçš„ç»ˆå€¼ ç»§ç»­resolve        if (x.status === PENDING) { // å¦‚æœä¸ºç­‰å¾…æ€éœ€ç­‰å¾…ç›´è‡³ x è¢«æ‰§è¡Œæˆ–æ‹’ç» å¹¶è§£æyå€¼            x.then(y =&gt; {                resolvePromise(promise2, y, resolve, reject);            }, reason =&gt; {                reject(reason);            });        } else { // å¦‚æœ x å·²ç»å¤„äºæ‰§è¡Œæ€/æ‹’ç»æ€(å€¼å·²ç»è¢«è§£æä¸ºæ™®é€šå€¼)ï¼Œç”¨ç›¸åŒçš„å€¼æ‰§è¡Œä¼ é€’ä¸‹å» promise            x.then(resolve, reject);        }        // å¦‚æœ x ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°    } else if (x != null &amp;&amp; ((typeof x === 'object') || (typeof x === 'function'))) {        try { // æ˜¯å¦æ˜¯thenableå¯¹è±¡ï¼ˆå…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡/å‡½æ•°ï¼‰            let then = x.then;            if (typeof then === 'function') {                then.call(x, y =&gt; {                    if (called) return;                    called = true;                    resolvePromise(promise2, y, resolve, reject);                }, reason =&gt; {                    if (called) return;                    called = true;                    reject(reason);                })            } else { // è¯´æ˜æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡/å‡½æ•°                resolve(x);            }        } catch (e) {            if (called) return;            called = true;            reject(e);        }    } else {        resolve(x);    }}/** * [æ³¨å†ŒfulfilledçŠ¶æ€/rejectedçŠ¶æ€å¯¹åº”çš„å›è°ƒå‡½æ•°] * @param  {function} onFulfilled fulfilledçŠ¶æ€æ—¶ æ‰§è¡Œçš„å‡½æ•° * @param  {function} onRejected  rejectedçŠ¶æ€æ—¶ æ‰§è¡Œçš„å‡½æ•° * @return {function} newPromsie  è¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ */Promise.prototype.then = function (onFulfilled, onRejected) {    const that = this;    let newPromise;    // å¤„ç†å‚æ•°é»˜è®¤å€¼ ä¿è¯å‚æ•°åç»­èƒ½å¤Ÿç»§ç»­æ‰§è¡Œ    onFulfilled =        typeof onFulfilled === &quot;function&quot; ? onFulfilled : value =&gt; value;    onRejected =        typeof onRejected === &quot;function&quot; ? onRejected : reason =&gt; {            throw reason;        };    // thené‡Œé¢çš„FULFILLED/REJECTEDçŠ¶æ€æ—¶ ä¸ºä»€ä¹ˆè¦åŠ setTimeout ?    // åŸå› :    // å…¶ä¸€ 2.2.4è§„èŒƒ è¦ç¡®ä¿ onFulfilled å’Œ onRejected æ–¹æ³•å¼‚æ­¥æ‰§è¡Œ(ä¸”åº”è¯¥åœ¨ then æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ) æ‰€ä»¥è¦åœ¨resolveé‡ŒåŠ ä¸ŠsetTimeout    // å…¶äºŒ 2.2.6è§„èŒƒ å¯¹äºä¸€ä¸ªpromiseï¼Œå®ƒçš„thenæ–¹æ³•å¯ä»¥è°ƒç”¨å¤šæ¬¡.ï¼ˆå½“åœ¨å…¶ä»–ç¨‹åºä¸­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªpromiseçš„thenæ—¶ ç”±äºä¹‹å‰çŠ¶æ€å·²ç»ä¸ºFULFILLED/REJECTEDçŠ¶æ€ï¼Œåˆ™ä¼šèµ°çš„ä¸‹é¢é€»è¾‘),æ‰€ä»¥è¦ç¡®ä¿ä¸ºFULFILLED/REJECTEDçŠ¶æ€å ä¹Ÿè¦å¼‚æ­¥æ‰§è¡ŒonFulfilled/onRejected    // å…¶äºŒ 2.2.6è§„èŒƒ ä¹Ÿæ˜¯resolveå‡½æ•°é‡ŒåŠ setTimeoutçš„åŸå›     // æ€»ä¹‹éƒ½æ˜¯ è®©thenæ–¹æ³•å¼‚æ­¥æ‰§è¡Œ ä¹Ÿå°±æ˜¯ç¡®ä¿onFulfilled/onRejectedå¼‚æ­¥æ‰§è¡Œ    // å¦‚ä¸‹é¢è¿™ç§æƒ…æ™¯ å¤šæ¬¡è°ƒç”¨p1.then    // p1.then((value) =&gt; { // æ­¤æ—¶p1.status ç”±peddingçŠ¶æ€ =&gt; fulfilledçŠ¶æ€    //     console.log(value); // resolve    //     // console.log(p1.status); // fulfilled    //     p1.then(value =&gt; { // å†æ¬¡p1.then è¿™æ—¶å·²ç»ä¸ºfulfilledçŠ¶æ€ èµ°çš„æ˜¯fulfilledçŠ¶æ€åˆ¤æ–­é‡Œçš„é€»è¾‘ æ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦ç¡®ä¿åˆ¤æ–­é‡Œé¢onFuilledå¼‚æ­¥æ‰§è¡Œ    //         console.log(value); // 'resolve'    //     });    //     console.log('å½“å‰æ‰§è¡Œæ ˆä¸­åŒæ­¥ä»£ç ');    // })    // console.log('å…¨å±€æ‰§è¡Œæ ˆä¸­åŒæ­¥ä»£ç ');    //    if (that.status === FULFILLED) { // æˆåŠŸæ€        return newPromise = new Promise((resolve, reject) =&gt; {            setTimeout(() =&gt; {                try {                    let x = onFulfilled(that.value);                    resolvePromise(newPromise, x, resolve, reject); // æ–°çš„promise resolve ä¸Šä¸€ä¸ªonFulfilledçš„è¿”å›å€¼                } catch (e) {                    reject(e); // æ•è·å‰é¢onFulfilledä¸­æŠ›å‡ºçš„å¼‚å¸¸ then(onFulfilled, onRejected);                }            });        })    }    if (that.status === REJECTED) { // å¤±è´¥æ€        return newPromise = new Promise((resolve, reject) =&gt; {            setTimeout(() =&gt; {                try {                    let x = onRejected(that.reason);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });        });    }    if (that.status === PENDING) { // ç­‰å¾…æ€        // å½“å¼‚æ­¥è°ƒç”¨resolve/rejectedæ—¶ å°†onFulfilled/onRejectedæ”¶é›†æš‚å­˜åˆ°é›†åˆä¸­        return newPromise = new Promise((resolve, reject) =&gt; {            that.onFulfilledCallbacks.push((value) =&gt; {                try {                    let x = onFulfilled(value);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });            that.onRejectedCallbacks.push((reason) =&gt; {                try {                    let x = onRejected(reason);                    resolvePromise(newPromise, x, resolve, reject);                } catch (e) {                    reject(e);                }            });        });    }};/** * Promise.all Promiseè¿›è¡Œå¹¶è¡Œå¤„ç† * å‚æ•°: promiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•° * è¿”å›å€¼: è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ * å½“è¿™ä¸ªæ•°ç»„é‡Œçš„æ‰€æœ‰promiseå¯¹è±¡å…¨éƒ¨å˜ä¸ºresolveçŠ¶æ€çš„æ—¶å€™ï¼Œæ‰ä¼šresolveã€‚ */Promise.all = function (promises) {    return new Promise((resolve, reject) =&gt; {        let done = gen(promises.length, resolve);        promises.forEach((promise, index) =&gt; {            promise.then((value) =&gt; {                done(index, value)            }, reject)        })    })}function gen(length, resolve) {    let count = 0;    let values = [];    return function (i, value) {        values[i] = value;        if (++count === length) {            console.log(values);            resolve(values);        }    }}/** * Promise.race * å‚æ•°: æ¥æ”¶ promiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•° * è¿”å›å€¼: è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ * åªè¦æœ‰ä¸€ä¸ªpromiseå¯¹è±¡è¿›å…¥ FulFilled æˆ–è€… Rejected çŠ¶æ€çš„è¯ï¼Œå°±ä¼šç»§ç»­è¿›è¡Œåé¢çš„å¤„ç†(å–å†³äºå“ªä¸€ä¸ªæ›´å¿«) */Promise.race = function (promises) {    return new Promise((resolve, reject) =&gt; {        promises.forEach((promise, index) =&gt; {            promise.then(resolve, reject);        });    });}// ç”¨äºpromiseæ–¹æ³•é“¾æ—¶ æ•è·å‰é¢onFulfilled/onRejectedæŠ›å‡ºçš„å¼‚å¸¸Promise.prototype.catch = function (onRejected) {    return this.then(null, onRejected);}Promise.resolve = function (value) {    return new Promise(resolve =&gt; {        resolve(value);    });}Promise.reject = function (reason) {    return new Promise((resolve, reject) =&gt; {        reject(reason);    });}/** * åŸºäºPromiseå®ç°Deferredçš„ * Deferredå’ŒPromiseçš„å…³ç³» * - Deferred æ‹¥æœ‰ Promise * - Deferred å…·å¤‡å¯¹ Promiseçš„çŠ¶æ€è¿›è¡Œæ“ä½œçš„ç‰¹æƒæ–¹æ³•ï¼ˆresolve rejectï¼‰ * *å‚è€ƒjQuery.Deferred *url: http://api.jquery.com/category/deferred-object/ */Promise.deferred = function () { // å»¶è¿Ÿå¯¹è±¡    let defer = {};    defer.promise = new Promise((resolve, reject) =&gt; {        defer.resolve = resolve;        defer.reject = reject;    });    return defer;}/** * Promise/A+è§„èŒƒæµ‹è¯• * npm i -g promises-aplus-tests * promises-aplus-tests Promise.js */try {    module.exports = Promise} catch (e) {}</code></pre><p>æ¥æº:<br><a href="https://www.ituring.com.cn/article/66566" target="_blank" rel="noopener">https://www.ituring.com.cn/article/66566</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è™è ä¾ ï¼šé»‘æš—éª‘å£«</title>
      <link href="/blog/posts/48fde4e8/"/>
      <url>/blog/posts/48fde4e8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æˆ‘å¿ƒç›®ä¸­æœ€å¥½çš„ä¸€æ­¥è™è ä¾ ç”µå½±ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</p></blockquote><p>åˆ†äº«è±†ç“£çƒ­è¯„ã€‚</p><p>å¤§ç‰‡ä¸­å¾ˆæœ‰å†…æ¶µçš„ä¸€éƒ¨ï¼Œä¸ç®¡æ˜¯äººä»¬å¿ƒä¸­æš—è‡ªæ¶ŒåŠ¨çš„å¯¹å°ä¸‘ç–¯ç‹‚ç­ä¸–ä¸»ä¹‰çš„ä¸å®‰çš„å…±é¸£ï¼Œè¿˜æ˜¯å¯¹è™è ä¾ å­¤ç‹¬æš—å¤œè¡Œèµ°çš„è‹±é›„æƒœè‹±é›„èˆ¬åŒæƒ…ï¼Œå…¶å®éƒ½æ˜¯äººä»¬å¯¹è¿™ä¸ªä¸–ç•Œå¤±æœ›çš„ä¸€ç§æƒ…ç»ªé‡Šæ”¾ã€‚å…¶å®å°ä¸‘è¯´çš„å¾ˆå¯¹ï¼Œä»–å’Œè™è ä¾ å¾ˆåƒï¼Œéƒ½æ˜¯å¼‚ç±»ï¼Œåªä¸è¿‡è™è ä¾ æŠŠç—›è‹¦ç•™ç»™è‡ªå·±ï¼Œé¡½å›ºåœ°å»åšå®ˆä¸€ä¸ä¿¡ä»°ï¼Œè€Œå°ä¸‘æŠŠç—›è‹¦è¿˜ç»™ä¸–ç•Œã€‚<br>â€“<strong>fishlee çœ‹è¿‡   2009-07-28</strong></p><p>èµèª‰ä¼—å£ä¸€è‡´å¤¸ä¸Šäº†å¤©ï¼Œç™¾é—»ä¸å¦‚ä¸€è§ï¼Œè¿™ç§è¿ç¯ç”»è¶…çº§è‹±é›„æ•…äº‹å±…ç„¶èƒ½æ‰¯åˆ°ç¬¬å…­é›†çœŸæ˜¯è¦æŠŠç¼–å‰§é€¼è·³æ¥¼äº†ï¼Œæœ€åå‘ˆç°çš„æš—å¤œéª‘å£«å…¨ç„¶è¶…è¶Šäº†åŸè‘—ï¼Œæ‚²æ€†åˆ°è¿·äººçš„å¢ƒç•Œï¼Œç€å®æ˜¯ä¸ªå¥‡è¿¹ã€‚å‰§æœ¬ç¡®å®å¾ˆå“è¶Šï¼Œå¯¼æ¼”ç¡®å®å¾ˆå‡ºè‰²ï¼Œè¿˜æœ‰æ¼”æŠ€çœŸæ˜¯ä¸å¾—ä¸å¹æœä¸€ä¸‹å¤ªtmdéœ‡æ’¼<br>â€“<strong>37Â°2 çœ‹è¿‡  2008-11-21</strong></p><p>å¯¹äºè¿™ä¹ˆä¼˜ç§€çš„ç”µå½±æ¥è¯´ï¼Œå†å¤šçš„èµç¾éƒ½æ˜¯å¤šä½™çš„ã€‚<br>â€“<strong>Jin çœ‹è¿‡  2008-09-15</strong></p><p>â€œæœ‰äº›äººå¹¶ä¸å–œæ¬¢é‚£äº›å¸¸äººåçˆ±çš„ä¸œè¥¿ï¼Œæ¯”å¦‚é‡‘é’±ï¼Œä»–ä»¬ä¸è¢«æ”¶ä¹°ã€ä¸ä¼šè¢«æå“ã€ä¸å¯ç†å–»ã€æ›´ä¸æ¥å—è°ˆåˆ¤ï¼Œæœ‰äº›äººå°±æƒ³çœ‹äººé—´åœ°ç‹±ã€‚â€ ä¹Ÿåªæœ‰è™è ä¾ ï¼Œæ‰èƒ½è®©å°ä¸‘å˜å¾—å®Œæ•´ã€‚æ— å°½çš„é»‘æš—ã€‚<br>â€“<strong>å½±å¿— çœ‹è¿‡  2008-12-14</strong></p><h2 id="å½±è¯„"><a class="header-anchor" href="#å½±è¯„">Â¶</a>å½±è¯„</h2><p>ä½œè€…:æ­¦å¿—çº¢<br>æ¥æºï¼š<br><a href="https://movie.douban.com/review/1629723/" target="_blank" rel="noopener">https://movie.douban.com/review/1629723/</a></p><p>ã€22æ—¥ï¼Œç¾å›½ç¬¬81å±Šå¥¥æ–¯å¡å¥–çš„æååå•å…¬å¸ƒï¼Œä»¤äººä»¬å¤§è·Œçœ¼é•œçš„æ˜¯ï¼Œ2008å¹´å…¨çƒç¥¨æˆ¿å† å†›ã€å¥½è±åå†å²ä¸Šç¬¬äºŒå–åº§çš„ã€Šè™è ä¾ Â·æš—å¤œéª‘å£«ã€‹åªæ‹¿åˆ°äº†æ•°é¡¹æ— å…³ç—›ç—’çš„æåã€‚<br>ä¸è¿‡ï¼Œè¯„å§”ä»¬å¯ä»¥è½»è§†è¿™éƒ¨å½±ç‰‡ï¼Œä½†å´ä¸èƒ½è½»è§†å½±ç‰‡ä¸­çš„åè§’å°ä¸‘ï¼Œé¥°æ¼”å°ä¸‘çš„æ¼”å‘˜å¸Œæ–¯Â·è±æ°ä¼—æœ›æ‰€å½’è·å¾—äº†æœ€ä½³é…è§’æåï¼Œè€Œåˆ†æè€…ä»¬ä¹Ÿæ™®éè®¤ä¸ºï¼Œè¿™ä¸€å¥–é¡¹é“å®šæ˜¯å¸Œæ–¯Â·è±æ°çš„ï¼Œè¿™ä¸æ˜¯å› ä¸ºæ›¾åœ¨ã€Šæ–­è‡‚å±±ã€‹ç­‰å½±ç‰‡ä¸­æœ‰ä¸Šä½³è¡¨ç°çš„å¸Œæ–¯Â·è±æ°å¤šä¹ˆæœ‰å½±å“åŠ›ï¼Œè€Œä»…ä»…æ˜¯å› ä¸ºå°ä¸‘åœ¨ã€Šè™è ä¾ Â·æš—å¤œéª‘å£«ã€‹ä¸­çš„è¡¨ç°æ˜¯æ— ä»¥ä¼¦æ¯”çš„ï¼Œè¿™æ³¨å®šå°†æ˜¯ç”µå½±å²æœ€æœ‰åçš„åè§’ä¹‹ä¸€ã€‚<br>22æ—¥ä¹Ÿæ˜¯å¸Œæ–¯Â·è±æ°å»ä¸–ä¸€å‘¨å¹´çš„çºªå¿µæ—¥ã€‚2008å¹´çš„è¿™ä¸€å¤©ï¼Œå¹´ä»…29å²çš„ä»–è¢«å‘ç°çŒæ­»çº½çº¦æ›¼å“ˆé¡¿ç§Ÿä½çš„å…¬å¯“ä¸­ã€‚<br>åœ¨è¿™ä¸€ç‰¹æ®Šçš„æ—¥å­ï¼Œæˆ‘å†™ä¸‹äº†å¯¹ã€Šæš—å¤œéª‘å£«ã€‹è¿™éƒ¨å½±ç‰‡çš„å¿ƒç†åˆ†ææ–‡ç« ï¼Œä»¥æ­¤æ¥çºªå¿µè¿™ä½æ¼”è‰ºç•Œä¸å¤šè§çš„å¥‡æ‰ã€‚ã€‘</p><p>åœ¨ç”Ÿæ´»ä¸­ï¼Œæˆ‘å¬åˆ°è§åˆ°æ— æ•°è¿™æ ·çš„æ•…äº‹ï¼Œä¸¤ä¸ªç›¸çˆ±çš„äººï¼Œä¸€ä¸ªä¸æ–­å»çªç ´å¦ä¸€ä¸ªäººçš„åº•çº¿ã€‚<br>è¿™ä¸ªäººçš„æ½œåœ¨çš„é€»è¾‘æ˜¯ï¼Œä½ è¯´ä½ çˆ±æˆ‘ï¼Œè¿™æ˜¯çœŸçš„å—ï¼Ÿæˆ‘ä¸ä¿¡ï¼Œæ‰€è°“çˆ±æˆ‘åªæ˜¯ç»™ä½ çš„ç”Ÿæ´»æ·»åŠ å…‰å½©ç½¢äº†ï¼Œå¦‚æœä½ çœŸçš„çˆ±æˆ‘ï¼Œä½ å°±ä¼šä¸é¡¾ä¸€åˆ‡åœ°çˆ±æˆ‘ï¼Œä½ çœŸçš„èƒ½åšåˆ°è¿™ä¸€ç‚¹å—ï¼Ÿ<br>è¿™ä¹Ÿæ˜¯ç”µå½±ã€Šè™è ä¾ Â·æš—å¤œéª‘å£«ã€‹ï¼ˆä¹Ÿå³ã€Šè™è ä¾ ã€‹ç³»åˆ—å½±ç‰‡ä¹‹å…­ï¼‰ä¸­éšè—çš„æ ¸å¿ƒé€»è¾‘ã€‚</p><p>è¿™éƒ¨å½±ç‰‡çš„èƒŒæ™¯æ˜¯ï¼Œåœ¨é»‘å¸®å’Œæ¯’è´©æ¨ªè¡Œçš„é«˜è°­å¸‚ï¼Œè™è ä¾ ä¸æ–­ç¥å‡ºé¬¼æ²¡åœ°æ‰“å‡»ç½ªçŠ¯ï¼Œè€Œä»–æœ‰ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„è§„åˆ™â€”â€”ä¸æ€äººã€‚<br>åœ¨è™è ä¾ è¿™ä½â€œæš—å¤œéª‘å£«â€çš„å¸®åŠ©ä¸‹ï¼Œé«˜è°­å¸‚è­¦é•¿æˆˆç™»å°†é»‘ç¤¾ä¼šè€å¤§ä»¬ä¸€ç½‘æ‰“å°½ï¼Œè€Œé«˜è°­å¸‚æ£€å¯Ÿé•¿ã€æœ‰â€œå…‰æ˜éª‘å£«â€ä¹‹ç§°çš„å“ˆç»´Â·é‚“ç‰¹è¯•å›¾å°†ä»–ä»¬å…¨éƒ¨é€ä¸Šæ³•åº­ï¼Œè¯æ®ç¡®å‡¿ï¼Œçœ‹æ¥ä»–ä»¬æ³¨å®šè¦ä½åœ¨ç›‘ç‹±äº†ï¼Œè€Œé«˜è°­å¸‚ä¼¼ä¹ç»ˆäºå¯ä»¥æ¢å¤å¹³é™å’Œå…‰æ˜äº†ã€‚<br>å°±åœ¨è¿™æ—¶ï¼Œå°ä¸‘å‡ºç°äº†ï¼Œä»–é˜´é™©ç‹¡è¯ˆï¼Œæ²¡æœ‰ä»»ä½•åº•çº¿ï¼Œå¤´è„‘ä¸­ä¹Ÿæ²¡æœ‰ä»»ä½•æ•™æ¡ï¼Œä»–ä»¥æ€æ­»è™è ä¾ ä¸ºç”±è€Œå°†é»‘å¸®å›¢ç»“åœ¨è‡ªå·±å‘¨å›´ï¼Œå¹¶å¸¦é¢†ä»–ä»¬å’Œä»–æ‹›å‹Ÿæ¥çš„ç²¾ç¥åˆ†è£‚ç—‡æ‚£è€…ä»¬éšå¿ƒæ‰€æ¬²åœ°æ€äººï¼Œä»¥æ­¤å‘å¸‚æ°‘ä»¬æ–½åŠ å‹åŠ›ï¼Œè®©ä»–ä»¬è¿«ä½¿è™è ä¾ è„±ä¸‹é¢å…·å…¬å¸ƒèº«ä»½ã€‚<br>è¿™åªæ˜¯å½±ç‰‡ä¸€æ¡è¡¨é¢çš„è„‰ç»œï¼Œè€Œå½±ç‰‡æ ¸å¿ƒçš„è„‰ç»œæ˜¯ï¼Œå°ä¸‘ä¸æ–­åˆºæ¿€å“ˆç»´Â·é‚“ç‰¹å’Œè™è ä¾ è¿™ä¸¤ä¸ªâ€œæ­£ä¹‰çš„åŒ–èº«â€ï¼Œç”šè‡³å¸Œæœ›å“ˆç»´Â·é‚“ç‰¹å°†è‡ªå·±å‡»æ¯™ï¼Œè™è ä¾ å°†è‡ªå·±æ€æ­»ã€‚å› ä¸ºè¿™æ ·ä¸€æ¥ï¼Œä»–ä»¬å°±å’Œä»–ä¸€æ ·äº†ï¼Œä»–ä»¬æ‰€ä¿¡å¥‰çš„æ­£ä¹‰ä¸è¿‡æ˜¯ä¸€ä¸ªè¡¨é¢ä¸Šçš„è¡¨æ¼”è€Œå·²ï¼Œè€ŒçœŸæ­£æŒæ¡è¿™ä¸ªä¸–ç•Œçš„ï¼Œè¿˜æ˜¯å°ä¸‘çš„é€»è¾‘â€”â€”â€œæ²¡æœ‰è¿«ä¸å¾—å·²çš„æ—¶å€™ï¼Œè°ä¸æƒ³æ­£ä¹‰å‡›ç„¶ï¼Ÿâ€<br>æ¯ä¸ªäººéƒ½ä»¥ä¸ºï¼Œä»–çš„é€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œè¿™ä¸ªä¸–ç•Œåœ¨æŒ‰ç…§ä»–ç›¸ä¿¡çš„é‚£ä¸€å¥—é€»è¾‘è¿è½¬ï¼Œå¦‚æœè¿™ä¸ªä¸–ç•Œä¸æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬å°±ä¼šä»¥ä¸ºï¼Œè¿™ä¸è¿‡æ˜¯è¡¨é¢ç°è±¡è€Œå·²ï¼ŒçœŸæ­£çš„æ·±å±‚é€»è¾‘ä¸€å®šæ˜¯è‡ªå·±æŒæ¡çš„é‚£ä¸€å¥—é€»è¾‘ï¼Œè¦è¯æ˜è¿™ä¸€ç‚¹ï¼Œåªéœ€è¦å°†åˆ«äººâ€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œè¿™äº›äººå°±ä¼šé™·å…¥åœ¨è‡ªå·±çš„é€»è¾‘ä¸­ã€‚<br>ä¾‹å¦‚ï¼Œå‡è‹¥ä¸€ä¸ªç¾å¥³ç›¸ä¿¡ï¼Œç”·äººéƒ½ä¸æ˜¯å¥½ä¸œè¥¿ï¼Œç”·äººåªæ˜¯å¯¹å¥¹çš„èº«ä½“æ„Ÿå…´è¶£è€Œæ ¹æœ¬ä¸ä¼šçˆ±å¥¹ã€‚é‚£ä¹ˆï¼Œå¥¹ä¼šä½¿ç”¨å¥¹çš„èº«ä½“å»å‹¾å¼•ç”·äººï¼Œè€Œå¥¹ä¼šå‘ç°ï¼Œå¥¹åªéœ€è¦è¿™æ ·å°†ç”·äººä»¬â€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œè¿™äº›ç”·äººå°±ä¼šå˜æˆè´ªå©ªçš„è‰²é¬¼ã€‚<br>ä¾‹å¦‚ï¼Œå‡è‹¥ä¸€ä¸ªå¯Œäººç›¸ä¿¡ï¼Œæ¯ä¸ªäººéƒ½æ˜¯è´ªå©ªçš„ï¼Œæœ‰é’±èƒ½ä½¿é¬¼æ¨ç£¨ã€‚é‚£ä¹ˆï¼Œä»–ä¼šä½¿ç”¨ä»–çš„é‡‘é’±å°†æ— æ•°äººâ€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œè¿™äº›äººå°±ä¼šé™·å…¥ä»–çš„æŒæ¡ä¸­ã€‚<br>å°ä¸‘åˆ™è®¤ä¸ºï¼Œæ¯ä¸ªäººéƒ½æ˜¯é‚ªæ¶çš„ï¼Œæ²¡æœ‰ä¿¡ä»»å¯ä»¥çš„ï¼Œä»–åªéœ€è¦å°†äººä»¬â€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œæ¯ä¸ªäººéƒ½ä¼šæ”¾å¼ƒæ­£ä¹‰ï¼Œå˜å¾—å¾ˆè‡ªç§å’Œä¸‘æ¶ï¼Œäºæ˜¯å‡ºå–åˆ«äººç”šè‡³äº²è‡ªæ€æ­»æˆ˜å‹ã€‚åœ¨å½±ç‰‡ä¸­ï¼Œå°ä¸‘â€œè½»è½»æ¨ä¸€ä¸‹â€çš„æ­¦å™¨æ˜¯äººä»¬å¿ƒä¸­çš„ææƒ§ï¼Œä»–è®¤ä¸ºï¼Œæ¯ä¸ªäººçˆ±çš„éƒ½æ˜¯è‡ªå·±å’Œè‡ªå·±çš„äº²äººï¼Œåªè¦ä½ å»å¨èƒä»–ä»¬çš„ç”Ÿå‘½ï¼Œé‚£ä¹ˆæ¯ä¸ªäººéƒ½ä¼šæ”¾å¼ƒåŸæœ‰çš„åº•çº¿ï¼Œè€Œå˜æˆæ¶é­”ã€‚</p><p>å½±ç‰‡ä¸€å¼€å§‹å°±å±•ç¤ºäº†å°ä¸‘çš„é€»è¾‘ã€‚ä»–å¼•è¯±å‡ ä¸ªæˆ´ç€å°ä¸‘é¢å…·çš„åŒªå¾’æ‰“åŠ«é»‘å¸®çš„é“¶è¡Œï¼Œå¹¶å¯¹ä»–ä»¬è¯´ï¼Œæ€æ­»ä½ çš„åŒä¼´ï¼Œè¿™æ ·ä½ åˆ†åˆ°çš„é’±æ›´å¤šã€‚äºæ˜¯ï¼Œè¿™äº›åŒªå¾’æœçœŸåœ¨æŠ¢åŠ«è¿‡ç¨‹ä¸­ç›¸äº’å± æ€ï¼Œé‚£äº›ç¨æœ‰çŠ¹è±«çš„äººï¼Œç«‹å³ä¼šè¢«åŒä¼™å¹²æ‰ï¼Œè€Œå°ä¸‘è‡ªå·±åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ˜¯æœ€æœæ–­çš„ï¼Œæ‰€ä»¥ä»–æ˜¯å”¯ä¸€ç”Ÿå­˜çš„ã€‚<br>å¯¹æ­¤ï¼Œè¿™ä¸ªé»‘å¸®é“¶è¡Œçš„å¤´ç›®è¯´ï¼šâ€œè¿™åº§åŸå¸‚çš„åŒªå¾’å‘æ¥æœ‰ä¿¡å¿µã€‚â€ä»–æ˜¯è¯´ï¼Œä»–ä»¬æ˜¯æœ‰åº•çº¿çš„ï¼Œè¿™å°±æ˜¯â€œç›—äº¦æœ‰é“â€çš„æ„æ€äº†ï¼Œä½†å°ä¸‘è¯æ˜ï¼Œä»–åªéœ€è¦â€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œå°±å¯ä»¥ç ´æ‰é»‘å¸®ä»¬çš„åº•çº¿ã€‚<br>åœ¨å°ä¸‘å¸¦é¢†ä¸‹ï¼Œä»–çš„çˆªç‰™ä»¬æ‰“åŠ«äº†å¤šä¸ªé»‘å¸®é“¶è¡Œï¼ŒæŠ¢åŠ«äº†6800ä¸‡ç¾å…ƒï¼Œä½†ä»–ç«Ÿç„¶å ‚è€Œçš‡ä¹‹åœ°é—¯è¿›äº†é»‘å¸®è€å¤§ä»¬çš„èšä¼šæ‰€ã€‚å› ä¸ºä»–æ˜ç™½ï¼Œåªè¦ä»–â€œè½»è½»æ¨ä¸€ä¸‹â€ï¼Œè¿™äº›é»‘å¸®è€å¤§ä»¬å°±ä¼šå›¢ç»“åœ¨ä»–å‘¨å›´ã€‚<br>æœä¸å…¶ç„¶ï¼Œå½“ä»–è¯´ï¼Œä»–å¯ä»¥æ€æ­»è™è ä¾ æ—¶ï¼Œå¤§å¤šæ•°é»‘å¸®è€å¤§éƒ½è¢«æ‰“åŠ¨äº†ã€‚è¿™æ—¢æ˜¯è¯±æƒ‘ï¼Œä¹Ÿæ˜¯åˆ©ç”¨äº†ææƒ§çš„åŠ›é‡ã€‚è¿™ä¸ªæ—¶å€™ï¼Œé»‘å¸®è€å¤§ä»¬è¢«è™è ä¾ ã€å“ˆç»´Â·é‚“ç‰¹å’Œæˆˆç™»ç­‰å…‰æ˜åŠ›é‡é€¼åˆ°äº†ç»è·¯ä¸Šï¼Œæ‰€ä»¥å½“ä»–æŠ›å‡ºè¿™ä¸ªè¯±é¥µåï¼Œé«˜è°­å¸‚é»‘ç¤¾ä¼šå¾ˆå¿«æ•´ä¸ªæŠ•é äº†ä»–ã€‚<br>æ•´ä¸ªå½±ç‰‡ä¸­ï¼Œå°ä¸‘ç»å¸¸åˆ©ç”¨äººæ€§çš„å¼±ç‚¹ç»™å‡ºé€‰æ‹©é¢˜ï¼Œä»¤æˆ‘å°è±¡æ·±åˆ»çš„é€‰æ‹©é¢˜æœ‰ä¸‰ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯ä»–æŠ›ç»™é»‘ç¤¾ä¼šçš„ã€‚ä¸€ä¸ªé»‘å¸®å¤´å­è®¨åŒä»–è€Œå‘å‡ºè¿½æ€ä»¤ï¼Œç»“æœè¢«ä»–æ‰€æ€ï¼Œè€Œä»–æ‰”ç»™äº†æ´»ç€çš„ä¸¤ä¸ªé»‘ç¤¾ä¼šçˆªç‰™å„è‡ªä¸€æˆªæ£å­ï¼Œè¯´ä½ ä»¬åªæœ‰ä¸€ä¸ªå¯ä»¥æ´»å‘½ï¼Œä½ ä»¬ç›¸äº’å®æ€å§ã€‚â€œç›—äº¦æœ‰é“â€ä¸­çš„ä¸€ä¸ªå¾ˆé‡è¦çš„â€œé“â€æ˜¯ä¸å¾—å†…è®§ï¼Œä½†è¿™ä¸ªåº•çº¿ï¼Œå°ä¸‘è½»æ˜“å°±ä»¤ä»–ä»¬çªç ´äº†ã€‚<br>é»‘ç¤¾ä¼šçš„â€œç›—äº¦æœ‰é“â€æ¯•ç«Ÿæ˜¯ä¸å¤§å¯é çš„ï¼Œè¢«çªç ´ä¼¼ä¹ä¸ç®—ä»€ä¹ˆã€‚é‚£ä¹ˆï¼Œé‚£äº›æœ€å…‰æ˜çš„æ­£äººå›å­å‘¢ï¼Ÿä»–ä»¬çš„åº•çº¿èƒ½çªç ´å—ï¼Ÿæ¥ä¸‹æ¥çš„æ•…äº‹æ˜¾ç¤ºï¼Œè¿™å¹¶ä¸æ˜¯éå¸¸éš¾ã€‚<br>è·å¾—äº†é»‘å¸®çš„æ”¯æŒåï¼Œå°ä¸‘å‘å“ˆç»´Â·é‚“ç‰¹ã€é«˜è°­å¸‚è­¦å¯Ÿå±€é•¿å’Œå³å°†å®¡åˆ¤é»‘å¸®è€å¤§ä»¬çš„å¥³æ³•å®˜ä¸‰äººåŒæ—¶å‘å‡ºäº†æ­»äº¡å¨èƒï¼Œå¹¶å‡ ä¹åœ¨åŒæ—¶ç‚¸æ­»äº†å¥³æ³•å®˜å’Œæ¯’æ­»äº†è­¦å¯Ÿå±€é•¿ã€‚è­¦å¯Ÿå±€é•¿æ˜¯åœ¨å’Œæˆˆç™»å¯¹è¯æ—¶å–äº†ä¸€æ¯æ¯’é…’è¢«æ¯’æ­»çš„ï¼Œå½“æ—¶æˆˆç™»è¯´ï¼Œä½ çš„å‘¨å›´å·²æœ‰å†…é¬¼ï¼Œä½ è¦å°å¿ƒã€‚ä½†æ­¤æ—¶è­¦å¯Ÿå±€é•¿æ¯’é…’å·²è½è‚šã€‚<br>æ˜¾ç„¶æ˜¯å†…é¬¼ç»™äº†è­¦å¯Ÿå±€é•¿æ¯’é…’ï¼Œä½†å†…é¬¼ä¸ºä»€ä¹ˆä¼šå¬ä»å°ä¸‘æŒ‡æŒ¥ï¼Ÿå½±ç‰‡æ²¡ç»™å‡ºç›´æ¥å›ç­”ï¼Œä½†ä¸éš¾æ¨æµ‹çš„æ˜¯ï¼Œå°ä¸‘å‘è¿™äº›è­¦å¯Ÿæœ¬äººåŠå…¶äº²äººå‘å‡ºäº†æ­»äº¡å¨èƒï¼Œè¿™æ˜¯å°ä¸‘ä¸€ç›´åœ¨ä½¿ç”¨çš„æ‰‹æ®µã€‚<br>è¦æ€æ­»å“ˆç»´Â·é‚“ç‰¹å°±æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“äº†ï¼Œå› ä¸ºå“ˆç»´Â·é‚“ç‰¹çš„æœªå©šå¦»ç‘ç§‹æ˜¯è™è ä¾ çš„å‰å¥³å‹ï¼Œè™è ä¾ æ˜¯å“ˆç»´Â·é‚“ç‰¹çš„å¶åƒï¼Œè€Œå“ˆç»´Â·é‚“ç‰¹åˆ™æ˜¯è™è ä¾ å¿ƒç›®ä¸­çš„æ•‘æ˜Ÿã€‚</p><p>ä¸¤ä¸ªç”·äººè¢«ä¸€ä¸ªå¥³äººçˆ±ä¸Šï¼Œè¿™é€šå¸¸æ„å‘³ç€ï¼Œè¿™ä¸¤ä¸ªç”·äººè¦ä¹ˆå¾ˆåƒï¼Œè¦ä¹ˆæˆªç„¶ä¸åŒã€‚è¿™ä¸¤ç‚¹ç»¼åˆèµ·æ¥è¿˜æœ‰æ›´å¤æ‚çš„æƒ…å½¢ï¼Œå³ä»–ä»¬è¦ä¹ˆçœ‹ä¸Šå»å¾ˆåƒä½†å…¶å®å®Œå…¨ä¸åŒï¼Œæˆ–çœ‹ä¸Šå»ä¸åƒä½†å…¶å®æœ¬è´¨ä¸€æ ·ã€‚<br>è™è ä¾ å’Œå“ˆç»´Â·é‚“ç‰¹åˆæœ‰ä»€ä¹ˆç›¸åŒå’Œä¸åŒå‘¢ï¼Ÿ<br>è™è ä¾ çš„çœŸåå«å¸ƒå¢æ–¯Â·éŸ¦æ©ï¼Œæ˜¯éŸ¦æ©ä¼ä¸šé›†å›¢çš„è‘£äº‹é•¿ï¼Œå…¨ä¸–ç•Œæœ€å¯Œæœ‰çš„ç”·äººã€‚ä»–ç¬¬ä¸€æ¬¡å’Œå“ˆç»´Â·é‚“ç‰¹ç›¸é‡æ˜¯åœ¨ä»–çš„ä¸€ä¸ªé¤å…ã€‚é«˜è°­å¸‚æ£€å¯Ÿå®˜æƒ³å’Œè‡ªå·±çš„åŒäº‹æœªå©šå¦»ç‘ç§‹çº¦ä¼šï¼Œæ‰˜äº†äººæ‰åœ¨è¿™ä¸ªé¤å…å®šäº†ä¸€ä¸ªä½å­ï¼Œè€Œæ°å¥½é‡è§äº†èƒ³è†Šä¸ŠæŒ½ç€ä¿„ç½—æ–¯èŠ­è•¾èˆæ¼”å‘˜çš„å¸ƒå¢æ–¯Â·éŸ¦æ©ã€‚ä¸çŸ¥é“å¸ƒå¢æ–¯Â·éŸ¦æ©å°±æ˜¯è™è ä¾ çš„å“ˆç»´Â·é‚“ç‰¹è°ˆèµ·äº†è™è ä¾ ï¼Œè¨€è¾ä¸­å……æ»¡ç€å´‡æ‹œï¼Œä»–è®¤ä¸ºè™è ä¾ æ˜¯è‹±é›„ï¼Œè€Œè¿™ä¸ªæ··ä¹±çš„åŸå¸‚éœ€è¦è™è ä¾ çš„çœ‹æŠ¤ï¼Œå¹¶æ‹…å¿ƒè™è ä¾ çš„å‹åŠ›å¤ªå¤§ï¼Œâ€œæˆ–æ˜¯ä½œä¸ºè‹±é›„æˆ˜æ­»ï¼Œæˆ–æ˜¯è‹Ÿæ´»é“ç›®ç¹è‡ªå·±è¢«é€¼æˆåäººã€‚â€<br>å“ˆç»´Â·é‚“ç‰¹æ˜¯å¸ƒå¢æ–¯Â·éŸ¦æ©çš„æƒ…æ•Œï¼Œä½†éŸ¦æ©è¿˜æ˜¯è¢«å“ˆç»´Â·é‚“ç‰¹æ‰“åŠ¨äº†ï¼Œä»–æƒ³ç”¨ä»–çš„è´¢å¯Œå¸®åŠ©è¿™ä½â€œå…‰æ˜éª‘å£«â€ï¼Œè®©é«˜è°­å¸‚æ°‘å½»åº•â€œç›¸ä¿¡å“ˆç»´Â·é‚“ç‰¹ï¼ˆè¿™æ˜¯å“ˆç»´Â·é‚“ç‰¹çš„ç«é€‰å£å·ï¼‰â€ï¼Œä»–ä¹Ÿæ¸´æœ›å“ˆç»´Â·é‚“ç‰¹æ„¿æœ›å®ç°ï¼Œå°†â€œçœ‹æŠ¤é«˜è°­å¸‚â€çš„è´£ä»»äº¤ç»™ä»–ã€‚<br>å½“ç„¶ï¼Œè¿™ç§æ— ç§è—ç€æå¤§çš„è‡ªç§ã€‚å› ä¸ºï¼Œå¸ƒå¢æ–¯Â·éŸ¦æ©ä»ç„¶çˆ±ç€ç‘ç§‹ï¼Œè€Œç‘ç§‹ä¸å¸Œæœ›å«ç»™â€œè™è ä¾ â€ï¼Œè¿‡ç€æ‹…æƒŠå—æ€•çš„ç”Ÿæ´»ï¼Œå¥¹å¸Œæœ›å’Œå¸ƒå¢æ–¯Â·éŸ¦æ©è¿‡å¹³æ·¡è€Œå¹¸ç¦çš„ç”Ÿæ´»ï¼Œæ‰€ä»¥æ­¤å‰å¯¹Â·å¸ƒå¢æ–¯éŸ¦æ©è¯´è¿‡ï¼Œå¦‚æœä½ ä¸å†åšè™è ä¾ ï¼Œæˆ‘å°±å«ç»™æˆ‘ã€‚<br>æ‰€ä»¥ï¼Œâ€œæš—å¤œéª‘å£«â€æ˜¯æƒ³å°†çœ‹æŠ¤é«˜è°­å¸‚çš„é‡æ‹…äº¤ç»™â€œå…‰æ˜éª‘å£«â€ï¼Œé‚£æ ·ä»–å°±å¯ä»¥å’Œå¿ƒçˆ±çš„äººè¿‡å¹¸ç¦ç”Ÿæ´»äº†ã€‚<br>å¥³äººæ˜¯çŸ›ç›¾çš„ï¼Œå¥³äººå¸¸åšè¿™æ ·çš„äº‹æƒ…ï¼šçˆ±ä¸Šä¸€ä¸ªè‹±é›„ï¼Œä½†å¯¹è‹±é›„è¯´ï¼Œä½ è¦å˜æˆå¹³å‡¡äººæˆ‘æ‰å«ä½ ã€‚ç„¶è€Œï¼Œè¿™æ˜¯çœŸçš„å—ï¼Ÿ</p><p>å› ä¸ºæœ‰è™è ä¾ ä¿æŠ¤ï¼Œå“ˆç»´Â·é‚“ç‰¹ä¸€ç›´æ˜¯å®‰å…¨çš„ï¼Œä½†åˆ«äººå°±æ²¡é‚£ä¹ˆå¹¸è¿äº†ï¼Œé«˜è°­å¸‚å¸‚é•¿éƒ½é™©äº›ä¸§å‘½äºå°ä¸‘çš„é˜´è°‹ä¸‹ï¼Œå…¶ä»–è¡€è…¥çš„æ€æˆ®åˆ™ä¸æ–­åˆºæ¿€é«˜è°­äººè„†å¼±çš„çµé­‚ã€‚<br>æœ€ç»ˆï¼Œè™è ä¾ å†³å®šå±ˆä»å°ä¸‘çš„è¦æ±‚ã€‚å°ä¸‘è¯´ï¼Œåªè¦è™è ä¾ è‡ªé¦–ï¼ˆé«˜è°­å¸‚è­¦æ–¹ä¸€ç›´åœ¨è¿½æ•è¿™ä½â€œæš´åŠ›ä¹‰è­¦â€ï¼‰ï¼Œä»–å°±åœæ­¢æ€æˆ®ã€‚è¿™å…¶å®æ˜¯åœ¨ç¦»é—´è™è ä¾ å’Œé«˜è°­å¸‚æ°‘çš„å…³ç³»ã€‚<br>å¤§ä¼—æ¯”è¾ƒå®¹æ˜“è¢«ç¦»é—´ï¼Œä»–ä»¬çº·çº·å‘¼åè™è ä¾ ç°èº«ã€‚å“ˆç»´Â·é‚“ç‰¹è´¨é—®æ°‘ä¼—ï¼šâ€œä½ ä»¬çœŸåœ°è¦ç‰ºç‰²è¿™ä½ä¸€ç›´ä¿æŠ¤ä½ ä»¬çš„è‹±é›„å—ï¼Ÿâ€ä»–ä»¬çº·çº·å›ç­”è¯´ï¼Œæ˜¯çš„ã€‚<br>è¿™æ—¶ï¼Œå“ˆç»´Â·é‚“ç‰¹è¯´ï¼Œä»–å°±æ˜¯è™è ä¾ ã€‚<br>ä¹Ÿå°±åœ¨è¿™ä¸€åˆ»ï¼Œç‘ç§‹ç¬¬ä¸€æ¬¡çœŸå¿ƒç—›æ¨èµ·å¸ƒå¢æ–¯Â·éŸ¦æ©æ¥ï¼Œå¥¹æ–¥è´£ä»–è®©æ£€å¯Ÿé•¿èƒŒé»‘é”…ï¼Œå¹¶å†³å®šå«ç»™å“ˆç»´Â·é‚“ç‰¹ã€‚ç„¶è€Œï¼Œå¥¹åˆ°åº•æƒ³å«ç»™è°å‘¢ï¼Ÿ<br>æ˜¾ç„¶ï¼Œå¥¹æ˜¯å†³å®šå«ç»™é‚£ä¸ªæœ€è‹±é›„çš„äººï¼Œé‚£ä¸ªæœ€æ­£ç¡®çš„äººã€‚é‚£ä¹ˆï¼Œå¥¹æ˜¯çœŸçš„æƒ³è®©è™è ä¾ å˜æˆå¹³å‡¡äººå—ï¼Ÿ<br>è¢«æ•çš„å“ˆç»´Â·é‚“ç‰¹è¦è¢«é€è¿›ç›‘ç‹±ï¼Œå°ä¸‘åˆ™åœ¨è·¯ä¸Šè®¾è®¡æ€æ­»ä»–ã€‚è‡ªç„¶ï¼Œâ€œæš—å¤œéª‘å£«â€ä¼šæ¥ä¿æŠ¤â€œå…‰æ˜éª‘å£«â€ã€‚ç»è¿‡ä¸€ç•ªæ¿€çƒˆçš„å¤§æˆ˜åï¼Œå°ä¸‘æœ€åå‰©ä¸‹äº†å­¤å®¶å¯¡äººï¼Œè€Œè™è ä¾ åˆ™å¼€ç€é«˜ç§‘æŠ€æ‘©æ‰˜è½¦å‘ä»–æ’å»ã€‚<br>ä½†å°ä¸‘å¹¶ä¸èº²é—ªï¼Œè€Œæ˜¯ç‹ç¬‘ç€è‡ªè¯­ï¼šâ€œæ’æˆ‘å•Šï¼æ’æˆ‘å•Šï¼â€<br>ä¸€å¼€å§‹ï¼Œå¯¹è¿™ä¸€æƒ…èŠ‚æˆ‘æœ‰ä¸è§£ï¼Œä½†éšå³æ˜ç™½ï¼Œä»–æ˜¯æƒ³ç”¨è‡ªæˆ‘ç‰ºç‰²æ¥å¼•è¯±è™è ä¾ çªç ´è‡ªå·±â€œä¸æ€äººâ€çš„åº•çº¿ï¼Œä»¥æ­¤æ¥è¯æ˜ï¼Œä»–æ‰æ˜¯å”¯ä¸€æ­£ç¡®çš„ã€‚<br>â€œåªæœ‰æˆ‘æ‰æ˜¯æ­£ç¡®çš„â€ï¼Œè¿™ç§æ„Ÿè§‰çš„è¯±æƒ‘åŠ›çœŸæ˜¯å¼ºå¤§ï¼Œä¸ºäº†â€œæå«â€è¿™ç§æ„Ÿè§‰ï¼Œå°ä¸‘ä¸æƒœä¸€æ­»ã€‚<br>è™è ä¾ ä¹Ÿæ˜ç™½äº†è¿™ä¸€ç‚¹ï¼Œåœ¨åƒé’§ä¸€å‘æ—¶åˆ»ï¼Œä»–èº²é—ªï¼Œå¹¶è¢«æ‘”æ™•ï¼Œä½†å°ä¸‘è¿˜æ˜¯è¯ˆæ­»çš„æˆˆç™»è¢«æ•äº†ã€‚<br>å­°æ–™ï¼Œè¢«æ•ä¹Ÿæ˜¯å°ä¸‘çš„ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„åœˆå¥—ã€‚ä»–çŸ¥é“ï¼Œæˆˆç™»æ²¡æ­»ï¼Œè€Œä¸”æˆˆç™»ä¸€å®šä¼šæŠŠä»–é€è¿›æˆˆç™»è‡ªå·±çš„ç‰¹åˆ«ç‰¢æˆ¿ï¼Œé‚£é‡Œè¿˜å…³ç€ä¸€ä¸ªæŒæ¡ç€é»‘å¸®æ‰€æœ‰è´¢å¯Œçš„ç‰¹æ®Šäººç‰©ã€‚å›´ç»•ç€è¿™ä¸€ç‚¹ï¼Œä»–è¿˜è®¾è®¡äº†è®¸å¤šåœˆå¥—ã€‚<br>ä½†è™è ä¾ å’Œè­¦æ–¹ä¸çŸ¥é“è¿™ä¸€åœˆå¥—ï¼Œä»–ä»¬ä»¥ä¸ºé€®æ•å°ä¸‘å°±å¯ä»¥ä¸‡äº‹å¤§å‰äº†ã€‚ä½†ä»–ä»¬å¾ˆå¿«å‘ç°ï¼Œè¿™æ˜¯å¹»è§‰ï¼Œå°ä¸‘çš„äººæŠ“èµ°äº†å“ˆç»´Â·é‚“ç‰¹å’Œç‘ç§‹ã€‚è€Œåœ¨ç›‘ç‹±é‡Œï¼Œå°ä¸‘ç»™è™è ä¾ å‡ºäº†å½±ç‰‡ä¸­çš„ç¬¬äºŒé“é€‰æ‹©é¢˜ï¼šä¸€ä¸ªåœ°æ–¹å…³ç€å“ˆç»´Â·é‚“ç‰¹ï¼Œå¦ä¸€ä¸ªåœ°æ–¹å…³ç€ç‘ç§‹ï¼Œæ—¶é—´æœ‰é™ï¼Œä½ åªèƒ½æ•‘ä¸€ä¸ªï¼Œä½ æ•‘è°ï¼Ÿ<br>è™è ä¾ é€‰æ‹©äº†æ•‘ç‘ç§‹ï¼Œè¿™æ°æ°ä¸­äº†å°ä¸‘çš„åœˆå¥—ï¼Œå°ä¸‘æ•…æ„è¯´é”™äº†åœ°ç‚¹ï¼Œä»–è¯´å…³ç‘ç§‹çš„åœ°ç‚¹å…¶å®å…³çš„æ˜¯å“ˆç»´Â·é‚“ç‰¹ã€‚æ‰€ä»¥ï¼Œè™è ä¾ æ•‘å‡ºçš„æ˜¯å“ˆç»´Â·é‚“ç‰¹ï¼Œè€Œç‘ç§‹è‘¬èº«äºç«æµ·ä¸­ã€‚<br>å¯¹æ­¤ï¼Œå¸ƒå¢æ–¯Â·éŸ¦æ©åæ€ï¼Œä»–åšäº†ä¸€æ¬¡â€œä¸æ­£ç¡®çš„å†³å®šâ€ï¼Œç»ˆäºçŸ¥é“äº†â€œè™è ä¾ ä¹Ÿæœ‰åŠ›ä¸èƒ½åŠçš„äº‹â€ã€‚è¿™ä¸€æ¬¡ä¹Ÿä»¿ä½›éªŒè¯äº†å°ä¸‘çš„é€»è¾‘â€œæ²¡åˆ°è¿«ä¸å¾—å·²çš„æ—¶å€™ï¼Œè°ä¸æƒ³æ­£ä¹‰å‡›ç„¶ï¼Ÿâ€</p><p>è¿™ä¸åªæ˜¯è™è ä¾ â€œåŠ›ä¸èƒ½åŠçš„äº‹â€ï¼Œä¹Ÿæ˜¯å½±ç‰‡ä¸­æ‰€æœ‰å¥½äººå˜åçš„åŸå› ã€‚å°ä¸‘çš„äººæ²¡æ‹‰ä¸€ä¸ªè­¦å¯Ÿä¸‹æ°´ï¼Œéƒ½æ˜¯é€šè¿‡èƒè¿«è­¦å¯Ÿäº²äººçš„ç”Ÿå‘½è€Œå®ç°çš„ã€‚è­¬å¦‚ç‘ç§‹ä¹‹æ‰€ä»¥è¢«ç»‘æ¶ï¼Œæ˜¯å› ä¸ºæˆˆç™»å±ä¸‹çš„ä¸€ä¸ªå¥³è­¦å¯Ÿå—åˆ°äº†è¿™ç§å¨èƒï¼Œè€Œå“ˆç»´Â·é‚“ç‰¹è¢«ç»‘æ¶ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå°ä¸‘èƒ½å¤Ÿè‚†æ— å¿Œæƒ®åœ°åˆ¶é€ ç‚¸æ­»å¥³æ³•å®˜ã€æ¯’æ­»è­¦å¯Ÿå±€é•¿ã€æªå‡»å¸‚é•¿ã€ç‚¸æ‰é«˜è°­ç»¼åˆåŒ»é™¢ç­‰ä¸€ç³»åˆ—äº‹æƒ…ï¼Œä¹Ÿéƒ½æ˜¯å› ä¸ºä»–åˆ©ç”¨è¿™ä¸€å¨èƒçªç ´äº†ä¸€ä¸ªåˆä¸€ä¸ªå¥½äººçš„åº•çº¿ã€‚<br>å½±ç‰‡çš„é«˜æ½®ä¸­ï¼Œå°ä¸‘å°†è¿™ä¸€æ‹›æ•°å‘æŒ¥åˆ°æè‡´ã€‚ä»–å¨èƒæ•´ä¸ªåŸå¸‚çš„äººï¼Œè¦ä¹ˆâ€œæˆä¸ºæˆ‘çš„äººâ€ï¼Œè¦ä¹ˆç¦»å¼€è¿™ä¸ªåŸå¸‚ã€‚æœ€åä¸€æ‰¹é€ƒç¦»è¿™ä¸ªåŸå¸‚çš„äººä¹˜åäº†ä¸¤æ¡èˆ¹ï¼Œä¸€æ¡èˆ¹ä¸Šæ˜¯å¥½äººï¼Œä¸€æ¡èˆ¹ä¸Šæ˜¯é‚£äº›é»‘ç¤¾ä¼šè€å¤§åŠå…¶å±ä¸‹ã€‚<br>ç­‰è¿™ä¸¤æ¡èˆ¹å¼€åˆ°æ²³ä¸­æ—¶ï¼Œçªç„¶åœä¸‹äº†ï¼Œå¹¶ä¼ æ¥äº†å°ä¸‘çš„å¨èƒï¼šæ¯æ¡èˆ¹ä¸Šéƒ½è£…æœ‰å¤§é‡ç‚¸è¯ï¼Œè¿˜æœ‰ä¸€ä¸ªèµ·çˆ†å™¨ï¼Œä½†èµ·çˆ†å™¨æ§åˆ¶çš„æ˜¯å¦ä¸€æ¡èˆ¹ï¼Œåªæœ‰ä¸€æ¡èˆ¹ä¸Šçš„äººå¯ä»¥ç”Ÿè¿˜ï¼Œæ¡ä»¶æ˜¯12ç‚¹å‰å¿…é¡»å¼•çˆ†å¦ä¸€æ¡èˆ¹ã€‚<br>è¿™æ˜¯å°ä¸‘åœ¨å½±ç‰‡ä¸­å‡ºçš„ç¬¬ä¸‰é“é€‰æ‹©é¢˜ï¼Œè€Œä¸”é€‰æ‹©èŒƒå›´æ˜¯æ°‘ä¼—ã€‚æ°‘ä¼—æ›¾ç»é€‰æ‹©æŠ›å¼ƒè™è ä¾ ï¼Œä»–ä»¬è¿˜ä¼šé€‰æ‹©æŠ›å¼ƒåˆ«äººå—ï¼Ÿ<br>ç»“æœï¼Œå°ä¸‘å¤±è´¥äº†ã€‚è½½æœ‰æ™®é€šäººçš„èˆ¹ï¼Œé€šè¿‡æŠ•ç¥¨å†³å®šä¸å¼•çˆ†èµ·çˆ†å™¨ï¼Œè€Œè½½æœ‰ç½ªçŠ¯çš„èˆ¹ï¼Œèµ·çˆ†å™¨è¢«ä¸€ä¸ªé»‘ç¤¾ä¼šè€å¤§æ‰”åˆ°äº†æ²³é‡Œã€‚<br>åŸºç£æ•™ä¼ è¯´ä¸­ï¼Œé­”é¬¼æ’’æ—¦èµ¢å¾—ä¸–ç•Œçš„æ–¹å¼æ˜¯æ•è·äººç±»çš„çµé­‚ï¼Œè€Œå°ä¸‘ä½¿ç”¨çš„æ˜¯åŒä¸€é€»è¾‘ï¼Œä»–å¯¹é‡‘é’±ä¸æ¯«ä¸æ„Ÿå…´è¶£ï¼Œä»–æ›¾å°†å †ç§¯å¦‚å±±çš„é’±ä»˜ä¹‹ä¸€ç‚¬ï¼Œè¯´â€œè¿™ä¸ªåŸå¸‚é…å¾—ä¸Šä¸€ä¸ªæœ‰å“å‘³çš„ç½ªçŠ¯â€ã€‚ä»–è¿˜å¯¹è™è ä¾ è¯´ï¼šâ€œä½ åº”è¯¥çŸ¥é“ï¼Œæˆ‘å¯¹é’±æ²¡æœ‰å…´è¶£ï¼Œæˆ‘ä¸æ˜¯é‚£ç§äººï¼Œä½ ä¸è¦æŠŠæˆ‘é™æ ¼æˆé‚£ç§äººã€‚â€<br>å°ä¸‘æ„Ÿå…´è¶£çš„æ˜¯ï¼Œå°†ä»–çš„é€»è¾‘â€”â€”â€œæ²¡æœ‰è¿«ä¸å¾—å·²çš„æ—¶å€™ï¼Œè°ä¸æƒ³æ­£ä¹‰å‡›ç„¶ï¼Ÿâ€â€”â€”å¼ºåŠ ç»™å‘¨å›´çš„ä¸–ç•Œã€‚å¯¹è¿™ä¸€ç‚¹ï¼Œå¸ƒå¢æ–¯Â·éŸ¦æ©çš„ç®¡å®¶é˜¿å°”å¼—é›·å¾·ä¸€å¼€å§‹å°±å‘ç°äº†ï¼Œä»–ç»™è™è ä¾ ä¸¾ä¾‹è¯´ï¼Œæ›¾ç»æœ‰åŒªå¾’åŠ«èµ°äº†ä»–ä»¬çš„å®çŸ³ï¼Œä½†ä»–ä»¬å´å°†è¿™äº›å®çŸ³éšå¤„ä¸¢å¼ƒï¼Œä»–ä»¬å…¶å®å¯¹å®çŸ³å¹¶ä¸æ„Ÿå…´è¶£ï¼Œä»–ä»¬è¿™ä¹ˆåšï¼Œä»…ä»…æ˜¯å› ä¸ºâ€œä»–ä»¬è§‰å¾—æœ‰æ„æ€ã€‚ä»–ä»¬ä¸ä¼šè¢«æ”¶ä¹°ï¼Œä¸ä¼šè¢«æå“ï¼Œä¸ä¼šè®²é“ç†ï¼Œä¹Ÿä¸ä¼šæ¥å—è°ˆåˆ¤ï¼Œæœ‰äº›äººå°±æ˜¯æƒ³çœ‹ç€è¿™ä¸ªä¸–ç•Œç‡ƒçƒ§ã€‚â€<br>åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¹Ÿæ˜¯æ‰€æœ‰æœ€é‚ªæ¶ç½ªçŠ¯çš„å…±åŒæ¬²æœ›ï¼Œä»–ä»¬æ„Ÿå…´è¶£çš„ä¸æ˜¯é’±æƒååˆ©ç­‰çœ‹å¾—è§æ‘¸å¾—ç€çš„äº‹ç‰©ï¼Œä»–ä»¬è¦çš„æ˜¯å½±å“åŠ›ï¼Œä»–ä»¬æƒ³å°†ä»–ä»¬çš„æ„å¿—å¼ºåŠ ç»™è¿™ä¸ªä¸–ç•Œï¼Œè®©è¿™ä¸ªä¸–ç•Œéšç€ä»–ä»¬çš„æ¬²æœ›è€Œæˆ˜æ —ï¼Œç”¨æ™®é€šçš„é€»è¾‘çœ‹å¾…ä»–ä»¬æ˜¯è¡Œä¸é€šçš„ã€‚</p><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼ŒåŒªå¾’å’Œè‹±é›„ä¹Ÿå¸¸å¸¸æ˜¯ä¸€ä¸ªç¡¬å¸çš„ä¸¤é¢ï¼Œä»–ä»¬è¦çš„å…¶å®éƒ½æ˜¯å½±å“åŠ›ï¼Œè€Œä¸æ˜¯æ­£ä¹‰ã€å…¬å¹³ã€æ™®ä¸–é“ç†æˆ–â€œç»å¯¹æ­£ç¡®çš„äº‹â€ã€‚<br>å“ˆç»´Â·é‚“ç‰¹å°±æ˜¯è¿™æ ·çš„ä¾‹å­ã€‚å½±ç‰‡çš„é«˜æ½®æ˜¯ç¬¬ä¸‰ä¸ªé€‰æ‹©ï¼Œåœ¨è¿™ä¸ªé€‰æ‹©ä¸Šï¼Œå°ä¸‘è¾“äº†ï¼Œä½†å°ä¸‘ä»å“ˆå“ˆå¤§ç¬‘ï¼Œå› ä¸ºè®¤ä¸ºä»–åœ¨â€œé«˜è°­çµé­‚ä¹‹æˆ˜â€ä¸Šèµ¢äº†ã€‚<br>å°ä¸‘çš„æ„æ€æ˜¯ï¼Œä»–ç”¨ä»–çš„é€»è¾‘å‡»è´¥äº†å“ˆç»´Â·é‚“ç‰¹ï¼Œæœ€ç»ˆè®©è¿™ä½â€œå…‰æ˜éª‘å£«â€æœè†ºäº†ä»–çš„é€»è¾‘ã€‚<br>è¿™æ˜¯çœŸçš„ã€‚ç‘ç§‹ä¸§ç”Ÿåï¼Œå“ˆç»´Â·é‚“ç‰¹ç»æœ›äº†ã€‚å°½ç®¡è™è ä¾ æ•‘äº†ä»–ï¼Œä½†ä»–çš„å·¦åŠè¾¹è„¸è¢«æ±½æ²¹çƒ§çƒ‚äº†ï¼Œçš®è‚¤è„±è½ï¼Œè‚Œè‚‰å’Œç‰™é½¿è£¸éœ²ï¼Œæ— æ¯”ç–¼ç—›ï¼Œä½†ä»–æ‹’ç»æ¥å—ä»»ä½•å»ç—›æ²»ç–—ã€‚<br>è¿™å¯ä»¥ç†è§£ï¼Œå› ä¸ºï¼Œæ¯”èµ·å¤±å»çˆ±äººçš„å¿ƒç—›æ¥ï¼Œè¿™ç§è‚‰ä½“çš„ç—›æ›´å®¹æ˜“æ‰¿å—ï¼Œè€Œä¸”å®ƒå¯ä»¥è®©è‡ªå·±çš„æ³¨æ„åŠ›ä»å¿ƒç—›ä¸Šè½¬åˆ°è‚‰ä½“çš„ç—›ä¸Šæ¥ã€‚<br>åŒé‡çš„ç—›è®©å“ˆç»´Â·é‚“ç‰¹æ”¾å¼ƒäº†â€œå¯¹å…¬æ­£çš„ç‹‚çƒ­è¿½æ±‚â€ï¼Œè½¬è€Œå˜æˆäº†ä¸€ä¸ªå½»åº•çš„æœºä¼šä¸»ä¹‰è€…ï¼Œä»–è¿½è¸ªå¹¶æ‹·é—®æ‰€æœ‰ç‰µæ¶‰åˆ°ç‘ç§‹ä¹‹æ­»çš„äººï¼Œå¹¶é€šè¿‡æŠ›ç¡¬å¸æ¥å†³å®šå¯¹æ–¹çš„ç”Ÿæ­»ã€‚<br>â€œå…‰æ˜éª‘å£«â€å˜æˆâ€œåŒé¢éª‘å£«â€ï¼Œè¿™çœ‹èµ·æ¥ä»¤äººå¿ƒç—›ï¼Œä½†è¿™å¹¶éå¶ç„¶ã€‚å½±ç‰‡æ˜¾ç¤ºï¼Œä»–å¾ˆæ—©å°±æœ‰ä¸€ä¸ªç»°å·â€œåŒé¢äººâ€ï¼Œè€Œä»–ä¸€ç›´å–œæ¬¢æŠ›ç¡¬å¸ï¼Œä»–è¡¨ç°å‡ºçš„â€œå¯¹å…¬æ­£çš„ç‹‚çƒ­è¿½æ±‚â€ä¸è¿‡æ˜¯ä¸€é¢è€Œå·²ï¼Œè€Œä»–çš„å¦ä¸€é¢æ—©å°±å­˜åœ¨ï¼Œå°ä¸‘çš„é€»è¾‘â€œæ²¡æœ‰è¿«ä¸å¾—å·²çš„æ—¶å€™ï¼Œè°ä¸æƒ³æ­£ä¹‰å‡›ç„¶ï¼Ÿâ€å¯ä»¥ä¸æŠ˜ä¸æ‰£åœ°ç”¨åœ¨ä»–èº«ä¸Šã€‚<br>å¯ä»¥è¯´ï¼Œå“ˆç»´Â·é‚“ç‰¹å¹¶ä¸æ˜¯åœ¨è¿½æ±‚â€œå…‰æ˜â€ï¼Œè€Œæ˜¯ä»–å‘ç°ï¼Œä»–å¯ä»¥é€šè¿‡è¿½æ±‚å…‰æ˜æ¥è¿½æ±‚å½±å“åŠ›ï¼Œä»–é€šè¿‡â€œå¯¹å…¬æ­£çš„ç‹‚çƒ­è¿½æ±‚â€æˆä¸ºé«˜è°­å¸‚æ°‘çš„å¶åƒï¼Œä»–ä¹Ÿé€šè¿‡æ›¿è™è ä¾ èƒŒé»‘é”…è€Œç»ˆäºè·å¾—äº†ç‘ç§‹çš„çˆ±ã€‚è¿™æ˜¯æå¤§çš„å¥½å¤„ã€‚<br>ç„¶è€Œï¼Œç‘ç§‹æ­»äº†ï¼Œä»–çš„ç”Ÿå­˜é€»è¾‘ä¹Ÿéšä¹‹ä¸€ä¸‹å­è¢«é¢ è¦†äº†ã€‚<br>ä»è¿™ä¸€ç‚¹çœ‹æ¥ï¼Œä»–ä¸è™è ä¾ åªæ˜¯â€œå½¢ä¼¼è€Œç¥ç¦»â€ï¼Œé€šä¿—è¯´æ¥ï¼Œå°±æ˜¯ä»–çœ‹ä¸Šå»ä¸è™è ä¾ å¾ˆåƒï¼Œä½†æœ¬è´¨ä¸Šæœ‰æ ¹æœ¬å·®å¼‚ã€‚<br>è¿™ä¸€å·®å¼‚æ˜¯ï¼Œè™è ä¾ å¯¹å½±å“åŠ›æ²¡æœ‰å…´è¶£ï¼Œä»–è¿½æ±‚çš„æ˜¯æ­£ä¹‰ã€‚å½±ç‰‡æœ€åï¼Œä»–ç”˜æ„¿æ›¿å“ˆç»´Â·é‚“ç‰¹èƒŒé»‘é”…ï¼Œå°†è¿™ä½â€œå…‰æ˜éª‘å£«â€çš„æ€ä¸šæ‰¿æ‹…åœ¨è‡ªå·±èº«ä¸Šï¼Œä¸æƒœä»¤äººä»¬ä»¥ä¸ºä»–å·²ç ´äº†æ€æˆ’ã€‚ä½†ä»–æ„¿æ„æ‰¿æ‹…è¿™ä¸€åˆ‡ï¼Œè€Œè®©é«˜è°­äººå»è¿æ¥å…‰æ˜ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªè¡¨ç°å‡ºæ¥çš„è‹±é›„ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸå®çš„è‹±é›„ã€‚<br>é‡è¦çš„ä¸æ˜¯å½¢å¼ï¼Œé‡è¦çš„æ˜¯çµé­‚ï¼Œè¿™æ˜¯å°ä¸‘å’Œè™è ä¾ çš„å…±åŒä¹‹å¤„ã€‚<br>å¹¶ä¸”ï¼Œå°½ç®¡å°ä¸‘ä¼¼ä¹æ²¡æœ‰ä»»ä½•åº•çº¿ï¼Œå¹¶è¯´è‡ªå·±æ˜¯â€œæ··ä¹±çš„ä»£ç†äººâ€ï¼Œè¯´ä»–æ†æ¨ç§©åºï¼Œä½†ä»–æƒ³è¥é€ çš„ä¸–ç•Œä»ç„¶æ˜¯æœ‰ç§©åºçš„ã€‚<br>ä»–æƒ³è®©ä¸–ç•Œææƒ§ï¼Œè¿™ä¸è¿‡æ˜¯ä»–çš„â€œå†…åœ¨çš„æš´è™çš„çˆ¶äº²â€æŠ˜ç£¨ä»–çš„â€œå†…åœ¨çš„å—è™çš„å°ç”·å­©â€çš„å¤–åŒ–è€Œå·²ã€‚ä»–æ›¾æœè†ºäºçˆ¶äº²çš„é€»è¾‘ï¼Œè®¤åŒäº†é‚£ä¸ªâ€œå†…åœ¨çš„æš´è™çš„çˆ¶äº²â€ï¼Œè€Œä»–ä¹Ÿå¸Œæœ›æ•´ä¸ªä¸–ç•Œå’Œæ›¾ç»çš„ä»–ä¸€æ ·ï¼Œå±ˆä»äºè¿™ç§æš´åŠ›ä¹‹ä¸‹ã€‚<br>ä½†æ˜¯ï¼Œä»–çš„å†…å¿ƒæ·±å¤„çš„é‚£ä¸ªå°ç”·å­©åˆæƒ§æ€•è¿™ä¸€ç‚¹çš„å®ç°ï¼Œå› ä¸ºè¿™æ„å‘³ç€ä»–çš„æ‰€æœ‰ä¸–ç•Œéƒ½å°†é™·å…¥é»‘æš—ï¼Œå°†ä¸å†æœ‰ä»»ä½•å…‰äº®ã€‚æ‰€ä»¥ï¼Œå½“æœ‰äººçœŸçš„æƒ³æš´éœ²è™è ä¾ çš„çœŸå®èº«ä»½æ—¶ï¼Œä»–å´å‘è¿™ä¸ªäººå‘å‡ºäº†è¿½æ€ä»¤ã€‚<br>ç”šè‡³ï¼Œæˆ‘æƒ³ï¼Œå³ä¾¿è™è ä¾ çœŸçš„æ²¡æœ‰äº†æŠµæŠ—èƒ½åŠ›ï¼Œä»»ä»–å®°å‰²æ—¶ï¼Œä»–ä¼šæ”¾å¼ƒã€‚æˆ–è€…ï¼Œä»–ä¼šæ€æ‰è¿™ä¸ªè™è ä¾ ï¼Œç„¶åå†å»æ‰¾ä¸€ä¸ªè™è ä¾ å»æ€ã€‚å¦‚æœè¿™ä¸ªä¸–ç•Œä¸Šåªæœ‰ä¸€ä¸ªè™è ä¾ çš„è¯ï¼Œä»–ä¼šèˆä¸å¾—æ€çš„ã€‚è¿™ä¸åªæ˜¯ä¸ºäº†ä¸æ–­æ–—ä¸‹å»è€Œæ´»åœ¨â€œä¸€ä¸ªä¸é‚£ä¹ˆæ— èŠçš„ä¸–ç•Œâ€ï¼Œä¹Ÿæ˜¯ä»–å†…å¿ƒæ·±å¤„é‚£ä¸ªå°ç”·å­©çš„ä¸€ç‚¹å¾®å¼±è€Œåšå®šçš„å‘¼å£°ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç”µå½± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ·å®Œ300é“leetcodeçš„æ„Ÿæƒ³</title>
      <link href="/blog/posts/3d49f50c/"/>
      <url>/blog/posts/3d49f50c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘å‡ ä¸ªæœˆåˆ·äº†å°†è¿‘300é“åŠ›æ‰£é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸‹ã€‚</p></blockquote><p>é¦–å…ˆï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œè¿™ç§ä¸œè¥¿åº”è¯¥æ—©ç‚¹å¼€å§‹åˆ·ï¼Œå¯æƒœå› ä¸ºè‡ªå·±å¹¶éè®¡ç®—æœºç§‘ç­å‡ºèº«ï¼Œå¤§å­¦ä¹Ÿå¯¹ç¼–ç¨‹æ²¡äº§ç”Ÿå…´è¶£ï¼Œä¸€ç›´åˆ°å‚åŠ å·¥ä½œï¼Œè¯¯æ‰“è¯¯æ’æ¥è§¦åˆ°ç¨‹åºå‘˜è¿™ä¸ªè¡Œä¸šï¼Œæ‰å¼€å§‹çœŸæ­£çš„å­¦ä¹ è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œï¼Œç®—æ³•ä¹‹ç±»çš„ï¼Œä½†æ˜¯ç°åœ¨å¼€å§‹ä¹Ÿè¿˜è¡Œï¼Œæ¯•ç«Ÿï¼Œå¼€å§‹åšä¸€ä»¶äº‹çš„æœ€å¥½æ—¶é—´ç‚¹æ˜¯åå¹´å‰ï¼Œå¦ä¸€ä¸ªæ˜¯ç°åœ¨ã€‚</p><h2 id="ç•™ä¸ªæˆªå›¾"><a class="header-anchor" href="#ç•™ä¸ªæˆªå›¾">Â¶</a>ç•™ä¸ªæˆªå›¾</h2><p><img src="./arfreafd.PNG" alt></p><p>åˆšå¼€å§‹åˆ·çš„æ„Ÿå—ï¼Œå¾ˆç»æœ›</p><p><img src="./sdafths.jpg" alt></p><p>åæ¥å¤šåˆ·ï¼Œæ‰¾åˆ°äº†ä¸€ç‚¹æ„Ÿè§‰</p><p><img src="./1dguygffs.jpg" alt></p><h2 id="ä¸€ç‚¹ç‚¹æ”¶è·"><a class="header-anchor" href="#ä¸€ç‚¹ç‚¹æ”¶è·">Â¶</a>ä¸€ç‚¹ç‚¹æ”¶è·</h2><p>ç¬¬ä¸€ï¼Œæˆ‘å‘ç°è‡ªå·±å¯¹äºè¾¹é™…çš„è€ƒè™‘å˜å¾—æ›´åŠ å®Œå–„äº†ï¼Œæ¯å†™ä¸€æ®µä»£ç éƒ½è¦è€ƒè™‘åˆ°è¾¹é™…é—®é¢˜ã€‚æ•°ç»„é•¿åº¦æ˜¯å¦ä¸º0ï¼Ÿå¯¹è±¡çš„å±æ€§æœ‰æ²¡æœ‰å¯èƒ½ä¸ºnullï¼Œå„ç§ç‰¹æ®Šæƒ…å†µä¸‹çš„è€ƒè™‘å’Œå…¼å®¹å¤„ç†ã€‚<br>ç¬¬äºŒï¼Œå†™ä»£ç çš„é€»è¾‘ä¹Ÿæ¸æ¸æ¸…æ™°èµ·æ¥ï¼Œæ¯ä¸ªiféƒ½è¦è€ƒè™‘elseæ€ä¹ˆå¤„ç†ï¼Œå¯¹äºä¸èƒ½å¤„ç†çš„å…¥å‚å³ä½¿çš„returnï¼Œä½¿å¾—æ•´ä½“çš„ä»£ç çœ‹èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚<br>ç¬¬ä¸‰ï¼Œå¯¹æ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œæ¯ä¸€æ­¥éƒ½è¦è€ƒè™‘æœ‰æ²¡æœ‰å¿…è¦è¿™æ ·åšï¼Œèƒ½ä¸èƒ½ç©ºé—´æ¢æ—¶é—´ï¼Œèƒ½ä¸èƒ½åŠ ä¸Šè®°å¿†åŒ–å¤‡å¿˜å½•ï¼Œèƒ½ä¸èƒ½å‡å°‘å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ï¼Œèƒ½ä¸èƒ½ç”¨ä¸‹æ ‡çš„ç§»åŠ¨ä»£æ›¿æ•°ç»„åˆ‡å‰²ç­‰ç­‰ã€‚<br>ç¬¬å››ï¼Œå­¦åˆ°äº†ä¹‹å‰æ²¡æ¥è§¦è¿‡æˆ–è€…æ·±å…¥äº†è§£çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚å•è°ƒæ ˆçš„ä½¿ç”¨ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—çš„ä½¿ç”¨å’ŒåŸç†ï¼ˆå¯ä»¥ç”¨å †å®ç°ï¼‰ï¼Œå¹¶æŸ¥é›†å¤„ç†â€œå®¶æ—â€é—®é¢˜ï¼Œå‰ç¼€å’Œçš„ä½¿ç”¨ï¼Œäº†è§£äº†å“ˆå¸Œè¡¨çš„å®ç°åŸç†ã€‚</p><h2 id="ä»äºŒå‰æ ‘ä¸­å¸å–çš„ç»éªŒ"><a class="header-anchor" href="#ä»äºŒå‰æ ‘ä¸­å¸å–çš„ç»éªŒ">Â¶</a>ä»äºŒå‰æ ‘ä¸­å¸å–çš„ç»éªŒ</h2><p>åˆ·é¢˜æˆ‘å»ºè®®ä»äºŒå‰æ ‘å¼€å§‹åˆ·ï¼ŒåŸ¹å…»é€’å½’çš„æ„è¯†ï¼Œæ¯•ç«Ÿä»”ç»†æƒ³ä¸€ä¸‹ï¼Œå…¶å®ä»£ç å—å°±æ˜¯ä¸€ä¸ªæ ‘å‹çš„ç»“æ„ï¼Œä»£ç ä¼šè¢«ç¼–è¯‘æˆASTè¯­æ³•æ ‘ï¼Œè¿›è¡Œè§£æè¿è¡Œï¼Œæ‰€ä»¥ï¼Œå¤šäº†è§£äºŒå‰æ ‘å¯¹åŸ¹å…»é€»è¾‘æ€è€ƒå¾ˆæœ‰å¸®åŠ©ã€‚</p><p>æ¯”å¦‚è¿™é“é¢˜ï¼š</p><blockquote><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ä¾æ¬¡ç»è¿‡çš„èŠ‚ç‚¹ï¼ˆå«æ ¹ã€å¶èŠ‚ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚</p></blockquote><blockquote><p>ä¾‹å¦‚ï¼š</p></blockquote><blockquote><p>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]ï¼Œ</p></blockquote><pre><code>    3   / \  9  20    /  \   15   7</code></pre><blockquote><p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦Â 3 ã€‚</p></blockquote><p>ä¸€ä¸ªç­”æ¡ˆæ˜¯ï¼š</p><pre><code class="language-javascript">/** * @param {TreeNode} root * @return {number} */var maxDepth = function(root) {    if(!root) {        return 0    }    return Math.max(maxDepth(root.left),maxDepth(root.right)) +1};</code></pre><p>è¿™é‡Œå°±ç”¨åˆ°äº†é€’å½’çš„æ€æƒ³ã€‚</p><h2 id="æ•°å­¦ä¸Šçš„å½’çº³å’Œæ€»ç»“"><a class="header-anchor" href="#æ•°å­¦ä¸Šçš„å½’çº³å’Œæ€»ç»“">Â¶</a>æ•°å­¦ä¸Šçš„å½’çº³å’Œæ€»ç»“</h2><p>å¾ˆå¤šé¢˜è¡¨é¢ä¸Šæ˜¯ç¼–ç¨‹é¢˜ï¼Œå…¶å®æ˜¯æ•°å­¦é¢˜ï¼Œæ¯”å¦‚æœ‰äº›åŠ¨æ€è§„åˆ’ï¼Œæ€»ç»“å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±å¯ä»¥å¾ˆè½»æ¾ACï¼Œå¦åˆ™æš´åŠ›è§£å†³å¿…å®šè¶…æ—¶ã€‚</p><p>ä½†æ˜¯ï¼ŒåŠ¨æ€è§„åˆ’ä¸åŒé¢˜å‹ï¼Œä¸åŒåœºæ™¯ä¸‹çš„å˜åŒ–å¾ˆå¤§ï¼Œæœ‰æ—¶å€™å¾ˆéš¾æ‰¾å‡ºå¯¹åº”çš„åŠ¨æ€è½¬ç§»æ–¹ç¨‹ã€‚è¿™é‡ŒçœŸçš„éœ€è¦å¤§é‡çš„ç»ƒä¹ æ‰èƒ½å¥½å¥½çš„ç†è§£å…¶ä¸­çš„é“ç†ã€‚åŠ¨æ€è§„åˆ’æˆ‘è‡ªå·±æ„Ÿè§‰æ˜¯æœ€éš¾ï¼Œå˜åŒ–æœ€çµæ´»çš„é¢˜å‹äº†ã€‚<br>åˆ†äº«ä¸‹åŠ¨æ€è§„åˆ’çš„ç±»å‹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸‹ä¸€æ­¥éœ€è¦é‡ç‚¹ç»ƒä¹ çš„å†…å®¹ã€‚</p><p>1.èƒŒåŒ… DPã€‚<br>2.åŒºé—´ DPã€‚<br>3.DAG ä¸Šçš„ DPã€‚<br>4.æ ‘å½¢ DPã€‚<br>5.çŠ¶å‹ DPã€‚<br>6.æ•°ä½ DPã€‚<br>7.æ’å¤´ DPã€‚<br>8.è®¡æ•° DPã€‚<br>9.åŠ¨æ€ DPã€‚<br>10.æ¦‚ç‡ DPã€‚</p><h2 id="å¤šåˆ©ç”¨é¢˜ç›®ç»™çš„å‰ææ¡ä»¶"><a class="header-anchor" href="#å¤šåˆ©ç”¨é¢˜ç›®ç»™çš„å‰ææ¡ä»¶">Â¶</a>å¤šåˆ©ç”¨é¢˜ç›®ç»™çš„å‰ææ¡ä»¶</h2><p>æ¯”å¦‚æœ‰äº›ç»™çš„æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæˆ–è€…ç»™çš„äºŒå‰æ ‘æ˜¯äºŒå‰æœç´¢æ•°ï¼Œåˆ©ç”¨å¥½ç»™çš„å‰ææ¡ä»¶ï¼Œæ‰èƒ½å†™å‡ºæ›´é«˜æ•ˆç‡çš„ä»£ç ã€‚<br>è¿™é‡Œè¦æœ‰ä¸€äº›è‚Œè‚‰ååº”ã€‚<br>é¡ºåºæ•°ç»„ â€”&gt; äºŒåˆ†æœç´¢<br>äºŒå‰æœç´¢æ•° â€”&gt; ä¸­åºéå†</p><h2 id="å‘ç°è‡ªå·±çš„è–„å¼±éƒ¨åˆ†"><a class="header-anchor" href="#å‘ç°è‡ªå·±çš„è–„å¼±éƒ¨åˆ†">Â¶</a>å‘ç°è‡ªå·±çš„è–„å¼±éƒ¨åˆ†</h2><p>å¯¹å¾ˆå¤šç®—æ³•æ²¡ç ”ç©¶ï¼Œæ¯”å¦‚å¹¶æŸ¥é›†ï¼Œå›¾çš„ç®—æ³•ï¼Œç¨å¾®å˜å½¢çš„åŠ¨æ€è§„åˆ’é¢˜ï¼Œä¸€ç›´æ²¡æœ‰æ€è·¯ï¼Œä»¥åè¦å…ˆç³»ç»Ÿå­¦ä¹ ä¸€éè¿™äº›å†…å®¹ï¼Œåœ¨å¼€å§‹è¿›è¡Œç»ƒä¹ ã€‚</p><p>ä»¥åæ¯æ—¥ä¸€é¢˜è¦åšæŒä¸‹å»ï¼Œå…³é”®æ˜¯è¦çœŸçš„ææ‡‚ï¼Œä¸èƒ½å•çº¯èƒŒç­”æ¡ˆã€‚</p><p>over~</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascriptå®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—</title>
      <link href="/blog/posts/5d46f50c/"/>
      <url>/blog/posts/5d46f50c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>é‰´äºjavascript æ²¡æœ‰å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸ªç”¨å †å®ç°çš„ä»£ç </p></blockquote><pre><code class="language-javascript">class Heap {    constructor(data = [], cmp = (lhs, rhs) =&gt; lhs - rhs) {        if (typeof data === 'function') {            cmp = data            data = []        }        this.data = [null, ...data]        this.size = data.length        this.lt = (i, j) =&gt; cmp(this.data[i], this.data[j]) &lt; 0        for(let i = this.size; i &gt; 0; i--) this.heapify(i)    }    push(v) {        this.data.push(v)        let i = ++this.size        while(i &gt;&gt; 1 &amp;&amp; this.lt(i, i &gt;&gt; 1)) this.swap(i, i &gt;&gt;= 1)    }    pop() {        this.swap(1, this.size)        const top = this.data.pop()        this.size--        this.heapify(1)        return top    }    top() { return this.data[1] }    heapify(i) {        while (true) {            let min = i            const [l, r, n] = [i * 2, i * 2 + 1, this.data.length]            if (l &lt; n &amp;&amp; this.lt(l, min)) min = l            if (r &lt; n &amp;&amp; this.lt(r, min)) min = r            if (min !== i) this.swap(i, min), i = min            else break        }    }    swap(i, j) {        const d = this.data;        [d[i], d[j]] = [d[j], d[i]]    }}let queue = new Heap((l, r) =&gt; l - r) queue.push(1)queue.push(43)queue.push(13)queue.push(99)queue.push(-23)console.log(queue.top())// -21queue.pop()console.log(queue.top())// 1</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯çœŸæ­£çš„å…´è¶£çˆ±å¥½</title>
      <link href="/blog/posts/5d7d167c/"/>
      <url>/blog/posts/5d7d167c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¥æºç½‘ç»œ</p></blockquote><p>â˜…å“ªäº›ä¸œè¥¿ã€ä¸èƒ½ç®—ã€‘å…´è¶£å’Œçˆ±å¥½ï¼Ÿ</p><p>åœ¨æœ¬æ–‡çš„å¼€å¤´ï¼Œä¿ºæƒ³ä»ã€åé¢ã€‘æ¥é™ˆè¿°è¿™ä¸ªè¯é¢˜â€”â€”ç‚¹è¯„ä¸€ä¸‹é‚£äº›â€œå®¹æ˜“è·Ÿå…´è¶£çˆ±å¥½æ··ä¸ºä¸€è°ˆçš„ä¸œè¥¿â€ã€‚ï¼ˆå¯¹è¿™äº›ä¸œè¥¿ï¼Œä¿ºç§°ä¹‹ä¸ºâ€œä¼ªå…´è¶£â€ï¼‰<br>ã€€ã€€é€šè¿‡è¯†åˆ«â€œä¼ªå…´è¶£â€ï¼Œæœ‰åŠ©äºä½ å»ä¼ªå­˜çœŸï¼Œè¯†åˆ«å‡ºçœŸæ­£çš„å…´è¶£ã€‚</p><p>â—‡ä¸‰åˆ†é’Ÿçƒ­åº¦ï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>å¦‚æœä½ ç•™æ„è§‚å¯Ÿå„¿ç«¥çš„è¡Œä¸ºï¼Œå°±ä¼šæ˜ç™½ä½•ä¸ºâ€œä¸‰åˆ†é’Ÿçƒ­åº¦â€ï¼Ÿæ¯”å¦‚å½“æŸä¸ªå°å­©å¾—åˆ°è‡ªå·±å–œæ¬¢çš„ç©å…·ï¼Œä¼šå¾ˆå¼€å¿ƒå¾ˆå…´å¥‹ã€‚ä½†æ˜¯å‡ å¤©ï¼ˆç”šè‡³å‡ å°æ—¶ï¼‰ä¹‹åï¼Œè¿™ç§å¼€å¿ƒå…´å¥‹çŠ¶æ€å°±æ¶ˆå¤±äº†â€”â€”ä»–/å¥¹çš„å…´è¶£ç‚¹å·²ç»è½¬ç§»åˆ°å…¶å®ƒåœ°æ–¹ã€‚<br>ã€€ã€€æ˜¾ç„¶ï¼Œâ€œä¸‰åˆ†é’Ÿçƒ­åº¦â€ä¸æ˜¯çœŸæ­£çš„å…´è¶£ã€‚è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œä¿ºå°±ä¸å¤šè¯´äº†ã€‚</p><p>â—‡åŠ¨æœºå¸¦æœ‰ã€åŠŸåˆ©ã€‘å› ç´ ï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>å…³äºè¿™ç‚¹ï¼Œå°±ä»¥ä»Šå¹´ï¼ˆ2015ï¼‰çš„è‚¡ç¾ä¸ºä¾‹ã€‚<br>ã€€ã€€åœ¨å’±ä»¬å¤©æœï¼Œæ¯å½“ç‰›å¸‚çš„æ—¶å€™ï¼Œå°±æœ‰å¾ˆå¤šè‚¡æ°‘æˆå¤©ç›¯ç€ç”µè„‘ä¸Šçš„ç‚’è‚¡è½¯ä»¶ï¼Œç‰‡åˆ»ä¸åœã€‚<br>ã€€ã€€å¦‚æœä½ ä»¥ä¸ºä»–ä»¬å¯¹â€œç‚’è‚¡â€æ„Ÿå…´è¶£ï¼Œé‚£å°±é”™äº†ã€‚å¤§éƒ¨åˆ†è‚¡æ°‘å…¶å®å¯¹â€œç‚’è‚¡â€è¿™ä¸ªè¡Œä¸ºæœ¬èº«å¹¶ã€æ²¡æœ‰ã€‘å…´è¶£â€”â€”ä»–ä»¬è¿™ä¹ˆåšæ˜¯ä¸ºäº†ã€èµšé’±ã€‘ã€‚æ¢å¥è¯è¯´ï¼Œä»–ä»¬çš„è¡Œä¸ºå¸¦æœ‰â€œåŠŸåˆ©å› ç´ â€ï¼Œå› æ­¤ä¸èƒ½ç®—æ˜¯çœŸæ­£çš„å…´è¶£ã€‚<br>ã€€ã€€ï¼ˆå¦å¤–ï¼Œç¡®å®æœ‰ä¸€å°æ’®è‚¡æ°‘æ˜¯çœŸæ­£å–œæ¬¢â€œç‚’è‚¡â€è¿™ä¸ªè¡Œä¸ºæœ¬èº«ã€‚ä½†æ˜¯è¿™ç±»äººéå¸¸ä¹‹å°‘ï¼‰</p><p>â—‡æ¥è‡ªã€å¤–åœ¨ã€‘çš„åŠ¨æœºï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>æ‰€è°“â€œå¤–åœ¨çš„åŠ¨æœºâ€ï¼Œå¤§è‡´åŒ…æ‹¬å¦‚ä¸‹ï¼š</p><ol><li>è¢«åˆ«äººå¼ºè¿«å»åšæŸäº‹<br>ï¼ˆæ¯”å¦‚å¾ˆå¤šå°å­©è¢«çˆ¶æ¯å¼ºè¿«å»å­¦é’¢ç´ï¼‰</li><li>å—åˆ°ç¤¾ä¼šè§‚å¿µçš„çº¦æŸè€Œå»åšæŸäº‹<br>ï¼ˆæ¯”å¦‚å¤§å­¦å¡«å¿—æ„¿çš„æ—¶å€™ï¼ŒæŠ¥è€ƒçƒ­é—¨ä¸“ä¸šï¼‰</li><li>ä¸ºäº†å¾—åˆ°ä»–äººçš„è®¤å¯è€Œå»åšæŸäº‹<br>ï¼ˆæ¯”å¦‚æŸäº›äººä¸ºäº†å‡ºåè€Œå»åšæŸäº‹ï¼‰</li><li>å—åˆ°æ³•å¾‹çš„çº¦æŸè€Œå»åšæŸäº‹<br>ï¼ˆæ¯”å¦‚å¾ˆå¤šå›½å®¶çš„ä¹‰åŠ¡å…µå½¹åˆ¶ï¼‰<br>â€¦<br>ã€€ã€€ä»¥ä¸Šåªæ˜¯åˆ—å‡ºå‡ ç§å…¸å‹çš„æƒ…å½¢ï¼Œæœªå¿…å…¨é¢ã€‚æ¬¢è¿å¤§ä¼™å„¿è¡¥å……ã€‚<br>ã€€ã€€å…³äºâ€œå¤–åœ¨çš„åŠ¨æœºâ€ï¼Œæ˜¾ç„¶ä¸æ˜¯çœŸæ­£çš„å…´è¶£ã€‚è¿™ä¸ªä¹Ÿæ¯”è¾ƒå¥½ç†è§£ï¼Œä¿ºå°±ä¸æ·±å…¥èŠäº†ã€‚</li></ol><p>â—‡ã€çº¯æ„Ÿå®˜ã€‘çš„åˆºæ¿€å¯¼è‡´çš„è¡Œä¸ºï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>æ‰€è°“â€œçœŸæ­£çš„å…´è¶£â€ï¼Œæ˜¾ç„¶æ˜¯äººç±»ç‹¬æœ‰çš„ï¼ˆå…¶å®ƒåŠ¨ç‰©ä¸ä¼šæœ‰ï¼‰ã€‚è€Œâ€œçº¯æ„Ÿå®˜çš„åˆºæ¿€â€å¯¼è‡´çš„è¡Œä¸ºï¼Œä¸å…‰äººç±»ä¼šæœ‰ï¼Œå…¶å®ƒåŠ¨ç‰©ä¹Ÿä¼šæœ‰ã€‚<br>ã€€ã€€æ‰€ä»¥ï¼Œçº¯æ„Ÿå®˜çš„åˆºæ¿€å¯¼è‡´çš„è¡Œä¸ºï¼Œã€ä¸èƒ½ç®—ã€‘çœŸæ­£çš„å…´è¶£ã€‚å¯¹è¿™ç±»è¡Œä¸ºï¼Œä¿ºæ›´æ„¿æ„ç§°ä¹‹ä¸ºâ€œæœ¬èƒ½çš„é©±ä½¿â€ã€‚<br>ã€€ã€€ä¸ºäº†ä¾¿äºç†è§£ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼šåƒé¡¿ç¾é¤ã€æ³¡ä¸ªæ¸©æ³‰â€¦</p><p>â—‡ã€è¢«åŠ¨ã€‘çš„è¡Œä¸ºï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>è¯·æ³¨æ„ï¼Œæœ¬å°èŠ‚æ‰€è¯´çš„â€œè¢«åŠ¨â€ï¼Œã€ä¸æ˜¯ã€‘æŒ‡ä»–äººçš„å¼ºè¿«ã€‚ï¼ˆâ€œä»–äººçš„å¼ºè¿«â€å·²ç»åœ¨å‰é¢çš„å°èŠ‚åˆ†æè¿‡äº†ï¼‰<br>ã€€ã€€æœ¬å°èŠ‚æ‰€è¯´çš„â€œè¢«åŠ¨â€ï¼ŒæŒ‡çš„æ˜¯ã€è¡Œä¸ºæœ¬èº«çš„ç‰¹æ€§ã€‘ã€‚æ¢å¥è¯è¯´ï¼Œå½“æŸä¸ªè¡Œä¸ºã€ä¸ã€‘éœ€è¦ä¾é ä½ çš„ä¸»è§‚æ„è¯†ï¼Œã€ä¸ã€‘éœ€è¦å‘æŒ¥ä½ çš„ä¸»åŠ¨æ€§ï¼Œé‚£ä¹ˆï¼Œä¿ºå°±ç§°ä¹‹ä¸ºâ€œè¢«åŠ¨çš„è¡Œä¸ºâ€ã€‚<br>ã€€ã€€ä¸ºäº†ä¾¿äºç†è§£ï¼ŒåŒæ ·ä¸¾ä¸ªä¾‹å­ï¼š<br>ã€€ã€€æœ‰å¾ˆå¤šäººå–œæ¬¢ä¸€è¾¹å·¥ä½œä¸€è¾¹å¬éŸ³ä¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œå¬éŸ³ä¹â€è¿™ä¸ªè¡Œä¸ºæ˜¯è¢«åŠ¨çš„ã€‚</p><p>â—‡å§‹ç»ˆåœç•™åœ¨ã€å¿ƒç†èˆ’é€‚åŒºã€‘ï¼Œä¸æ˜¯çœŸæ­£çš„å…´è¶£</p><p>é¦–å…ˆæ¥è§£é‡Šä¸€ä¸‹ï¼Œä½•ä¸ºâ€œå¿ƒç†èˆ’é€‚åŒºâ€ã€‚è¿™ç©æ„å„¿ï¼Œæ´‹æ–‡ç§°ä¹‹ä¸ºâ€œComfort Zoneâ€ï¼Œç”¨æ¥æè¿°ä¸€ç§â€œå¿ƒç†çŠ¶æ€â€ã€‚å¤„äºè¿™ç§çŠ¶æ€ï¼Œä½ ä¼šæ„Ÿè§‰åˆ°æ”¾æ¾ï¼Œæ²¡æœ‰å‹åŠ›å’Œç„¦è™‘ã€‚<br>ã€€ã€€å¦‚æœä½ å¤„äºæŸä¸ªç¯å¢ƒä¸­ï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹æ‰€éœ€è¦çš„è¡Œä¸ºä½ éƒ½å¯ä»¥è½»æ¾æå®šã€‚é‚£ä¹ˆï¼Œä½ å°±å¤„äºâ€œå¿ƒç†èˆ’é€‚åŒºâ€ã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€ä¿ºæ›¾ç»é—®è¿‡å‘¨å›´çš„ä¸€äº›äººï¼Œä»–ä»¬ä¸šä½™æ—¶é—´æœ‰å•¥å…´è¶£å’Œçˆ±å¥½ã€‚åœ¨ä¿ºå¬åˆ°çš„åé¦ˆä¸­ï¼Œå¦‚ä¸‹è¿™å‡ ç§å¾ˆå¸¸è§ï¼š<br>ä¸Šç½‘é—²é€›<br>çœ‹è§†é¢‘ï¼ˆçŸ­è§†é¢‘ã€å½±ç‰‡ã€è¿ç»­å‰§ï¼‰<br>çœ‹å…«å¦æ–°é—»<br>ã€€ã€€åœ¨ä¿ºçœ‹æ¥ï¼Œä¸Šè¿°è¿™å‡ ç§è¡Œä¸ºéƒ½å±äºâ€œè®©è‡ªå·±åœç•™åœ¨å¿ƒç†èˆ’é€‚åŒºâ€ã€‚è¿™ç±»è¡Œä¸ºï¼Œå¾ˆå¤šéƒ½æ˜¯ä¸ºäº†æ‰“å‘æ—¶é—´ï¼Œã€ä¸èƒ½ã€‘ç®—æ˜¯çœŸæ­£çš„å…´è¶£ã€‚</p><p>â˜…ã€çœŸæ­£çš„ã€‘å…´è¶£å’Œçˆ±å¥½ï¼Œå…·æœ‰å“ªäº›ç‰¹å¾ï¼Ÿ</p><p>å‰é¢è¯´äº†ä¸€å¤§å †â€œåä¾‹â€ï¼Œæ¥ä¸‹æ¥å¼€å§‹è¿›å…¥æ­£é¢˜ã€‚</p><p>â—‡åŠ¨æœºçš„ã€å†…åœ¨æ€§ã€‘</p><p>çœŸæ­£çš„å…´è¶£ï¼Œå…¶åŠ¨æœºå®Œå…¨æ¥è‡ªäºå†…å¿ƒï¼Œè€Œä¸æ˜¯å¤–éƒ¨ä¸–ç•Œã€‚<br>ã€€ã€€åªæœ‰è¿™æ ·äº§ç”Ÿçš„å…´è¶£ï¼Œæ‰æ˜¯çº¯ç²¹çš„ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ ·çš„åŠ¨æœºï¼Œã€ä¸ä¼šã€‘éšç€å¤–éƒ¨ä¸–ç•Œçš„æ”¹å˜è€Œæ”¹å˜ã€‚</p><p>â—‡æ—¶é—´çš„ã€æŒä¹…æ€§ã€‘</p><p>å¯¹äºçœŸæ­£çš„å…´è¶£ï¼Œé€šå¸¸èƒ½æŒç»­å¾ˆé•¿æ—¶é—´ï¼ˆè‡³å°‘å‡ å¹´ï¼Œå¤šè¾¾å‡ åå¹´ï¼‰ã€‚<br>ã€€ã€€ä¸ºå•¥â€œçœŸæ­£çš„å…´è¶£â€èƒ½æŒç»­è¿™ä¹ˆä¹…æï¼Ÿåœ¨æœ¬æ–‡ä¸‹é¢çš„ç« èŠ‚ï¼Œä¿ºä¼šåˆ†æã€‚</p><p>â—‡æ€ç»´çš„é«˜åº¦å‚ä¸</p><p>å‰é¢æåˆ°äº†ä¸¤ç§åä¾‹ï¼Œåˆ†åˆ«æ˜¯â€œçº¯æ„Ÿå®˜åˆºæ¿€çš„è¡Œä¸ºâ€å’Œâ€œè¢«åŠ¨è¡Œä¸ºâ€ã€‚<br>ã€€ã€€ä¸è¿™ä¸¤ç§ç›¸å¯¹åº”çš„æ˜¯ï¼šçœŸæ­£çš„å…´è¶£ï¼Œå…¶è¡Œä¸ºé€šå¸¸éœ€è¦æ€ç»´çš„é«˜åº¦å‚ä¸ã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€ä¸‹é¢è¿™äº›æ´»åŠ¨éƒ½éœ€è¦æ€ç»´çš„é«˜åº¦å‚ä¸ï¼Œä¹Ÿéƒ½ã€æœ‰å¯èƒ½ã€‘æˆä¸ºçœŸæ­£çš„å…´è¶£ã€‚</p><pre><code>  1.å†™ç¨‹åº  2.å†™ä½œ  3.ä½œæ›²  4.ç»˜ç”»  5.æ‘„å½±  6.ç”µå­æ¸¸æˆ  7.æ£‹ç‰Œæ¸¸æˆ......</code></pre><p>â—‡å¿«æ„Ÿçš„ã€å†…åœ¨æ€§ã€‘</p><p>å‰é¢çš„å°èŠ‚æåˆ°äº†â€œåŠ¨æœºçš„ã€å†…åœ¨æ€§ã€‘â€ã€‚è¿™é‡Œæ‰€è¯´çš„â€œå¿«æ„Ÿçš„ã€å†…åœ¨æ€§ã€‘â€ï¼Œä¹Ÿç±»ä¼¼æ»´ã€‚é€šä¿—åœ°è¯´ï¼šçœŸæ­£çš„å…´è¶£æ‰€å¯¼è‡´çš„å¿«æ„Ÿï¼Œã€ä¸éœ€è¦ã€‘ä¾èµ–å¤–éƒ¨ç¯å¢ƒã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€æ•°å­¦å²ä¸Šå¾ˆç‰›é€¼çš„è´¹é©¬ï¼ˆåˆç§°â€œè´¹å°”é©¬â€ï¼Œæ´‹æ–‡æ˜¯â€œFermatâ€ï¼‰ï¼Œå®Œå…¨æ˜¯å‡­å…´è¶£ç ”ç©¶æ•°å­¦ï¼Œè€Œä¸”ä»–çš„å¾ˆå¤šç ”ç©¶æˆæœéƒ½ã€æ²¡ã€‘å‘è¡¨ã€‚æ¯”å¦‚ä»–æœ€æœ‰åçš„é‚£ä¸ªâ€œè´¹é©¬å¤§å®šç†â€ï¼Œæ˜¯ä»–å„¿å­æ•´ç†é—ç‰©çš„æ—¶å€™å‘ç°çš„ï¼›å†æ¯”å¦‚â€œè´¹é©¬å°å®šç†â€æ˜¯ä»–ä¸æœ‹å‹çš„å¾€æ¥ä¹¦ä¿¡ä¸­é¡ºä¾¿æåŠçš„ã€‚<br>ã€€ã€€ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–çš„å¿«ä¹ã€ä¸æ˜¯ã€‘ä¾èµ–â€œè£èª‰æ„Ÿâ€ä¹‹ç±»çš„å¤–åœ¨å› ç´ ã€‚<br>ã€€ã€€é¡ºä¾¿è¯´ä¸€ä¸‹ï¼šè´¹é©¬ä¸¥æ ¼æ¥è¯´è¿â€œæ•°å­¦å®¶â€éƒ½ä¸æ˜¯ã€‚ä»–çš„æ­£å¼èŒä¸šæ˜¯å¾‹å¸ˆå’Œæ³•å®˜ï¼Œæ•°å­¦åªæ˜¯ä»–çš„ä¸šä½™çˆ±å¥½ã€‚</p><p>â—‡ä¸ä¸€æ ·çš„å¿«æ„Ÿ</p><p>å½“ä½ ä»äº‹è‡ªå·±çœŸæ­£æ„Ÿå…´è¶£çš„æ´»åŠ¨ï¼Œé€šå¸¸ä¼šä½“éªŒåˆ°ä¸ä¸€æ ·çš„å¿«æ„Ÿâ€”â€”è¿™å¿«æ„Ÿå°±æ˜¯ä½ çš„åŠ¨åŠ›ã€‚å‰é¢ä¿ºæåˆ°è¯´ï¼ŒçœŸæ­£çš„å…´è¶£å¯ä»¥æŒç»­å¾ˆå¤šå¹´ï¼ŒåŸå› ä¹Ÿåœ¨äºè¿™å¿«æ„Ÿã€‚<br>ã€€ã€€å…´è¶£ä¸çˆ±å¥½å¯¼è‡´çš„å¿«æ„Ÿï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šâ€œè¿‡ç¨‹æ€§çš„å¿«æ„Ÿâ€å’Œâ€œç»“æœæ€§çš„å¿«æ„Ÿâ€ã€‚<br>ã€€ã€€è¿™ä¸¤ç§å¿«æ„Ÿçš„å·®åˆ«åœ¨äºï¼šâ€œè¿‡ç¨‹æ€§çš„å¿«æ„Ÿâ€æŒä¹…ä½†æ˜¯å¼ºåº¦ä¸é«˜ï¼›â€œç»“æœæ€§çš„å¿«æ„Ÿâ€åªåœ¨çŸ­æš‚æ—¶é—´æ®µå‘ç”Ÿï¼Œä½†æ˜¯å¼ºåº¦å¾ˆé«˜ã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€å°±æ‹¿ä¿ºçš„è€æœ¬è¡Œæ¥è¯´äº‹å„¿ã€‚å½“ä¿ºåœ¨å†™ç¨‹åºçš„æ—¶å€™ï¼Œï¼ˆä¸ç®¡æ˜¯åœ¨å…¬å¸é‡Œå†™è¿˜æ˜¯åœ¨ä¸šä½™æ—¶é—´å†™ï¼‰æ€»æ˜¯ä¹åœ¨å…¶ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå•å•æ˜¯â€œå†™ä»£ç çš„è¿‡ç¨‹â€å°±å¯ä»¥è®©ä¿ºè§‰å¾—å¿«ä¹â€”â€”è¿™æ˜¯â€œè¿‡ç¨‹æ€§çš„å¿«æ„Ÿâ€ï¼›å½“è¿ç»­å‡ ä¸ªæœˆï¼Œç»ˆäºå®Œæˆäº†æŸä¸ªè½¯ä»¶ï¼Œè¿™æ—¶å€™ä½“éªŒåˆ°çš„æ˜¯â€œç»“æœæ€§çš„å¿«æ„Ÿâ€ã€‚<br>ã€€ã€€â€œè¿‡ç¨‹æ€§çš„å¿«æ„Ÿâ€è™½ç„¶å¼ºåº¦ä¸é«˜ï¼Œä½†ä¹Ÿå¾ˆé‡è¦â€”â€”è¿™ç±»å¿«æ„Ÿä½¿å¾—ä½ å¯ä»¥ã€æŒä¹…åœ°ã€‘ä»äº‹æ„Ÿå…´è¶£çš„æ´»åŠ¨ï¼ˆå³ä¾¿åœ¨ä½ å°šæœªè·å¾—æˆæœçš„é˜¶æ®µï¼Œå®ƒä¹Ÿåœ¨èµ·ä½œç”¨ï¼‰ã€‚</p><p>â—‡æˆç˜¾æ€§</p><p>å¦‚å‰ä¸€ä¸ªå°èŠ‚æ‰€è¯´ï¼ŒçœŸæ­£çš„å…´è¶£ä¼šç»™ä½ å¸¦æ¥å¿«æ„Ÿã€‚å› æ­¤ï¼ŒçœŸæ­£çš„å…´è¶£é€šå¸¸ä¹Ÿä¼šå¸¦æ¥ã€æˆç˜¾æ€§ã€‘ã€‚<br>ã€€ã€€ï¼ˆå…³äºâ€œå¿«æ„Ÿâ€ä¸â€œæˆç˜¾æ€§â€çš„å…³ç³»ï¼Œè¿™æ˜¯å¿ƒç†å­¦å’Œè„‘ç¥ç»å­¦çš„é‡è¦ç ”ç©¶è¯é¢˜ã€‚ä½†æ˜¯è¿™ä¸ªè¯é¢˜ä¸æœ¬æ–‡çš„ä¸»é¢˜æ— å…³ï¼Œæ‰€ä»¥ä¿ºå°±ä¸å±•å¼€äº†ï¼‰<br>ã€€ã€€å†æ‹¿ä¿ºè‡ªå·±ä¸¾ä¾‹ï¼š<br>ã€€ã€€æ¯”å¦‚ä¿ºè¿ç»­å‡ å‘¨æ²¡æœ‰å†™ä»£ç ï¼Œå°±ä¼šæ‰‹ç—’ã€‚è™½ç„¶åœ¨è®¸å¤šå¹´å‰å·²ç»è½¬ä¸ºç®¡ç†å²—ä½ï¼Œä¸éœ€è¦äº²è‡ªå†™ä»£ç ï¼Œä½†ä¿ºè¿˜æ˜¯å°½é‡æ‰¾æœºä¼šäº²è‡ªæ“åˆ€â€”â€”åœ¨å…¬å¸å¼€å‘çš„è½¯ä»¶ä¸­ï¼ŒæŒ‘ä¸€ä¸¤ä¸ªæœ‰éš¾åº¦çš„æ¨¡å—æ¥å†™ã€‚<br>ã€€ã€€å¦å¤–ï¼Œåœ¨æ²¡æœ‰å¼€åšå®¢ä¹‹å‰ï¼Œä¿ºä¹Ÿä¼šåœ¨ä¸šä½™æ—¶é—´å†™ç‚¹å°å·¥å…·å•¥çš„ç»ƒç»ƒæ‰‹ï¼ˆå¯æƒœè¿‘å‡ å¹´ç»´æŠ¤åšå®¢è€—è´¹äº†å¤ªå¤šæ—¶é—´ï¼‰</p><p>â—‡æ„¿æ„ä»˜å‡ºè¾ƒé«˜çš„ä»£ä»·</p><p>ä»äº‹è‡ªå·±çœŸæ­£æ„Ÿå…´è¶£çš„æ´»åŠ¨ï¼Œä½ ä¼šæ„¿æ„ä»˜å‡ºå…¶å®ƒçš„ä»£ä»·ã€‚ä¸ºå•¥æï¼Ÿå› ä¸ºå‰é¢æåŠçš„â€œå¿«æ„Ÿâ€ä¼šç»™äºˆä½ è¡¥å¿ã€‚æ¢å¥è¯è¯´ï¼šå¿«æ„Ÿä¼šæŠµæ¶ˆæ‰â€œä»˜å‡ºä»£ä»·â€æ‰€å¯¼è‡´çš„è´Ÿé¢æƒ…ç»ªã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€æŸä¸ªæ‘„å½±çˆ±å¥½è€…ä¸ºäº†æ‹æ‘„åˆ°ç«å±±å–·å‘çš„é•œå¤´ï¼Œæ„¿æ„å†’ç”Ÿå‘½å±é™©å¾…åœ¨ç«å±±å£é™„è¿‘ã€‚</p><p>â—‡æŒç»­çš„è‡ªæˆ‘æå‡ï¼ˆèµ°å‡ºå¿ƒç†èˆ’é€‚åŒºï¼‰</p><p>å¦‚æœæŸä¸ªæ´»åŠ¨æ˜¯ä½ çœŸæ­£çš„å…´è¶£ï¼Œé‚£ä½ ä¸ä¼šæ»¡è¶³äºâ€œåªåœç•™åœ¨è¯¥é¢†åŸŸçš„å¿ƒç†èˆ’é€‚åŒºâ€ã€‚ä½ ä¼šä¸æ–­å°è¯•å»çªç ´è‡ªå·±çš„å¿ƒç†èˆ’é€‚åŒºã€‚é€šè¿‡ä¸æ–­åœ°çªç ´è‡ªå·±çš„å¿ƒç†èˆ’é€‚åŒºï¼Œä½ åœ¨è¿™ä¸ªé¢†åŸŸçš„èƒ½åŠ›å°±ä¼šå¾—åˆ°æå‡ï¼›åŒæ—¶ï¼Œä½ çš„å¿ƒç†èˆ’é€‚åŒºçš„èŒƒå›´ä¹Ÿæ‰©å¤§äº†ã€‚<br>ã€€ã€€å½“ç„¶ï¼Œçªç ´å¿ƒç†èˆ’é€‚åŒºä¸ä¸€å®šå®¹æ˜“ï¼Œæœ‰çš„æ—¶å€™ç”šè‡³æ˜¯å¾ˆå›°éš¾çš„ã€‚ä½†æ˜¯åœ¨çªç ´çš„è¿‡ç¨‹ä¸­ï¼Œâ€œè¿‡ç¨‹æ€§çš„å¿«æ„Ÿâ€ä¼šä¼´éšç€ä½ ï¼›ä¸€æ—¦å®ç°çªç ´ï¼Œä½ ä¼šè·å¾—â€œç»“æœæ€§çš„å¿«æ„Ÿâ€ã€‚</p><p>çªç ´å¿ƒç†èˆ’é€‚åŒºå¯¼è‡´çš„èƒ½åŠ›æå‡ï¼Œå¤§è‡´æœ‰ä¸¤ç±»ï¼šâ€œæ·±åº¦â€çš„æå‡ ï¼†â€œå¹¿åº¦â€çš„æå‡ã€‚å¯¹è¿™ä¸¤ç±»ï¼Œåˆ†åˆ«ä¸¾ä¾‹å¦‚ä¸‹ï¼š<br>ã€€ã€€ä¸¾ä¾‹1ï¼š<br>ã€€ã€€å‡è®¾æœ‰ä¸ªçƒ­è¡·äºç¼–ç¨‹çš„ C++ ç¨‹åºå‘˜ï¼Œé€šè¿‡ä¸æ–­å­¦ä¹ ï¼Œè®©è‡ªå·±ä» C++ çš„æ–°æ‰‹å˜æˆè€æ‰‹â€”â€”è¿™å±äºâ€œæ·±åº¦çš„æå‡â€ã€‚<br>ã€€ã€€ä¸¾ä¾‹2ï¼š<br>ã€€ã€€å‡è®¾æœ‰ä¸ªçƒ­è¡·äºç¼–ç¨‹çš„ C++ ç¨‹åºå‘˜ï¼Œé€šè¿‡ä¸æ–­å­¦ä¹ ï¼Œåˆå­¦ä¼šäº†å¦ä¸€é—¨ç¼–ç¨‹è¯­è¨€ Lispâ€”â€”è¿™å±äºâ€œå¹¿åº¦çš„æå‡â€ã€‚</p><p>â—‡å­˜åœ¨ã€å¿ƒæµã€‘ï¼ˆç‰©æˆ‘ä¸¤å¿˜ï¼‰çš„ç°è±¡</p><p>å½“ä½ ä»äº‹è‡ªå·±çœŸæ­£æ„Ÿå…´è¶£çš„æ´»åŠ¨ï¼Œæœ‰æ—¶å€™ä½ ä¼šè¿›å…¥åˆ°ã€å¿ƒæµã€‘çš„çŠ¶æ€ã€‚è¿™è¯å„¿å¯ä¸æ˜¯ä¿ºæœæ’°æ»´ï¼Œè€Œæ˜¯å¿ƒç†å­¦çš„ä¸“é—¨æœ¯è¯­ï¼Œæ´‹æ–‡ç§°ä¹‹ä¸ºâ€œflowâ€ï¼Œç›¸å…³çš„ç»´åŸºè¯æ¡åœ¨â€œè¿™é‡Œâ€ã€‚<br>ã€€ã€€è¿™ç§çŠ¶æ€å¤§æ¦‚å°±æ˜¯ä¼ è¯´ä¸­çš„â€œç‰©æˆ‘ä¸¤å¿˜â€ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œä½ ä¼šå¿˜è®°äº†æ—¶é—´çš„å­˜åœ¨ï¼Œç”šè‡³å¿˜è®°è‡ªå·±çš„å­˜åœ¨ï¼Œå…¨èº«å¿ƒéƒ½èå…¥åˆ°ä½ æ„Ÿå…´è¶£çš„æ´»åŠ¨å½“ä¸­ã€‚<br>ã€€ã€€ä¸¾ä¾‹ï¼š<br>ã€€ã€€æŸäº›éå¸¸çƒ­è¡·å›´æ£‹çš„çˆ±å¥½è€…ï¼Œåœ¨å¯¹å¼ˆæˆ–æ‰“è°±çš„æ—¶å€™ï¼Œå°±ä¼šè¿›å…¥åˆ°è¿™ç§çŠ¶æ€ã€‚æ­¤æ—¶ä»–ä»¬çš„çœ¼ä¸­åªæœ‰æ£‹ç›˜ï¼Œå‘¨å›´çš„ä¸–ç•Œä»¿ä½›éƒ½ä¸å­˜åœ¨äº†ã€‚</p><p>â˜…ã€çœŸæ­£çš„ã€‘å…´è¶£çˆ±å¥½å¯¹äººç”Ÿçš„å½±å“</p><p>å¦‚æœä½ èƒ½æ‰¾åˆ°è‡ªå·±çœŸæ­£çš„å…´è¶£çˆ±å¥½ï¼Œå¯¹ä½ çš„äººç”Ÿè‡³å°‘ä¼šäº§ç”Ÿå¦‚ä¸‹ä¸€äº›å½±å“ï¼š</p><p>â—‡æ›´å¤šçš„å¿«ä¹</p><p>è¿™æ˜¯æœ€æ˜¾è‘—çš„ä¸€ä¸ªå½±å“ï¼Œä¹Ÿæ˜¯ä¿ºåœ¨å‰é¢ç« èŠ‚å¤šæ¬¡æåŠçš„â€œå¿«æ„Ÿâ€ã€‚</p><p>â—‡æ›´å……å®çš„ç”Ÿæ´»</p><p>æœ‰äº†çœŸæ­£çš„å…´è¶£çˆ±å¥½ï¼Œé€šå¸¸å°±ä¸éœ€è¦æ‰¾ä¸€äº›äº‹æƒ…æ¥â€œæ‰“å‘æ—¶é—´â€ã€‚åä¹‹ï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„é—²æš‡æ—¶é—´éƒ½ç”¨åœ¨ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸå’Œæ´»åŠ¨ã€‚<br>ã€€ã€€ç›¸æ¯”ä¹‹ä¸‹ï¼Œé‚£äº›ç»å¸¸æ„Ÿå¹ç”Ÿæ´»ç©ºè™šçš„äººï¼Œé€šå¸¸éƒ½ç¼ºä¹çœŸæ­£çš„å…´è¶£å’Œçˆ±å¥½ã€‚</p><p>â—‡å…´è¶£ä¸å·¥ä½œçš„ç»“åˆ</p><p>å¦‚æœä½ å¤Ÿå¹¸è¿çš„è¯ï¼Œè¿˜å¯ä»¥è®©â€œè‡ªå·±çš„å…´è¶£â€æˆä¸ºâ€œè‡ªå·±çš„èŒä¸šâ€â€”â€”è¿™æ˜¯å¾ˆå¹¸ç¦çš„äº‹æƒ… ğŸ˜ƒ å¦‚æ­¤ä¸€æ¥ï¼Œå°±æŠŠâ€œå·¥ä½œâ€å’Œâ€œå¨±ä¹â€åˆä¸ºä¸€ä½“ã€‚ä½ å°†ä¸å†æœ‰â€œå·¥ä½œæ—¶é—´â€å’Œâ€œä¸šä½™æ—¶é—´â€çš„å·®å¼‚â€”â€”ä¸è®ºæ˜¯â€œå·¥ä½œæ—¶é—´â€è¿˜æ˜¯â€œä¸šä½™æ—¶é—´â€ï¼Œå¯¹ä½ è€Œè¨€éƒ½æ˜¯ã€å¨±ä¹æ—¶é—´ã€‘ã€‚è¿™å½“ç„¶å¾ˆçˆ½ï¼<br>ã€€ã€€å½“è¿™ä¸¤è€…ç»Ÿä¸€ä¹‹åï¼Œè¿˜æœ‰æ›´å¤šå…¶å®ƒçš„å¥½å¤„ã€‚æ¯”å¦‚è¯´ï¼Œä½ åœ¨è‡ªå·±çš„å·¥ä½œä¸­ï¼Œæ›´æœ‰å¯èƒ½æ¯”åˆ«äººèµ°å¾—æ›´è¿œï¼Œå› æ­¤ä¹Ÿå°±æ›´æœ‰å¯èƒ½æˆä¸ºè¯¥é¢†åŸŸçš„ã€ä¼˜ç§€ã€‘è€…ã€‚ï¼ˆè¯·æ³¨æ„ï¼Œâ€œä¼˜ç§€â€å’Œâ€œå“è¶Šâ€æ˜¯å®Œå…¨ä¸åŒæ»´ï¼Œåˆ«æ··æ·†äº†ã€‚åœ¨ã€ŠæˆåŠŸå­¦æ‰¹åˆ¤â€”â€”ç®€è¿°å…¶å±å®³æ€§åŠå„ç§è°¬è¯¯ã€‹ä¸€æ–‡ä¸­ï¼Œä¿ºæ¾„æ¸…äº†è¿™ä¸¤è€…çš„å·®å¼‚ï¼‰<br>ã€€ã€€ä¸€æ—¦ä½ æˆä¸ºæŸä¸ªé¢†åŸŸçš„ä¼˜ç§€è€…ï¼Œä½ å°±å…·å¤‡äº†ã€ä¸ªäººç«äº‰ä¼˜åŠ¿ã€‘ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ é€šå¸¸ä¸è‡³äºå¤ªç¼ºé’±ï¼ˆå½“ç„¶ï¼Œä¹Ÿä¼šæœ‰æå°‘æ•°ä¾‹å¤–ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3-new-feature</title>
      <link href="/blog/posts/20a24eb5/"/>
      <url>/blog/posts/20a24eb5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ€»ç»“ä¸€ä¸‹æœ€è¿‘ä¸€æ®µæ—¶é—´å­¦ä¹  vue3 çš„æ”¶è·</p></blockquote><h2 id="åŠŸèƒ½æ–¹é¢"><a class="header-anchor" href="#åŠŸèƒ½æ–¹é¢">Â¶</a>åŠŸèƒ½æ–¹é¢</h2><h4 id="composition-api-ç»„åˆapi"><a class="header-anchor" href="#composition-api-ç»„åˆapi">Â¶</a>Composition API (ç»„åˆAPI)</h4><p>Composition API çš„çµæ„Ÿæ¥è‡ªäº React Hooks ï¼Œæ˜¯æ¯” mixin æ›´å¼ºå¤§çš„å­˜åœ¨ã€‚å®ƒå¯ä»¥æé«˜ä»£ç é€»è¾‘çš„å¯å¤ç”¨æ€§ï¼Œä»è€Œå®ç°ä¸æ¨¡æ¿çš„æ— å…³æ€§ï¼›åŒæ—¶å‡½æ•°å¼çš„ç¼–ç¨‹ä½¿ä»£ç çš„å¯å‹ç¼©æ€§æ›´å¼ºã€‚å¦å¤–ï¼ŒæŠŠ Reactivity æ¨¡å—ç‹¬ç«‹å¼€æ¥ï¼Œæ„å‘³ç€ Vue3.0 çš„å“åº”å¼æ¨¡å—å¯ä»¥ä¸å…¶ä»–æ¡†æ¶ç›¸ç»„åˆã€‚<br>å®˜æ–¹ä¾‹å­</p><pre><code class="language-javascript">    // é¼ æ ‡ä½ç½®ä¾¦å¬é€»è¾‘     function useMouse() {            const state = reactive({                x: 0,                y: 0            })            const update = e =&gt; {                state.x = e.pageX                state.y = e.pageY            }            onMounted(() =&gt; {                window.addEventListener('mousemove', update)            })            onUnmounted(() =&gt; {                window.removeEventListener('mousemove', update)            })            return toRefs(state)        }</code></pre><p>æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯æŠŠç›¸å…³çš„é€»è¾‘å•ç‹¬æ‹¿å‡ºæ¥æé«˜ä»£ç å¤ç”¨</p><h4 id="å…¨å±€æŒ‚è½½-é…ç½®apiæ›´æ”¹"><a class="header-anchor" href="#å…¨å±€æŒ‚è½½-é…ç½®apiæ›´æ”¹">Â¶</a>å…¨å±€æŒ‚è½½/é…ç½®APIæ›´æ”¹</h4><p>vue2 ä½¿ç”¨ new Vue åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡å…¨å±€è®¾ç½®configé…ç½®vueçš„å¯é€‰é…ç½®ã€‚<br>vue3 ä½¿ç”¨ createApp å®šä¹‰çš„æŸä¸ª Vue ç¨‹åºã€‚å®ƒå¯ä»¥ä½¿ä½ çš„ä»£ç æ›´æ˜“äºç†è§£ï¼Œå¹¶ä¸”ä¸æ˜“å‡ºç°ç”±ç¬¬ä¸‰æ–¹æ’ä»¶å¼•å‘çš„æ„å¤–é—®é¢˜ã€‚ç›®å‰ï¼Œå¦‚æœæŸäº›ç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆæ­£åœ¨ä¿®æ”¹ Vue å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¼šä»¥æ„æƒ³ä¸åˆ°çš„æ–¹å¼ï¼ˆå°¤å…¶æ˜¯å…¨å±€æ··åˆï¼‰å½±å“ä½ çš„ç¨‹åºï¼Œè€Œ Vue 3 åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜.</p><pre><code class="language-javascript">import { createApp } from 'vue'import App from './App.vue'const app = createApp(App)app.config.ignoredElements = [/^app-/]app.use(/* ... */)app.mixin(/* ... */)app.component(/* ... */)app.directive(/* ... */)app.mount('#app')</code></pre><h4 id="fragments-ç‰‡æ®µ"><a class="header-anchor" href="#fragments-ç‰‡æ®µ">Â¶</a>Fragments(ç‰‡æ®µ)</h4><p>åœ¨ä¹¦å†™vue2æ—¶ï¼Œç”±äºç»„ä»¶å¿…é¡»åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå¾ˆå¤šæ—¶å€™ä¼šæ·»åŠ ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„èŠ‚ç‚¹ç”¨äºåŒ…è£¹ã€‚Fragmentç»„ä»¶å°±æ˜¯ç”¨äºè§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼ˆè¿™å’ŒReactä¸­çš„Fragmentç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼‰ã€‚</p><h4 id="suspense"><a class="header-anchor" href="#suspense">Â¶</a>Suspense</h4><p>åŒæ ·çš„ï¼Œè¿™å’ŒReactä¸­çš„Supenseæ˜¯ä¸€æ ·çš„ã€‚Suspense è®©ä½ çš„ç»„ä»¶åœ¨æ¸²æŸ“ä¹‹å‰è¿›è¡Œâ€œç­‰å¾…â€ï¼Œå¹¶åœ¨ç­‰å¾…æ—¶æ˜¾ç¤º fallback çš„å†…å®¹ã€‚</p><pre><code class="language-html">&lt;Suspense&gt;  &lt;template &gt;    &lt;Suspended-component /&gt;  &lt;/template&gt;  &lt;template #fallback&gt;    Loading...  &lt;/template&gt;&lt;/Suspense&gt;</code></pre><h4 id="v-model-æ”¯æŒå¤šä¸ª"><a class="header-anchor" href="#v-model-æ”¯æŒå¤šä¸ª">Â¶</a>v-model æ”¯æŒå¤šä¸ª</h4><p>åœ¨ 3.x ç‰ˆæœ¬ä¸­ï¼Œåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨ v-model ç›¸å½“äºä¼ é€’äº†ä¸€ä¸ª modelValue å±æ€§ä»¥åŠè§¦å‘ä¸€ä¸ª update:modelValue äº‹ä»¶ã€‚<br>å¦‚æœè¦æ”¹å˜ç»‘å®šçš„å±æ€§åï¼Œåªéœ€è¦ç»™ v-model ä¼ é€’ä¸€ä¸ªå‚æ•°å°±å¥½äº†ï¼š</p><pre><code class="language-html">&lt;KyrieInput v-model:title=&quot;name&quot; /&gt;&lt;!-- ç­‰åŒäº --&gt;&lt;KyrieInput :title=&quot;name&quot; @update:title=&quot;name = $event&quot; /&gt;</code></pre><p>è¿™ä¸ªå†™æ³•è¿˜å½»åº•ä»£æ›¿äº† .sync ä¿®é¥°ç¬¦ï¼Œå¹¶ä¸”æ”¯æŒç»Ÿä¸€ç»„ä»¶ç»‘å®šå¤šä¸ª v-model</p><h4 id="portals"><a class="header-anchor" href="#portals">Â¶</a>Portals</h4><p>Teleportå…¶å®å°±æ˜¯Reactä¸­çš„Portalã€‚Portal æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹çš„ä¼˜ç§€çš„æ–¹æ¡ˆã€‚ä¸€ä¸ª portal çš„å…¸å‹ç”¨ä¾‹æ˜¯å½“çˆ¶ç»„ä»¶æœ‰ overflow: hidden æˆ– z-index æ ·å¼æ—¶ï¼Œä½†ä½ éœ€è¦å­ç»„ä»¶èƒ½å¤Ÿåœ¨è§†è§‰ä¸Šâ€œè·³å‡ºâ€å…¶å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œå¯¹è¯æ¡†ã€æ‚¬æµ®å¡ä»¥åŠæç¤ºæ¡†ã€‚</p><h2 id="å®ç°é€»è¾‘é‡å¤§æ›´æ”¹"><a class="header-anchor" href="#å®ç°é€»è¾‘é‡å¤§æ›´æ”¹">Â¶</a>å®ç°é€»è¾‘é‡å¤§æ›´æ”¹</h2><h4 id="å“åº”å¼åŸç†"><a class="header-anchor" href="#å“åº”å¼åŸç†">Â¶</a>å“åº”å¼åŸç†</h4><p>Object.defineProperty -&gt; Proxy<br>Object.definePropertyæ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒæ˜‚è´µçš„æ“ä½œï¼Œå› ä¸ºå®ƒç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ï¼Œé¢—ç²’åº¦æ¯”è¾ƒå°ã€‚å°†å®ƒæ›¿æ¢ä¸ºes6çš„Proxyï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹ä¸Šæ¶äº†ä¸€å±‚æ‹¦æˆªï¼Œä»£ç†çš„æ˜¯å¯¹è±¡è€Œä¸æ˜¯å¯¹è±¡çš„å±æ€§ã€‚è¿™æ ·å¯ä»¥å°†åŸæœ¬å¯¹å¯¹è±¡å±æ€§çš„æ“ä½œå˜ä¸ºå¯¹æ•´ä¸ªå¯¹è±¡çš„æ“ä½œï¼Œé¢—ç²’åº¦å˜å¤§ã€‚</p><p>javascriptå¼•æ“åœ¨è§£æçš„æ—¶å€™å¸Œæœ›å¯¹è±¡çš„ç»“æ„è¶Šç¨³å®šè¶Šå¥½ï¼Œå¦‚æœå¯¹è±¡ä¸€ç›´åœ¨å˜ï¼Œå¯ä¼˜åŒ–æ€§é™ä½ï¼Œproxyä¸éœ€è¦å¯¹åŸå§‹å¯¹è±¡åšå¤ªå¤šæ“ä½œã€‚</p><p>åŒæ—¶ï¼Œæœ‰äº†Proxyï¼Œå°±ä¸ç”¨è€ƒè™‘æ–°å¢å±æ€§çš„å“åº”è¡Œä¸ºäº†ï¼Œæ˜¯æ—¶å€™è¦è·Ÿ$setè¯´å£°å†è§äº†ã€‚</p><h2 id="æ€§èƒ½æ–¹é¢"><a class="header-anchor" href="#æ€§èƒ½æ–¹é¢">Â¶</a>æ€§èƒ½æ–¹é¢</h2><p>åŒå‘å“åº”åŸç†ç”±Object.definePropertyæ”¹ä¸ºåŸºäºES6çš„Proxyï¼Œä½¿å…¶é¢—ç²’åº¦æ›´å¤§ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œä¸”æ¶ˆé™¤äº†ä¹‹å‰å­˜åœ¨çš„è­¦å‘Šï¼›<br>é‡å†™äº† Vdom ï¼Œçªç ´äº† Vdom çš„æ€§èƒ½ç“¶é¢ˆ<br>è¿›è¡Œäº†æ¨¡æ¿ç¼–è¯‘çš„ä¼˜åŒ–<br>è¿›è¡Œäº†æ›´åŠ é«˜æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–</p><h4 id="æ”¯æŒtree-shaking-æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„"><a class="header-anchor" href="#æ”¯æŒtree-shaking-æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„">Â¶</a>æ”¯æŒtree-shaking , æ›´åŠ è§£è€¦çš„ä»£ç ç»“æ„</h4><p>æ”¯æŒäº† tree-shaking ï¼ˆå‰ªæï¼‰ï¼šåƒä¿®å‰ªæ ‘å¶ä¸€æ ·æŠŠä¸éœ€è¦çš„ä¸œè¥¿ç»™ä¿®å‰ªæ‰ï¼Œä½¿ Vue3 çš„ä½“ç§¯æ›´å°ã€‚</p><p>éœ€è¦çš„æ¨¡å—æ‰ä¼šæ‰“å…¥åˆ°åŒ…é‡Œï¼Œä¼˜åŒ–åçš„ Vue3.0 çš„æ‰“åŒ…ä½“ç§¯åªæœ‰åŸæ¥çš„ä¸€åŠï¼ˆ13kbï¼‰ã€‚å“ªæ€•æŠŠæ‰€æœ‰çš„åŠŸèƒ½éƒ½å¼•å…¥è¿›æ¥ä¹Ÿåªæœ‰23kbï¼Œä¾ç„¶æ¯” Vue2.x æ›´å°ã€‚åƒ keep-alive ã€ transition ç”šè‡³ v-for ç­‰åŠŸèƒ½éƒ½å¯ä»¥æŒ‰éœ€å¼•å…¥ã€‚</p><h4 id="æ¨¡æ¿æ€§èƒ½æå‡"><a class="header-anchor" href="#æ¨¡æ¿æ€§èƒ½æå‡">Â¶</a>æ¨¡æ¿æ€§èƒ½æå‡</h4><p>åœ¨ä¹‹å‰çš„VDOMä¸­ï¼Œå¦‚æœmsgå€¼å‘ç”Ÿæ”¹å˜ï¼Œæ•´ä¸ªæ¨¡ç‰ˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°æ¸²æŸ“ã€‚ä½†åœ¨Vue3.0ä¸­ï¼Œåœ¨è¿™ä¸ªæ¨¡ç‰ˆç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨åŠ¨æ€æ ‡ç­¾æœ«å°¾åŠ ä¸Š /* Text*/ PatchFlagã€‚åªèƒ½å¸¦patchFlag çš„ Node æ‰è¢«è®¤ä¸ºæ˜¯åŠ¨æ€çš„å…ƒç´ ï¼Œä¼šè¢«è¿½è¸ªå±æ€§çš„ä¿®æ”¹ã€‚å¹¶ä¸” PatchFlag ä¼šæ ‡è¯†åŠ¨æ€çš„å±æ€§ç±»å‹æœ‰å“ªäº›ï¼Œæ¯”å¦‚è¿™é‡Œ çš„TEXT è¡¨ç¤ºåªæœ‰èŠ‚ç‚¹ä¸­çš„æ–‡å­—æ˜¯åŠ¨æ€çš„ã€‚<br>æ¯ä¸€ä¸ªBlockä¸­çš„èŠ‚ç‚¹ï¼Œå°±ç®—å¾ˆæ·±ï¼Œä¹Ÿæ˜¯ç›´æ¥è·ŸBlockä¸€å±‚ç»‘å®šçš„ï¼Œå¯ä»¥ç›´æ¥è·³è½¬åˆ°åŠ¨æ€èŠ‚ç‚¹è€Œä¸éœ€è¦é€ä¸ªé€å±‚éå†ã€‚<br>æ—¢æœ‰VDOMçš„çµæ´»æ€§ï¼Œåˆæœ‰æ€§èƒ½ä¿è¯ã€‚<br>vue3 ä½¿ç”¨ hoistStatic é™æ€èŠ‚ç‚¹æå‡<br>å½“ä½¿ç”¨hoistStaticæ—¶ï¼Œæ‰€æœ‰ é™æ€çš„èŠ‚ç‚¹éƒ½è¢«æå‡åˆ°renderæ–¹æ³•ä¹‹å¤–ã€‚è¿™æ„å‘³ç€ï¼Œä»–ä»¬åªä¼šåœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™è¢«åˆ›å»ºä¸€æ¬¡ï¼Œè€Œåéšç€æ¯æ¬¡çš„æ¸²æŸ“è¢«ä¸åœçš„å¤ç”¨ã€‚</p><h4 id="æ—¶é—´åˆ†ç‰‡"><a class="header-anchor" href="#æ—¶é—´åˆ†ç‰‡">Â¶</a>æ—¶é—´åˆ†ç‰‡</h4><p>åœ¨åŠ¨æ€èŠ‚ç‚¹å’Œæ•°æ®çš„é‡éƒ½å¾ˆå¤§æ—¶ï¼Œé‚£ä¹ˆåœ¨æ•°æ®æ›´æ–°æ—¶ï¼Œjsçº¿ç¨‹å°±ä¼šç”¨å¾ˆé•¿çš„æ—¶é—´æ¥æ‰§è¡Œvdomçš„ç›¸å…³è®¡ç®—ï¼Œå¦‚æœè¶…è¿‡äº†16msï¼Œé€ æˆäº¤äº’æˆ–åŠ¨ç”»ç­‰ç­‰å¡é¡¿ç°è±¡ã€‚è€Œæ—¶é—´åˆ†ç‰‡å°±æ˜¯æŠŠvdomçš„å¤§é‡è®¡ç®—åˆ†æˆå¤šä¸ªå°ä»»åŠ¡ï¼Œä¿è¯æ¯ä¸ªå°ä»»åŠ¡åœ¨16mså†…æ‰§è¡Œå®Œï¼Œä»è€Œä¸ä¼šé˜»å¡ç”¨æˆ·äº¤äº’ï¼Œé¿å…å¡é¡¿ç°è±¡ã€‚<br>ç„¶é¹…ï¼Œæ­¤åŠŸèƒ½è¿˜æœªåŒ…å«åœ¨vue3çš„æ›´æ–°ä¸­ã€‚</p><p>å‚è€ƒï¼š<br><a href="https://zhuanlan.zhihu.com/p/147022323" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/147022323</a><br><a href="https://www.jianshu.com/p/1d2846f2a855" target="_blank" rel="noopener">https://www.jianshu.com/p/1d2846f2a855</a><br><a href="https://v3.vuejs.org/" target="_blank" rel="noopener">https://v3.vuejs.org/</a><br><a href="https://segmentfault.com/a/1190000024580501" target="_blank" rel="noopener">https://segmentfault.com/a/1190000024580501</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å¯ç½‘é¡µ3Dæ•ˆæœä¹‹æ—…</title>
      <link href="/blog/posts/3d46f50c/"/>
      <url>/blog/posts/3d46f50c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸Šå¤æ—¶ä»£ï¼Œå½“<code>html</code>è¯­è¨€å’Œ<code>http</code>åè®®åˆšè¢«å‘æ˜å‡ºæ¥æ—¶ï¼Œè¿™äº›ä¸“å®¶ä»¬ä¹Ÿè®¸æ€ä¹ˆä¹Ÿæƒ³ä¸åˆ°ï¼Œå½“åˆå‘æ˜æ¥å…±äº«æ–‡æœ¬çš„æŠ€æœ¯å¦‚ä»Šç»Ÿæ²»äº†å‡ ä¹æ•´ä¸ªäº’è”ç½‘è¡Œä¸šã€‚å½“ç¬¬ä¸€ä¸ªç½‘é¡µè¢«æ‰“å¼€æ—¶ï¼Œä¸Šé¢åªæœ‰ç®€é™‹çš„ä¸€ä¸ªè¡¨å•ï¼Œç”šè‡³åšä¸€ä¸ªç®€å•çš„è¿‡æ¸¡å˜è‰²æ•ˆæœï¼Œéƒ½è¦å€Ÿç”¨<code>java Applet</code>ï¼Œåæ¥è¦å€ŸåŠ©<code>javascript</code>ã€‚çŸ­çŸ­åå‡ å¹´è¿‡å»ï¼Œç°åœ¨æœ‰äº†<code>css3</code>ï¼Œä½ åªéœ€å®šä¹‰ç®€å•çš„<code>transition</code>,å°±å¯ä»¥å®ç°å„ç§ç¥å¥‡çš„è¿‡æ¸¡æ•ˆæœã€‚</p></blockquote><p>æœ¬æ–‡ä¸æ˜¯ä»‹ç»<code>css3</code>åŠ¨ç”»ä»¥åŠç”¨æ³•çš„ï¼Œå› æ­¤éœ€è¦è¯»è€…é¢„å…ˆäº†<code>transition</code>,<code>transform</code>ç­‰å±æ€§ã€‚</p><p>###ã€€å›é¡¾ä¸‹<code>CSS3</code>çš„åŸºç¡€å±æ€§</p><h4 id="1-transition"><a class="header-anchor" href="#1-transition">Â¶</a>1.<code>transition</code></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener">Transition</a>æ˜¯è¢«ç”¨åˆ°æœ€å¤šçš„ä¹Ÿæ˜¯æœ€ç®€å•çš„<code>CSS3</code>åŠ¨ç”»ç±»å‹ï¼Œå¦‚æœä½ æƒ³å®ç°é¼ æ ‡åˆ’è¿‡æ›´æ”¹èƒŒæ™¯è‰²çš„åŠŸèƒ½ï¼Œç”¨<code>transition</code>æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚</p><pre><code class="language-html">&lt;button&gt;ä¼šå˜è‰²çš„æŒ‰é’®&lt;/button&gt;</code></pre><pre><code class="language-css">button {    transition: all 0.8s ease;     background-color: red;}button:hover {    background-color: #EEEEEE;}</code></pre><p>ä¸‹é¢æ˜¯æ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master/img/1.gif" alt="gif"></p><p><strong>transition</strong> <a href="https://developer.mozilla.org/en/CSS" target="_blank" rel="noopener">CSS</a> å±æ€§æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-property" target="_blank" rel="noopener"><code>transition-property</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-duration" target="_blank" rel="noopener"><code>transition-duration</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-timing-function" target="_blank" rel="noopener"><code>transition-timing-function</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-delay" target="_blank" rel="noopener"><code>transition-delay</code></a> çš„ä¸€ä¸ª<a href="https://developer.mozilla.org/en-US/docs/CSS/Shorthand_properties" target="_blank" rel="noopener">ç®€å†™å±æ€§</a>ã€‚åˆ†åˆ«æ˜¯å¯å˜æ¢å±æ€§ï¼ŒæŒç»­æ—¶é—´ï¼Œå˜æ¢çš„è¿‡åº¦å‡½æ•°(å°±æ˜¯å˜æ¢çš„åŠ é€Ÿåº¦æ›²çº¿)ï¼Œæ•ˆæœç”Ÿæ•ˆçš„å»¶æ—¶ã€‚</p><p>å…³äº<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener">Transition</a>çš„æ›´å¤š<code>API</code>ï¼Œè¯·æŸ¥çœ‹<code>MDN</code>çš„æ–‡æ¡£ã€‚</p><h4 id="2-transform"><a class="header-anchor" href="#2-transform">Â¶</a>2.<code>transform</code></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform" target="_blank" rel="noopener">transform</a>æ˜¯æ‰§è¡Œå…ƒç´ æ—‹è½¬ï¼Œç¼©æ”¾ï¼Œä½ç§»ï¼Œå€¾æ–œçš„<code>css</code>å±æ€§ï¼Œå®ƒæ˜¯é€šè¿‡ä¿®æ”¹è§†è§‰ä¸Šçš„åæ ‡ç©ºé—´å®ç°çš„ã€‚</p><p>âš ï¸ åªèƒ½è½¬æ¢ç›’å­æ¨¡å‹å®šä½çš„å…ƒç´ ã€‚</p><ul><li>æ—‹è½¬<br><code>rotate(a)</code><br>aæ˜¯ä¸€ç§<angle>ï¼Œè¡¨ç¤ºæ—‹è½¬çš„è§’åº¦ï¼Œæ¯”å¦‚<code>30deg</code>ã€‚ æ­£è§’åº¦è¡¨ç¤ºäº†é¡ºæ—¶é’ˆçš„æ—‹è½¬ï¼Œè´Ÿè§’åº¦è¡¨ç¤ºé€†æ—¶é’ˆçš„æ—‹è½¬ã€‚</angle></li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;rotated&quot;&gt;æ—‹è½¬45åº¦&lt;/div&gt;&lt;div class=&quot;rotated2&quot;&gt;æ—‹è½¬90åº¦&lt;/div&gt;</code></pre><pre><code class="language-css">div { width: 80px; height: 80px; background-color: skyblue;}.rotated { transform: rotate(45deg);  background-color: pink;}.rotated2 {   transform: rotate(90deg);    background-color: blue;   color: #ffffff;}</code></pre><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master//img/2.gif" alt="gif"></p><ul><li>ç¼©æ”¾<br><code>scale(a,b,c)</code><br><em>å•ä¸€æ•°å€¼</em><br>å•ä¸€çš„æ•°å€¼å³æŒ‡å®šäº†ä¸€ä¸ªç¼©æ”¾ç³»æ•°ï¼ŒåŒæ—¶ä½œç”¨äºXè½´å’ŒYè½´è®©è¯¥å…ƒç´ è¿›è¡Œç¼©æ”¾ï¼Œç›¸å½“äºæŒ‡å®šäº†å•ä¸ªå€¼çš„scale()(2Dç¼©æ”¾)å‡½æ•°ã€‚<br><em>ä¸¤ä¸ªé•¿åº¦/ç™¾åˆ†æ¯”å€¼</em><br>ä¸¤ä¸ªæ•°å€¼å³åˆ†åˆ«æŒ‡å®šäº†2Dæ¯”ä¾‹çš„Xè½´å’ŒYè½´çš„ç¼©æ”¾ç³»æ•°ï¼Œç›¸å½“äºæŒ‡å®šäº†ä¸¤ä¸ªå€¼çš„scale()ï¼ˆ2Dç¼©æ”¾ï¼‰å‡½æ•°ã€‚<br><em>ä¸‰ä¸ªé•¿åº¦/ç™¾åˆ†æ¯”å€¼</em><br>ä¸‰ä¸ªæ•°å€¼å³åˆ†åˆ«æŒ‡å®šäº†3Dæ¯”ä¾‹çš„Xè½´ã€Yè½´å’ŒZè½´çš„ç¼©æ”¾ç³»æ•°. ç›¸å½“äºä¸€ä¸ªscale3d()å‡½æ•°ã€‚<br>none<br>æŒ‡å®šä¸è¿›è¡Œç¼©æ”¾ã€‚</li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;scale&quot;&gt;å¤§2å€&lt;/div&gt;&lt;div class=&quot;scale2&quot;&gt;æ°´å¹³1.5å€ï¼Œå‚ç›´2å€&lt;/div&gt;</code></pre><pre><code class="language-css">div { width: 80px; height: 80px; background-color: skyblue; text-align: center; transform-origin: 0 0;}.scale { transform: scale(2); background-color: pink;}.scale2 {   transform: scale(1.5, 2);   background-color: blue;   color: #ffffff;}</code></pre><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master//img/3.gif" alt="gif"></p><ul><li>ä½ç§»<br><code>translate(x,y)</code><br>x,y åˆ†åˆ«æ˜¯ x,yè½´ç§»åŠ¨çš„è·ç¦»ã€‚</li></ul><pre><code class="language-html">&lt;div&gt;æ­£å¸¸&lt;/div&gt;&lt;div class=&quot;translate&quot;&gt;å³ï¼Œä¸‹ç§»30px&lt;/div&gt;</code></pre><pre><code class="language-css">div { width: 80px; height: 80px; background-color: skyblue; text-align: center; transform-origin: 0 0;}.translate { transform: translate(30px, 30px); background-color: pink;}</code></pre><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master//img/4.gif" alt="gif"></p><ul><li>å€¾æ–œ</li></ul><p><code>skew(x-angle,y-angle)</code><br>å®šä¹‰æ²¿ç€ X å’Œ Y è½´çš„ 2D å€¾æ–œè½¬æ¢ã€‚</p><pre><code class="language-html">&lt;div&gt;Normal&lt;/div&gt;&lt;div class=&quot;skewed&quot;&gt;Skewed&lt;/div&gt;</code></pre><pre><code class="language-css">div {  width: 80px;  height: 80px;  background-color: skyblue;}.skewed {  transform: skew(10deg); /* Equal to skewX(10deg) */  background-color: pink;}</code></pre><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master//img/5.gif" alt="gif"></p><h4 id="3-animation"><a class="header-anchor" href="#3-animation">Â¶</a>3.<code>animation</code></h4><p>æˆ‘ä»¬å¯ä»¥æŠŠ<code>transition</code>å’Œ<code>transform</code> ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå°±å®ç°åŠ¨æ„Ÿåè¶³çš„htmlé¡µé¢ã€‚<br>ä½†æ˜¯ï¼Œ<code>transition</code>åªèƒ½å®ç°å¼€å§‹å’Œç»“æŸçš„çŠ¶æ€ï¼Œå¹¶ä¸”åªèƒ½â€œåŠ¨ä¸€æ¬¡â€ã€‚</p><p>è¿˜æœ‰æ›´åŠ å¼ºå¤§çš„<code>animation</code>å±æ€§ï¼Œå¯ä»¥åˆ¶ä½œä¸é—´æ–­ï¼Œå­˜åœ¨ä¸­é—´çŠ¶æ€çš„åŠ¨ç”»ã€‚</p><p>ğŸ’¥ è¿™é‡Œç©¿æ’ä»‹ç»ä¸€ä¸ª<code>animation</code>åŠ¨ç”»åº“ï¼Œ<a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">https://daneden.github.io/animate.css/</a></p><p><code>animate.css</code>é‡Œé¢å®ç°äº†å¾ˆå¤šå¸¸è§çš„æ·¡å…¥æ·¡å‡ºï¼Œæ–¹å‘ç§»åŠ¨çš„åŠ¨ç”»ï¼Œå¯ä»¥çœ‹ä¸‹æºç ï¼Œç„¶åè‡ªå·±å®ç°åŠ¨ç”»çš„æ—¶å€™å°±æœ‰å¤´ç»ªäº†ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„fadeout æ•ˆæœçš„æºä»£ç </p><pre><code class="language-css">@keyframes fadeOutDown {  from {    opacity: 1;  }  to {    opacity: 0;    transform: translate3d(0, 100%, 0);  }}</code></pre><p>ç‚¹å‡»<code>animate.css</code>å®˜ç½‘å¯ä»¥æŸ¥çœ‹æ›´å¤šçš„æ•ˆæœå“¦ã€‚<img src="https://raw.githubusercontent.com/x1nes/imageUrl/master/img/6.gif" alt="gif"></p><p>ç†è®ºä¸Šï¼Œä»»ä½•å•ç‹¬çš„<code>css</code>å±æ€§éƒ½å¯ä»¥æ‹¿æ¥åšåŠ¨ç”»ï¼Œä½†æ˜¯æ³¨æ„ä¸€ç‚¹ğŸ™‰ä»æ— åˆ°æœ‰ï¼Œä¸è¦ç”¨<code>display:none</code>,åº”è¯¥ç”¨<code>opacity</code>å±æ€§ã€‚</p><p>ç„¶åæ˜¯<code>animate</code>çš„å±æ€§ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS" target="_blank" rel="noopener">CSS</a> <strong>animation</strong> å±æ€§æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name" target="_blank" rel="noopener"><code>animation-name</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-duration" target="_blank" rel="noopener"><code>animation-duration</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-timing-function" target="_blank" rel="noopener"><code>animation-timing-function</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-delay" target="_blank" rel="noopener"><code>animation-delay</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-iteration-count" target="_blank" rel="noopener"><code>animation-iteration-count</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction" target="_blank" rel="noopener"><code>animation-direction</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-fill-mode" target="_blank" rel="noopener"><code>animation-fill-mode</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-play-state" target="_blank" rel="noopener"><code>animation-play-state</code></a> å±æ€§çš„ä¸€ä¸ªç®€å†™å±æ€§å½¢å¼ã€‚</p><p>è¿™é‡Œä¸ä¸€ä¸€ä»‹ç»äº†ã€‚</p><h1></h1><h3 id="è¿›å…¥ä¸»é¢˜-transformçš„3dæ•ˆæœ"><a class="header-anchor" href="#è¿›å…¥ä¸»é¢˜-transformçš„3dæ•ˆæœ">Â¶</a>è¿›å…¥ä¸»é¢˜â€“<code>transform</code>çš„<code>3D</code>æ•ˆæœ</h3><p>â˜‘ï¸ ç½‘é¡µçš„<code>3D</code>åæ ‡ç³»ï¼š</p><p><img src="https://raw.githubusercontent.com/x1nes/imageUrl/master//img/1328957-20190425135458622-1593901679.jpg" alt></p><p>å¦‚ä¸Šå›¾ï¼Œç½‘æ ¼å°±æ˜¯ç½‘é¡µçš„åæ ‡ç³»ã€‚æœ‰äº†è¿™å¼ å›¾ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„æƒ³åˆ°å¦‚ä½•è¿ç”¨<code>css</code>çš„å±æ€§å¾—åˆ°æƒ³è¦çš„æ•ˆæœã€‚</p><h4 id="1-å¦‚ä½•ä½¿ç”¨3d"><a class="header-anchor" href="#1-å¦‚ä½•ä½¿ç”¨3d">Â¶</a>1.å¦‚ä½•ä½¿ç”¨<code>3d</code></h4><p><code>transform</code>çš„<code>translate</code>,<code>scale</code>,<code>rotate</code>éƒ½æœ‰<code>3D</code>æ•ˆæœã€‚</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>translate3d(<em>x</em>,<em>y</em>,<em>z</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ã€‚</td></tr><tr><td>translateX(<em>x</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº X è½´çš„å€¼ã€‚</td></tr><tr><td>translateY(<em>y</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº Y è½´çš„å€¼ã€‚</td></tr><tr><td>translateZ(<em>z</em>)</td><td>å®šä¹‰ 3D è½¬åŒ–ï¼Œä»…ä½¿ç”¨ç”¨äº Z è½´çš„å€¼ã€‚</td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>scale3d(<em>x</em>,<em>y</em>,<em>z</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ã€‚</td></tr><tr><td>scaleX(<em>x</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª X è½´çš„å€¼ã€‚</td></tr><tr><td>scaleY(<em>y</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª Y è½´çš„å€¼ã€‚</td></tr><tr><td>scaleZ(<em>z</em>)</td><td>å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢ï¼Œé€šè¿‡ç»™å®šä¸€ä¸ª Z è½´çš„å€¼ã€‚</td></tr></tbody></table><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>rotate3d(<em>x</em>,<em>y</em>,<em>z</em>,<em>angle</em>)</td><td>å®šä¹‰ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateX(<em>angle</em>)</td><td>å®šä¹‰æ²¿ X è½´çš„ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateY(<em>angle</em>)</td><td>å®šä¹‰æ²¿ Y è½´çš„ 3D æ—‹è½¬ã€‚</td></tr><tr><td>rotateZ(<em>angle</em>)</td><td>å®šä¹‰æ²¿ Z è½´çš„ 3D æ—‹è½¬ã€‚</td></tr></tbody></table><p>ä¹Ÿå¯ä»¥ç”¨</p><table><thead><tr><th>å±æ€§</th><th>å®šä¹‰</th></tr></thead><tbody><tr><td>matrix3d(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>, <em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td><td>å®šä¹‰ 3D è½¬æ¢ï¼Œä½¿ç”¨ 16 ä¸ªå€¼çš„ 4x4 çŸ©é˜µã€‚</td></tr></tbody></table><p>ä¸‹é¢æ˜¯3Då˜æ¢çš„ä¾‹å­</p><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/x1nes/se45nykp/9//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>ä¸Šé¢å¯ä»¥çœ‹å‡ºæ¥ï¼Œ<code>div</code>è„±ç¦»äº†å¹³é¢ï¼Œä½†æ˜¯æ•ˆæœå´ä»¿ä½›è¿˜æ˜¯å¹³é¢çš„ï¼Œå› ä¸ºæˆ‘ä»¬ç¼ºå°‘å®šä¹‰äº†ä¸€ä¸ªå…³é”®çš„å±æ€§ï¼š</p><p>ğŸ·<code>persspective</code>ç»™å…ƒç´ åŠ ä¸Š<code>3D</code>é€è§†(è¿‘å¤§è¿œå°)çš„æ•ˆæœã€‚</p><pre><code class="language-css">transform: perspective( 600px );// åŠ åœ¨å­å…ƒç´ ä¸Šï¼Œç»™å•ä¸ªå…ƒç´ æ·»åŠ é€è§†/**æˆ–è€…**/perspective: 600px;// åŠ åœ¨çˆ¶å…ƒç´ ä¸Šï¼Œæ‰€æœ‰çš„å­å…ƒç´ å…±äº«ä¸€ä¸ª3Dç©ºé—´</code></pre><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/x1nes/oy0rwgh7/32//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç»™å•ä¸ªå…ƒç´ æ·»åŠ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„é€è§†ç©ºé—´ã€‚</p><p>ğŸ·<code>perspective-orgin</code>é»˜è®¤çš„å˜æ¢ç‚¹éƒ½æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹ï¼Œå¦‚æœä½ æƒ³ä»¥å…¶ä»–çš„ä½ç½®ä¸ºå˜æ¢ç‚¹ï¼Œé‚£å°±å¯ä»¥ç”¨è¿™ä¸ªå±æ€§æ¥åšè°ƒæ•´ã€‚</p><p>å°±åƒ<code>transform-origin</code>åœ¨2Då˜æ¢é‡Œé¢è®¾ç½®å˜æ¢ä¸­å¿ƒç‚¹ä¸€æ ·ã€‚ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯å…ƒç´ çš„åº•éƒ¨ä½ç½®ã€‚</p><p>ğŸ·<code>transform-style</code>è¿™ä¸ªå‚æ•°ç”¨æ¥å…±äº«çˆ¶å…ƒç´ çš„3Dç©ºé—´ã€‚</p><table><thead><tr><th style="text-align:left">å€¼</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">flat</td><td style="text-align:left">è¡¨ç¤ºæ‰€æœ‰å­å…ƒç´ åœ¨2Då¹³é¢å‘ˆç°ã€‚</td></tr><tr><td style="text-align:left">preserve-3d</td><td style="text-align:left">è¡¨ç¤ºæ‰€æœ‰å­å…ƒç´ åœ¨3Dç©ºé—´ä¸­å‘ˆç°ã€‚</td></tr></tbody></table><p>ğŸ·<code>backface-visibility</code>å¯ç”¨äºéšè—å†…å®¹çš„èƒŒé¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒèƒŒé¢å¯è§ï¼Œè¿™æ„å‘³ç€å³ä½¿åœ¨ç¿»è½¬åï¼Œå˜æ¢çš„å†…å®¹ä»ç„¶å¯è§ã€‚ä½†å½“ backface-visibility è®¾ç½®ä¸º hidden æ—¶ï¼Œæ—‹è½¬åå†…å®¹å°†éšè—ï¼Œå› ä¸ºæ—‹è½¬åæ­£é¢å°†ä¸å†å¯è§ã€‚</p><h4 id="2-3då’Œç¡¬ä»¶åŠ é€Ÿ"><a class="header-anchor" href="#2-3då’Œç¡¬ä»¶åŠ é€Ÿ">Â¶</a>2.<code>3d</code>å’Œç¡¬ä»¶åŠ é€Ÿ</h4><p>åŠ¨ç”»å¡é¡¿æ˜¯åœ¨ç§»åŠ¨webå¼€å‘æ—¶ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ä¸€èˆ¬ä¼šç”¨åˆ°<strong>css3ç¡¬ä»¶åŠ é€Ÿ</strong>ã€‚</p><p>â”ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿï¼Ÿ</p><p>DOMæ ‘å’ŒCSSç»“åˆåå½¢æˆæ¸²æŸ“æ ‘ã€‚æ¸²æŸ“æ ‘ä¸­åŒ…å«äº†å¤§é‡çš„æ¸²æŸ“å…ƒç´ ï¼Œæ¯ä¸€ä¸ªæ¸²æŸ“å…ƒç´ ä¼šè¢«åˆ†åˆ°ä¸€ä¸ªå›¾å±‚ä¸­ï¼Œæ¯ä¸ªå›¾å±‚åˆä¼šè¢«åŠ è½½åˆ°GPUå½¢æˆæ¸²æŸ“çº¹ç†ã€‚GPUä¸­transformæ˜¯ä¸ä¼šè§¦å‘ repaint çš„ï¼Œè¿™ä¸€ç‚¹éå¸¸ç±»ä¼¼3Dç»˜å›¾åŠŸèƒ½ï¼Œæœ€ç»ˆè¿™äº›ä½¿ç”¨ transformçš„å›¾å±‚éƒ½ä¼šç”±[ç‹¬ç«‹çš„åˆæˆå™¨è¿›ç¨‹è¿›è¡Œå¤„ç†]ã€‚<a href="https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome" target="_blank" rel="noopener">https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome</a></p><p>å› æ­¤ï¼Œæœ€ç®€å•çš„å¼€å¯ç¡¬ä»¶åŠ é€Ÿçš„æ–¹æ³•å°±æ˜¯è®¾ç½®<code>translateZ(0)</code>ã€‚</p><p>ä½†æ˜¯ï¼Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿåï¼Œä¼šåŠ å¿«ç”¨ç”µï¼Œå¹¶ä¸”ä¸åˆé€‚çš„ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼Œä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚</p><p>å‚è€ƒï¼š<a href="https://div.io/topic/1348" target="_blank" rel="noopener">https://div.io/topic/1348</a> çœ‹ä¸‹<code>index</code>å±æ€§é€ æˆä¸è¯¥åœ¨å¤åˆå±‚ï¼ˆcomposited layerï¼‰ä¸­çš„å…ƒç´ é€ æˆé¡µé¢å¡é¡¿çš„ä¾‹å­ã€‚</p><h4 id="3-3dåŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹"><a class="header-anchor" href="#3-3dåŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹">Â¶</a>3. <code>3d</code>åŠ¨ç”»çš„ä¸€ä¸ªå®ä¾‹</h4><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/x1nes/tj1of0m5//embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>åˆ©ç”¨<code>translate</code> å’Œ <code>rotate</code> åˆ¶ä½œçš„ä¸€ä¸ªéª°å­ã€‚</p><p>ä»£ç æ¥æºï¼š</p><p><a href="https://www.cnblogs.com/zhangnan35/p/10709876.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangnan35/p/10709876.html</a></p><p>å‚è€ƒï¼š</p><p><a href="https://www.jianshu.com/p/f8b1d6e598db" target="_blank" rel="noopener">https://www.jianshu.com/p/f8b1d6e598db</a></p><p><a href="http://beiyuu.com/css3-animation" target="_blank" rel="noopener">http://beiyuu.com/css3-animation</a></p><p><a href="https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome" target="_blank" rel="noopener">https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ä¸€æ®µæ—¶é—´reactçš„æ€»ç»“</title>
      <link href="/blog/posts/1b7d8e2e/"/>
      <url>/blog/posts/1b7d8e2e/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘æ¯”è¾ƒå¿™ï¼Œå…ˆåˆ—ä¸‹å¤§çº²ï¼Œç„¶ååœ¨é€æ¸è¡¥å……</p></blockquote><h1>ç»„ä»¶çš„å‡ ç§å¸¸è§å½¢å¼</h1><h2 id="ç»„åˆè¿˜æ˜¯ç»§æ‰¿"><a class="header-anchor" href="#ç»„åˆè¿˜æ˜¯ç»§æ‰¿">Â¶</a>ç»„åˆè¿˜æ˜¯ç»§æ‰¿</h2><h2 id="stateè¿˜æ˜¯props"><a class="header-anchor" href="#stateè¿˜æ˜¯props">Â¶</a>stateè¿˜æ˜¯props</h2><h2 id="å¦‚ä½•å‡å°‘propsä¼ é€’çš„å±‚çº§"><a class="header-anchor" href="#å¦‚ä½•å‡å°‘propsä¼ é€’çš„å±‚çº§">Â¶</a>å¦‚ä½•å‡å°‘<code>props</code>ä¼ é€’çš„å±‚çº§</h2><h2 id="å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶"><a class="header-anchor" href="#å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶">Â¶</a>å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶</h2><h1>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h1><h2 id="æ€»è§ˆ"><a class="header-anchor" href="#æ€»è§ˆ">Â¶</a>æ€»è§ˆ</h2><h2 id="react-17-æ–°çš„ç”Ÿå‘½å‘¨æœŸå’Œå¸¦æ¥çš„å½±å“"><a class="header-anchor" href="#react-17-æ–°çš„ç”Ÿå‘½å‘¨æœŸå’Œå¸¦æ¥çš„å½±å“">Â¶</a>react 17 æ–°çš„ç”Ÿå‘½å‘¨æœŸå’Œå¸¦æ¥çš„å½±å“</h2><h1>refè½¬å‘</h1><h1>render props</h1><h1>é«˜é˜¶ç»„ä»¶çš„ç”¨æ³•</h1><h1>pureComponent å’Œ ä¸å¯å˜æ•°æ®</h1><h1>å¥½ç”¨çš„é…å¥—npmåº“</h1><h2 id="classnamse"><a class="header-anchor" href="#classnamse">Â¶</a>classnamse</h2>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è£…é¥°å™¨çš„ç®€å•å®ç°ï¼ˆä¸‹ï¼‰</title>
      <link href="/blog/posts/72b1723d/"/>
      <url>/blog/posts/72b1723d/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸Šæ–‡ä»‹ç»äº†è£…é¥°æ¨¡å¼ï¼Œè£…é¥°å™¨è¯­æ³•ï¼Œä»Šå¤©ç»§ç»­è¯´ä¸€ä¸‹æ€ä¹ˆç”¨javascriptå®ç°è‡ªå®šä¹‰è£…é¥°å™¨ã€‚</p></blockquote><h3 id="å¯ç”¨è£…é¥°å™¨è¯­æ³•"><a class="header-anchor" href="#å¯ç”¨è£…é¥°å™¨è¯­æ³•">Â¶</a>å¯ç”¨è£…é¥°å™¨è¯­æ³•</h3><p>ç›®å‰<code>decorator</code>è¯­æ³•åªæ˜¯é¢˜æ¡ˆï¼Œæƒ³è¦ä½¿ç”¨è£…é¥°å™¨ï¼Œéœ€è¦å®‰è£…<code>babel</code>å’Œ<code>webpack</code>å¹¶ç»“åˆ<code>babel/plugin-proposal-decorators</code> æ’ä»¶ã€‚</p><p>å…³äºå¦‚ä½•é…ç½®è¯·å‚è€ƒ<code>babel</code>æ’ä»¶çš„é…ç½®æ–‡æ¡£ã€‚</p><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç›´æ¥åˆ° <a href="https://babeljs.io/repl/" target="_blank" rel="noopener">https://babeljs.io/repl/</a> è¿™ä¸ªåœ°å€ç¼–å†™ä»£ç ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåœ¨çº¿çš„<code>repl</code>ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ<code>es6</code>ä»£ç ,è®°å¾—å‹¾é€‰å·¦ä¾§çš„<code>Experimental</code>æ¥å¯ç”¨è£…é¥°å™¨è¯­æ³•ã€‚</p><p>ğŸ”‘ <code>es2015</code>,<code>es2016</code>,<code>es2017</code>å’Œ<code>es6</code>ä¹‹é—´çš„å…³ç³»ï¼š</p><blockquote><p>ES6 æ—¢æ˜¯ä¸€ä¸ªå†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆä»¥åçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† ES2015ã€ES2016ã€ES2017 ç­‰ç­‰ï¼Œè€Œ ES2015 åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡è¯¥å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ã€‚</p></blockquote><h3 id="ç±»è£…é¥°å™¨-æ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨"><a class="header-anchor" href="#ç±»è£…é¥°å™¨-æ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨">Â¶</a>ç±»è£…é¥°å™¨ï¼Œæ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨</h3><h5 id="ç±»è£…é¥°å™¨"><a class="header-anchor" href="#ç±»è£…é¥°å™¨">Â¶</a>ç±»è£…é¥°å™¨</h5><p>ç±»è£…é¥°å™¨å°±æ˜¯ç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºï¼Œå®ƒæ ‡æ³¨åœ¨ç±»å®šä¹‰çš„ä¸Šæ–¹ã€‚</p><pre><code class="language-javascript">@testableclass MyTestableClass {  // ...}function testable(target) { // target å°±æ˜¯è¢«è£…é¥°çš„ç±»  target.isTestable = true;}MyTestableClass.isTestable // true</code></pre><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç±»è£…é¥°å™¨ï¼Œå®ƒç»™è¢«è£…é¥°çš„ç±»æ·»åŠ äº†ä¸€ä¸ª<code>isTestable</code>çš„é™æ€å±æ€§ã€‚</p><p>ä¸Šé¢æ˜¯ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸‹é¢æ¥ä¸ªç¨å¾®å¤æ‚çš„ã€‚<br>æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç»™è£…é¥°å™¨ä¼ å‚æ•°ï¼Œè¦æ€ä¹ˆåšï¼Ÿç†Ÿæ‚‰é«˜é˜¶å‡½æ•°çš„åŒå­¦ä¸€å®šä¼šç«‹åˆ»æƒ³åˆ°ï¼Œå‡½æ•°å¯ä»¥è¿”å›å‡½æ•°ï¼Œåªè¦åœ¨è£…é¥°å™¨å‡½æ•°å¤–é¢å†åŠ ä¸€å±‚å‡½æ•°å°±å¯ä»¥äº†ã€‚</p><pre><code class="language-javascript">function testable(isTrue) {return function(target) {target.isTestable = isTrue}}@testable(false)class MyTestableClass {}MyTestableClass.isTestable  // false</code></pre><p>ä¸Šé¢æ˜¯ç»™ç±»æ·»åŠ é™æ€å±æ€§ï¼Œå¦‚æœæƒ³ç»™å®ä¾‹æ·»åŠ å±æ€§ï¼Œéœ€è¦æŠŠå±æ€§æ·»åŠ åœ¨<code>prototype</code>ä¸Š</p><pre><code class="language-javascript">function testable(isTrue) {return function(target) {target.prototype.isTestable = isTrue}}</code></pre><p>ğŸ”‘ ä¿®é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œä¿®é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>æ¥ä¸‹æ¥æ¥ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼Œç”¨è£…é¥°å™¨å®ç°<code>mixin</code>,<br>ğŸ”‘ mixinæ¨¡å¼å°±æ˜¯ä¸€äº›æä¾›èƒ½å¤Ÿè¢«ä¸€ä¸ªæˆ–è€…ä¸€ç»„å­ç±»ç®€å•ç»§æ‰¿åŠŸèƒ½çš„ç±»,æ„åœ¨é‡ç”¨å…¶åŠŸèƒ½ã€‚</p><pre><code class="language-javascript">function mixin(foo) {return function(target){Object.assign(target.prototype,foo) // Onject.assign æ˜¯es6é‡Œé¢çš„Objectçš„æ–°å‡½æ•°ï¼Œç”¨æ¥æŠŠç¬¬äºŒä¸ªå‚æ•°çš„å±æ€§åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¸Š å› ä¸ºè¿™é‡Œä¼ å…¥çš„æ˜¯ç±»ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ï¼‰ï¼Œæƒ³è¦åœ¨å®ä¾‹ä¸Šæ·»åŠ å±æ€§ï¼Œéœ€è¦åˆå¹¶åˆ°åŸå‹å¯¹è±¡ä¸Šã€‚}}const Foo = {sayHi(){console.log('hi')}}@mixin(Foo)class Target{}new Target().sayHi()// Hi</code></pre><p>æœ‰äº†è£…é¥°å™¨ï¼Œä¹‹å‰é‚£äº›çƒ¦äººçš„æ ·æ¿å‡½æ•°å°±å¯ä»¥ç”¨è£…é¥°å™¨ä»£æ›¿äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬ç”¨<code>redux</code>å’Œ<code>react</code>æ—¶ï¼Œéœ€è¦æŠŠ<code>ui</code>ç»„ä»¶å’Œé€»è¾‘ç»„ä»¶åˆå¹¶ï¼Œç»å¸¸éœ€è¦å†™ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="language-javascript">class MyReactComponent extends React.Component {}export default connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);</code></pre><p>æœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚</p><pre><code class="language-javascript">@connect(mapStateToProps, mapDispatchToProps)export default class MyReactComponent extends React.Component {}</code></pre><h5 id="æ–¹æ³•å’Œå±æ€§çš„è£…é¥°"><a class="header-anchor" href="#æ–¹æ³•å’Œå±æ€§çš„è£…é¥°">Â¶</a>æ–¹æ³•å’Œå±æ€§çš„è£…é¥°</h5><p>ä¸Šé¢çš„è£…é¥°å™¨å®šä¹‰å‡½æ•°æˆ‘ä»¬åªç”¨åˆ°äº†ä¸€ä¸ªå‚æ•°ï¼Œå®é™…ä¸Šï¼Œåœ¨è£…é¥°ç±»çš„å±æ€§/æ–¹æ³•æ—¶ä»–æœ‰ä¸‰ä¸ªå‡½æ•°ã€‚</p><pre><code class="language-javascript">/*** target è¢«è£…é¥°çš„ç±»çš„åŸå‹å¯¹è±¡,éœ€è¦æ³¨æ„ï¼Œè£…é¥°classå’Œclassçš„å±æ€§ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè£…é¥°classæ—¶ï¼Œæ˜¯æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ç±»æœ¬èº«* key è¦ä¿®é¥°çš„å±æ€§å* descriptor è¯¥å±æ€§çš„æè¿°å¯¹è±¡*/function decorator(target,key,descriptor){}</code></pre><p>ğŸ”‘ å…³äºæè¿°å¯¹è±¡ï¼Œä¸ç†Ÿæ‚‰çš„å¯ä»¥å»çœ‹<code>jsé«˜çº§ç¨‹åºè®¾è®¡</code>å…³äº <code>defineProperty</code> å’Œ <code>defineProperties</code>çš„ä»‹ç»ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥å®šä¹‰å’Œä¿®æ”¹å¯¹è±¡çš„å†…éƒ¨å±æ€§ã€‚<br>ä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ï¼Œåœ¨æ¯æ¬¡å‡½æ•°æ‰§è¡Œå‰åï¼ŒæŠŠå‡½æ•°çš„å‚æ•°å’Œç»“æœæ‰“å°å‡ºæ¥</p><pre><code class="language-javascript">function log(target,key,descriptor) {var old = descriptor.valuedescriptor.value = function(...args) {console.log(`call ${key} with,`,...args)const result = old.call(this,...args)console.log(`result is ${result}`)return result}return descriptor}class Util {@logadd(a,b) {return a + b}}const util = new Util()util.add(1,2)// è¿™æ—¶ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—// call add with, 1 2// result is 3</code></pre><p>æ¥ä¸€ä¸ªå¯ç¼“å­˜çš„è£…é¥°å™¨</p><pre><code class="language-javascript">function cacheable(target,key,descriptor) {const old = descriptor.valueif( typeof old !== 'function' ) {throw new Error(&quot;must be a function&quot;)}const cache = {}descriptor.value = function(...args) {const key = JSON.stringify(args)if(cache[key]) {return cache[key]} else {cache[key] = old.call(this,...args)return cache[key]}}return descriptor}class Util {@cacheableadd(a,b) {console.log(&quot;add&quot;,a,b)return a + b}}const util = new Util()util.add(1,2)util.add(1,2)util.add(1,2)// åªæœ‰ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæ‰“å°å‡º add 1 2</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°å±æ€§ä¸Šçš„è£…é¥°å™¨ï¼Œæ¯”å¦‚å®ç°ä¸€ä¸ªç±»ä¼¼<code>java</code>åŒ…è£…ç±»</p><pre><code class="language-javascript">class Integer{constructor(num){this.value = num}display() {console.log(`this is a boxing value , the value is ${this.value}`)}}function boxing(target,key,descriptor) {    let v = descriptor.initializer &amp;&amp; descriptor.initializer.call(this);    v= new Integer(v)return {        enumerable: true,            configurable: true,            get: function() {                return v;            },            set: function(c) {                v = new Integer(c);            }    }} class Number {@boxinga=2}let number = new Number()number.a.display()// this is a boxing value , the value is 2number.a = 4number.a.display()// this is a boxing value , the value is 4</code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„åŒ…è£…<code>Integer</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬æ¯æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œéƒ½å¸Œæœ›æ£€æŸ¥ä¸€ä¸‹æ•°æ®ç±»å‹ï¼Œå¯ä»¥è¿™æ ·åš</p><pre><code class="language-javascript">function check(type) {return function(target,key,descriptor) {let v = descriptor.initializer &amp;&amp; descriptor.initializer.call(this)return {        enumerable: true,            configurable: true,            get: function() {                return v;            },            set: function(c) {if(typeof c !== type) {throw new Error(&quot;error type&quot;)}v = c}        }    }}</code></pre><h3 id="ç¬¬ä¸‰æ–¹åº“"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹åº“">Â¶</a>ç¬¬ä¸‰æ–¹åº“</h3><p><code>core-decorators.js</code>æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæä¾›äº†ä¸€äº›å¸¸è§çš„è£…é¥°å™¨<br>æ¯”å¦‚ï¼š</p><pre><code class="language-javascript">// @autobindimport { autobind } from 'core-decorators';class Person {  @autobind  getPerson() {    return this;  }}let person = new Person();let getPerson = person.getPerson;getPerson() === person;// true// @readonlyimport { readonly } from 'core-decorators';class Meal {  @readonly  entree = 'steak';}var dinner = new Meal();dinner.entree = 'salmon';// Cannot assign to read only property 'entree' of [object Object]</code></pre><p>è¿˜æœ‰æ›´å¤šä¸å†é˜è¿°ã€‚</p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>ä¸Šæ–‡åªæ˜¯ç®€å•å¯¹è£…é¥°å™¨æ¨¡å¼åšäº†åŸºæœ¬åŸç†çš„è§£é‡Šå’Œç®€å•demoï¼Œå…·ä½“åœ¨å®æˆ˜ä¸­å¦‚ä½•åº”ç”¨ï¼Œè¿˜éœ€è¦å¾ˆå¤šå…¶ä»–çš„ç»éªŒï¼Œæ¯”å¦‚å¤šä¸ªè£…é¥°å™¨åµŒå¥—å¦‚ä½•ä½¿ç”¨ï¼Œå¦‚ä½•åˆ©ç”¨<code>proxy</code>å®ç°è£…é¥°å™¨ï¼Œåœ¨ä¸Šæ–‡ä¸­éƒ½æ²¡æåŠï¼Œåœ¨æ¥ä¸‹æ¥çš„åšæ–‡é‡Œï¼Œä¼šå®Œæ•´çš„å®ç°ä¸€ä¸ªå…·æœ‰å®é™…æ„ä¹‰çš„è£…é¥°å™¨ä¾‹å­ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è£…é¥°å™¨çš„ç®€å•å®ç°ï¼ˆä¸Šï¼‰</title>
      <link href="/blog/posts/72b172aa/"/>
      <url>/blog/posts/72b172aa/</url>
      
        <content type="html"><![CDATA[<blockquote><p><code>es7</code>ä¸º<code>javascript</code>æ·»åŠ äº†æ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§----è£…é¥°å™¨ï¼Œä¸è¿‡<code>Typrscript</code>æ—©å°±æ”¯æŒäº†è£…é¥°å™¨äº†ï¼Œè£…é¥°å™¨ä¹Ÿä¸æ˜¯<code>ts</code>ç‰¹æœ‰çš„è¯­æ³•ï¼Œå®é™…ä¸Š<code>python</code>ä¹Ÿæœ‰è£…é¥°å™¨ï¼Œåœ¨<code>oop</code>è¯­è¨€é‡Œé¢ï¼Œä¸€ç›´éƒ½æœ‰è£…é¥°å™¨æ¨¡å¼ï¼Œä¹Ÿç§°ä¸º<code>decorator</code>ï¼Œä¸è¿‡éƒ½æ˜¯ä»è¯­è¨€å±‚é¢ï¼Œé€šè¿‡ç»§æ‰¿å’Œç»„åˆå®ç°ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯­æ³•å±‚é¢ç›´æ¥å®ç°è£…é¥°å™¨äº†ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼">Â¶</a>ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼</h3><p>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚</p><p>è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚</p><p><code>java</code>é‡Œé¢çš„è£…é¥°å™¨æ¨¡å¼:</p><p>å‚è€ƒè¿™ä¸ªåœ°å€ï¼š<a href="https://github.com/iluwatar/java-design-patterns/tree/master/decorator" target="_blank" rel="noopener"><strong>decorator</strong></a></p><p>ğŸ”¼ä¸Šé¢çš„åœ°å€æ˜¯<code>github</code>ä¸Šä¸€ä¸ªå¾ˆæœ‰åçš„å„ç§è®¾è®¡æ¨¡å¼çš„<code>java</code>å®ç°ã€‚</p><blockquote><p>Attach additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼šåŠ¨æ€çš„å°†é™„åŠ èŒè´£æ·»åŠ åˆ°å¯¹è±¡ä¸Šã€‚è£…é¥°å™¨æ¨¡å¼ä¸ºå­ç±»åŒ–æä¾›äº†çµæ´»çš„ä»£æ›¿å’Œæ‰©å±•çš„åŠŸèƒ½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>æˆ‘ä»¬å°æ—¶å€™éƒ½æ‰“è¿‡<code>cs</code>ï¼Œæ¯ä¸ªè­¦å¯Ÿæˆ–è€…åŠ«åŒªéƒ½å¯ä»¥æ‹¿ä¸€æŠŠæ­¦å™¨ï¼Œæˆ–è€…æ˜¯<code>AK47</code>ï¼Œæˆ–è€…æ˜¯<code>m16</code>ï¼Œä¸ºäº†æ›´æ¢æ­¦å™¨ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å»åˆ›é€ æ–°çš„è§’è‰²å®ä¾‹ï¼Œå¯ä»¥ç”¨è£…é¥°å™¨åŠ¨æ€çš„ç”¨æ­¦å™¨è£…é¥°ä»–ã€‚</p><pre><code class="language-java">// åˆ›å»ºä¸€ä¸ªè§’è‰²æ¥å£public interface Person {  void attack();  int getAttackPower();}public class Police implements Person {    void attack(){        Systom.out.print(&quot;I'm attacking you&quot;);    }    int getAttackPower(){        return 5; // æˆ˜æ–—åŠ›åªæœ‰5çš„æ¸£æ¸£    }}public class AkPolice implements Person {    // æä¾›æ„é€ å‡½æ•°æ¥å¯¹ç›®æ ‡è¿›è¡ŒåŒ…è£…    public AkPolice(Police decorted) {        this.decorted = decorted;     }    void attack(){        this.decorted.attack()        Systom.out.print(&quot;I'm attacking with a Ak!!&quot;);//awesome!    }    int getAttackPower(){        return this.decorted.getAttackPower()+100;    }}</code></pre><p>ğŸ”¼å°±åƒä¸Šé¢çš„ç®€å•ä¾‹å­ï¼Œä¸€ä¸ªåŒ…è£…ç±»æŠŠåŸºæœ¬ç±»<code>warped</code>èµ·æ¥ï¼Œå½¢æˆäº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œæ–°çš„ç±»ä¸ä»…æ·»åŠ äº†æ–°çš„åŠ¨ä½œï¼Œè¿˜ä¿ç•™äº†åŸºæœ¬ç±»çš„åŠ¨ä½œã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>ğŸ‘ è£…é¥°æ¨¡å¼ä¸ç»§æ‰¿å…³ç³»çš„ç›®çš„éƒ½æ˜¯è¦æ‹“å±•å¯¹è±¡çš„åŠŸèƒ½ï¼Œä½†æ˜¯è£…é¥°æ¨¡å¼å¯ä»¥æä¾›æ¯”ç»§æ‰¿æ›´å¤šçš„çµæ´»æ€§ã€‚è£…é¥°æ¨¡å¼å…è®¸ç³»ç»ŸåŠ¨æ€å†³å®šâ€œè´´ä¸Šâ€ä¸€ä¸ªéœ€è¦çš„â€œè£…é¥°â€ï¼Œæˆ–è€…â€œé™¤æ‰â€ä¸€ä¸ªä¸éœ€è¦çš„â€œè£…é¥°â€ã€‚ç»§æ‰¿å…³ç³»åˆ™ä¸åŒï¼Œç»§æ‰¿å…³ç³»æ˜¯é™æ€çš„ï¼Œå®ƒåœ¨ç³»ç»Ÿè¿è¡Œå‰å°±å†³å®šäº†ã€‚</p><p>ğŸ‘ é€šè¿‡ä¸åŒçš„å…·ä½“è£…é¥°ç±»ä»¥åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œè®¾è®¡å¸ˆå¯ä»¥åˆ›é€ å‡ºæ›´å¤šä¸åŒè¡Œä¸ºçš„ç»„åˆã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>ğŸ‘ç§æ¯”ç»§æ‰¿æ›´åŠ çµæ´»æœºåŠ¨çš„ç‰¹æ€§ï¼Œä¹ŸåŒæ—¶æ„å‘³ç€æ›´åŠ å¤šçš„å¤æ‚æ€§ã€‚è£…é¥°æ¨¡å¼ä¼šå¯¼è‡´è®¾è®¡ä¸­å‡ºç°è®¸å¤šå°ç±»ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨ï¼Œä¼šä½¿ç¨‹åºå˜å¾—å¾ˆå¤æ‚ã€‚</p><p>è£…é¥°å™¨è¯­æ³•æœ€å¸¸è§çš„åº”ç”¨å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„<code>java</code>é‡Œé¢çš„<code>AOP</code>(é¢å‘åˆ‡é¢)ç¼–ç¨‹ï¼Œåœ¨ä¸å½±å“åŸæœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚æ·»åŠ å„ç§<code>filter</code>,è¿™äº›<code>filter</code>å°±åƒæ´‹è‘±ä¸€æ ·å±‚å±‚åŒ…è£¹ï¼Œæœ€ç»ˆæ‰§è¡ŒåŸæœ‰çš„é€»è¾‘ï¼Œä½†æ˜¯åœ¨ä¹‹å‰å’Œä¹‹åï¼Œéƒ½å¯ä»¥éšæ„æ·»åŠ æ–°çš„è¡Œä¸ºï¼Œå› æ­¤ï¼Œç‰¹åˆ«é€‚åˆå®‰å…¨æ£€æŸ¥ï¼Œç¼“å­˜ï¼Œè°ƒè¯•ï¼Œæ—¥å¿—è®°å½•ç­‰ç­‰è¡Œä¸ºã€‚</p><h3 id="è£…é¥°å™¨è¯­æ³•"><a class="header-anchor" href="#è£…é¥°å™¨è¯­æ³•">Â¶</a>è£…é¥°å™¨è¯­æ³•</h3><p>ç¬¬ä¸€æ¬¡çœ‹åˆ°è£…é¥°å™¨è¯­æ³•æ˜¯åœ¨ä½¿ç”¨<code>python</code>çš„æ—¶å€™ï¼Œç°åœ¨<code>es7</code>ä¹Ÿå®ç°äº†è£…é¥°å™¨è¯­æ³•ã€‚</p><p>é¦–æ¬¡çœ‹åˆ°è£…é¥°å™¨è¯­æ³•ï¼Œç”¨è¿‡<code>java</code>æ³¨è§£çš„ä¹Ÿè®¸ä¼šæ··åˆ°ä¸€èµ·ï¼Œå…¶å®è¿™ä¸¤ä¸ªä¸œè¥¿é™¤äº†é•¿å¾—åƒå¤–ï¼ŒåŸç†å®Œå…¨ä¸ä¸€æ ·ã€‚</p><blockquote><p>Python decorators were inspired in part by Java annotations, and have a similar syntax</p><p>â€‹                                                                                                                      --wikipedia</p></blockquote><p>æ ¹æ®<code>wikipedia</code>çš„è¯´æ³•ï¼Œè£…é¥°å™¨è¯­æ³•çš„çµæ„Ÿæ¥æºäº<code>java</code>çš„æ³¨è§£ï¼Œæ‰€ä»¥ä»–ä»¬æœ‰ç±»ä¼¼çš„è¯­æ³•ã€‚</p><p>æ³¨è§£æ˜¯åˆ©ç”¨åå°„ï¼Œå®ƒæœ¬èº«ä¸æ”¹å˜è¢«æ³¨è§£å¯¹è±¡çš„è¡Œä¸ºå’Œæ€§è´¨ï¼Œåªæœ‰ç†è§£è¿™äº›æ³¨è§£çš„å¤„ç†å™¨æ‰ä¼šæ”¹å˜è¡Œä¸ºï¼Œåœ¨è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨ã€‚</p><p>è£…é¥°å™¨å®é™…ä¸Šæ˜¯è¯­æ³•ç³–ï¼Œåˆ©äºäº†<code>python</code>,<code>javascript</code>å‡½æ•°å¯ä»¥èµ‹å€¼ï¼Œä¼ å‚çš„ç‰¹æ€§ï¼Œå‡½æ•°æ˜¯ç¬¬ä¸€å…¬æ°‘ï¼Œå‡½æ•°æ˜¯å¯¹è±¡ã€æ˜¯å˜é‡ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ã€å¯ä»¥æ˜¯è¿”å›å€¼ï¼Œå¯¹åµŒå¥—å‡½æ•°åšäº†ç®€åŒ–ã€‚</p><p>ğŸ˜‹å¼•ç”³ï¼šå¦‚æœæƒ³äº†è§£æ›´å¤šå…³äº<code>javascript</code>å‡½æ•°å¼ç‰¹æ€§çš„çŸ¥è¯†ï¼Œå¯ä»¥çœ‹ä¸‹é¢â¬‡ï¸</p><p>[<a href="https://www.bookstack.cn/books/mostly-adequate-guide-chinese" target="_blank" rel="noopener">JS å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ä¸­æ–‡ç‰ˆ</a> ](<a href="https://www.bookstack.cn/read/mostly-adequate-guide-chinese/README.md" target="_blank" rel="noopener">https://www.bookstack.cn/read/mostly-adequate-guide-chinese/README.md</a>)</p><p>ç›¸ä¿¡çœ‹å®Œï¼Œä½ ä¼šå¯¹<code>javascript</code>æœ‰æ–°çš„è®¤è¯†ã€‚</p><p>ä¸‹é¢é‡å¤´æˆæ¥äº†ï¼Œåˆ°åº•åœ¨<code>javascript</code>é‡Œï¼Œæ€ä¹ˆå®ç°è‡ªå·±çš„è£…é¥°å™¨å‘¢ï¼Ÿ</p><p>å…³é”®çš„<code>api</code>æ˜¯<code>Object.defineProperty</code>ã€‚</p><pre><code class="language-javascript">Object.defineProperty(obj, prop, descriptor)</code></pre><p>å‚æ•°ï¼š</p><p><strong>obj</strong> è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡</p><p><strong>prop</strong> è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</p><p><strong>descriptor</strong> å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚</p><p>è£…é¥°å™¨å¯ä»¥ç”¨åˆ°<code>ç±»</code>ï¼Œå±æ€§å’Œç±»çš„<code>æ–¹æ³•</code>ä¸Šï¼Œä¸èƒ½ç”¨äº<code>function</code>â”<a href="http://es6.ruanyifeng.com/#docs/decorator#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BF%AE%E9%A5%B0%E5%99%A8%E4%B8%8D%E8%83%BD%E7%94%A8%E4%BA%8E%E5%87%BD%E6%95%B0%EF%BC%9F" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ</a></p><p>ğŸ‘æƒ³è¯¦ç»†äº†è§£è£…é¥°å™¨è¯­æ³•ï¼Œå¯ä»¥å»çœ‹é˜®ä¸€å³°è€å¸ˆçš„<code>es6</code>æ•™ç¨‹</p><p><a href="http://es6.ruanyifeng.com/#docs/decorator" target="_blank" rel="noopener">ä¿®é¥°å™¨</a></p><p>ä¸‹ç¯‡åšæ–‡ï¼Œæˆ‘ä¼šç”¨å®ä¾‹ä»£ç å®ç°ä¸åŒçš„è£…é¥°å™¨ï¼ˆç­‰æˆ‘çœ‹å®Œä¸Šé¢çš„æ•™ç¨‹å…ˆğŸ˜„)ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Performance--ä¸€ä¸ªç”¨æ¥è·å–é¡µé¢æ€§èƒ½çš„æ¥å£</title>
      <link href="/blog/posts/94e1353c/"/>
      <url>/blog/posts/94e1353c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åˆ¤æ–­é¡µé¢åŠ è½½æ—¶é—´ï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯æ‰“å¼€<code>devtool</code>çœ‹ä¸‹<code>Network</code>ä¸‹é¢</p><p><code>DOMContentLoaded</code>å’Œ<code>load</code>åˆ†åˆ«ç”¨äº†å¤šä¹…ï¼Œå¦‚æœè‡ªå·±å†™çš„è¯ï¼Œè¦ç”¨åˆ°<code>window.onload</code>å‡½æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œwebå·²ç»ç»™å‡ºäº†<code>api</code>ï¼Œè·å–é¡µé¢æ€§èƒ½ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†ç°ä»£æµè§ˆå™¨ä¹Ÿæ”¯æŒè¿™ä¸ª<code>api</code>.</p></blockquote><h3 id="performanceç®€ä»‹"><a class="header-anchor" href="#performanceç®€ä»‹">Â¶</a><strong>Performance</strong>ç®€ä»‹</h3><p>æ ¹æ®<code>mdn</code>é‡Œé¢çš„è¯´æ³•:</p><blockquote><p><strong>Performance</strong> æ¥å£å¯ä»¥è·å–åˆ°å½“å‰é¡µé¢ä¸­ä¸æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚å®ƒæ˜¯ High Resolution Time API çš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿèåˆäº† Performance Timeline APIã€<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API" target="_blank" rel="noopener">Navigation Timing API</a>ã€ <a href="https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API" target="_blank" rel="noopener">User Timing API</a> å’Œ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API" target="_blank" rel="noopener">Resource Timing API</a>ã€‚</p></blockquote><p>å¹¶ä¸”ï¼Œè¿™äº›æ•°æ®æ˜¯åªè¯»çš„ã€‚</p><p><code>preformance</code>å¯¹è±¡æœ‰ä¸‰ä¸ªæ ‡å‡†å±æ€§ï¼Œå’Œä¸€ä¸ª<code>chrome</code>æ·»åŠ çš„éæ ‡å‡†åº“â€“<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/memory" target="_blank" rel="noopener"><code>performance.memory</code></a>ï¼Œç”¨æ¥è·å–åˆ°åŸºæœ¬å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œä¸€èˆ¬æ¥è¯´ä¸è¦ç”¨è¿™ä¸ªéæ ‡å‡†çš„<code>api</code>ã€‚</p><p>ğŸ‘<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/navigation" target="_blank" rel="noopener"><code>Performance.navigation</code></a> [åªè¯»]</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigation" target="_blank" rel="noopener"><code>PerformanceNavigation</code></a> å¯¹è±¡æä¾›äº†åœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œå‘ç”Ÿçš„æ“ä½œç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬é¡µé¢æ˜¯åŠ è½½è¿˜æ˜¯åˆ·æ–°ã€å‘ç”Ÿäº†å¤šå°‘æ¬¡é‡å®šå‘ç­‰ç­‰ã€‚Not available in workers.</p><p>ğŸ‘<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/timing" target="_blank" rel="noopener"><code>Performance.timing</code></a> [åªè¯»]</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming" target="_blank" rel="noopener"><code>PerformanceTiming</code></a> å¯¹è±¡åŒ…å«å»¶è¿Ÿç›¸å…³çš„æ€§èƒ½ä¿¡æ¯ã€‚Not available in workers.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/memory" target="_blank" rel="noopener"><code>performance.memory</code></a></p><p>å…¶æ˜¯ Chrome æ·»åŠ çš„ä¸€ä¸ªéæ ‡å‡†æ‰©å±•ï¼Œè¿™ä¸ªå±æ€§æä¾›äº†ä¸€ä¸ªå¯ä»¥è·å–åˆ°åŸºæœ¬å†…å­˜ä½¿ç”¨æƒ…å†µçš„å¯¹è±¡ã€‚<strong>ä¸åº”è¯¥</strong>ä½¿ç”¨è¿™ä¸ªéæ ‡å‡†çš„ APIã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/timeOrigin" target="_blank" rel="noopener"><code>Performance.timeOrigin</code></a> [åªè¯»]</p><p>è¿”å›æ€§èƒ½æµ‹é‡å¼€å§‹æ—¶çš„æ—¶é—´çš„é«˜ç²¾åº¦æ—¶é—´æˆ³ã€‚</p><p>å…³äºæ›´ç²¾ç¡®çš„èµ„æ–™è¯·æŸ¥çœ‹<code>mdn</code>å®˜æ–¹æ–‡æ¡£ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noopener">Performance</a></p><h3 id="å¦‚ä½•æ ¹æ®performance-timingè·å–åŠ è½½æ—¶é—´"><a class="header-anchor" href="#å¦‚ä½•æ ¹æ®performance-timingè·å–åŠ è½½æ—¶é—´">Â¶</a>å¦‚ä½•æ ¹æ®<code>Performance.timing</code>è·å–åŠ è½½æ—¶é—´</h3><p>åœ¨æ­¤ä¹‹å‰ï¼Œè¯»è€…éœ€è¦æ˜ç™½ä¸€ç‚¹æµè§ˆå™¨å·¥ä½œçš„åŸºæœ¬æµç¨‹å’ŒåŸç†ï¼Œæ¯”å¦‚ç»å¸¸åœ¨é¢è¯•æ—¶è¢«é—®åˆ°çš„â€œä»urlè¾“å…¥åˆ°é¡µé¢åŠ è½½ç»è¿‡äº†ä»€ä¹ˆæµç¨‹ï¼Ÿâ€</p><p>è¿™é‡Œæœ‰å‡ ç¯‡éå¸¸è¯¦ç»†çš„æ–‡ç« ï¼ˆæœ€èµ·ç æ˜¯æˆ‘é‡åˆ°çš„æœ€è¯¦ç»†çš„ï¼Œå¦‚æœä½ çœ‹åˆ°è¿‡æ›´è¯¦ç»†çš„ï¼Œæˆ–è€…è¿˜æœ‰å…¶ä»–è¡¥å……ï¼Œè¯·åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œä¸‡åˆ†æ„Ÿè°¢ğŸ˜™ ï¼‰ï¼Œä»‹ç»äº†è¿™ä¸ªæµç¨‹ã€‚</p><p><a href="https://segmentfault.com/a/1190000006879700" target="_blank" rel="noopener">ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å‘ç”Ÿäº†ä»€ä¹ˆ</a><br><a href="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/" target="_blank" rel="noopener">æµè§ˆå™¨çš„å·¥ä½œåŸç†ï¼šæ–°å¼ç½‘ç»œæµè§ˆå™¨å¹•åæ­ç§˜</a></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æœ€èµ·ç è¦çŸ¥é“<code>dns</code>è§£æï¼Œ<code>http</code>è¯·æ±‚ï¼Œé¡µé¢æ¸²æŸ“ç­‰è®¤è¯†ã€‚</p><p><code>timing</code>å°±æ˜¯ä»è¾“å…¥<code>url</code>åˆ°é¡µé¢å±•ç¤ºçš„å…¨è¿‡ç¨‹çš„æ—¶é—´ç»Ÿè®¡ï¼Œå•ä½æ˜¯æ¯«ç§’ï¼Œåªè¯»ã€‚</p><p>â• å±æ€§ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/navigationStart" target="_blank" rel="noopener"><code>PerformanceTiming.navigationStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†ä»åŒä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸‹æ–‡çš„ä¸Šä¸€ä¸ªæ–‡æ¡£å¸è½½(unload)ç»“æŸæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œè¿™ä¸ªå€¼ä¼šå’ŒPerformanceTiming.fetchStartç›¸åŒã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/unloadEventStart" target="_blank" rel="noopener"><code>PerformanceTiming.unloadEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†<code>unload</code>äº‹ä»¶æŠ›å‡ºæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œor if the previous document, or one of the needed redirects, is not of the same origin, è¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/unloadEventEnd" target="_blank" rel="noopener"><code>PerformanceTiming.unloadEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†<code>unload</code>äº‹ä»¶å¤„ç†å®Œæˆæ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œor if the previous document, or one of the needed redirects, is not of the same origin, è¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/redirectStart" target="_blank" rel="noopener"><code>PerformanceTiming.redirectStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†ç¬¬ä¸€ä¸ªHTTPé‡å®šå‘å¼€å§‹æ—¶çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/redirectEnd" target="_blank" rel="noopener"><code>PerformanceTiming.redirectEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†æœ€åä¸€ä¸ªHTTPé‡å®šå‘å®Œæˆæ—¶ï¼ˆä¹Ÿå°±æ˜¯è¯´æ˜¯HTTPå“åº”çš„æœ€åä¸€ä¸ªæ¯”ç‰¹ç›´æ¥è¢«æ”¶åˆ°çš„æ—¶é—´ï¼‰çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å›0.</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/fetchStart" target="_blank" rel="noopener"><code>PerformanceTiming.fetchStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†æµè§ˆå™¨å‡†å¤‡å¥½ä½¿ç”¨HTTPè¯·æ±‚æ¥è·å–(fetch)æ–‡æ¡£çš„UNIXæ—¶é—´æˆ³ã€‚è¿™ä¸ªæ—¶é—´ç‚¹ä¼šåœ¨æ£€æŸ¥ä»»ä½•åº”ç”¨ç¼“å­˜ä¹‹å‰ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domainLookupStart" target="_blank" rel="noopener"><code>PerformanceTiming.domainLookupStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†åŸŸåæŸ¥è¯¢å¼€å§‹çš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥(persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ <code>PerformanceTiming.fetchStartä¸€è‡´ã€‚</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domainLookupEnd" target="_blank" rel="noopener"><code>PerformanceTiming.domainLookupEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¡¨å¾äº†åŸŸåæŸ¥è¯¢ç»“æŸçš„UNIXæ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥(persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ <code>PerformanceTiming.fetchStartä¸€è‡´ã€‚</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/connectStart" target="_blank" rel="noopener"><code>PerformanceTiming.connectStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›HTTPè¯·æ±‚å¼€å§‹å‘æœåŠ¡å™¨å‘é€æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœä½¿ç”¨æŒä¹…è¿æ¥ï¼ˆpersistent connectionï¼‰ï¼Œåˆ™è¿”å›å€¼ç­‰åŒäºfetchStartå±æ€§çš„å€¼ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/connectEnd" target="_blank" rel="noopener"><code>PerformanceTiming.connectEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥å»ºç«‹æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœå»ºç«‹çš„æ˜¯æŒä¹…è¿æ¥ï¼Œåˆ™è¿”å›å€¼ç­‰åŒäºfetchStartå±æ€§çš„å€¼ã€‚è¿æ¥å»ºç«‹æŒ‡çš„æ˜¯æ‰€æœ‰æ¡æ‰‹å’Œè®¤è¯è¿‡ç¨‹å…¨éƒ¨ç»“æŸã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/secureConnectionStart" target="_blank" rel="noopener"><code>PerformanceTiming.secureConnectionStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨å¼€å§‹å®‰å…¨é“¾æ¥çš„æ¡æ‰‹æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœå½“å‰ç½‘é¡µä¸è¦æ±‚å®‰å…¨è¿æ¥ï¼Œåˆ™è¿”å›0ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/requestStart" target="_blank" rel="noopener"><code>PerformanceTiming.requestStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºHTTPè¯·æ±‚æ—¶ï¼ˆæˆ–å¼€å§‹è¯»å–æœ¬åœ°ç¼“å­˜æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/responseStart" target="_blank" rel="noopener"><code>PerformanceTiming.responseStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼‰ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœä¼ è¾“å±‚åœ¨å¼€å§‹è¯·æ±‚ä¹‹åå¤±è´¥å¹¶ä¸”è¿æ¥è¢«é‡å¼€ï¼Œè¯¥å±æ€§å°†ä¼šè¢«æ•°åˆ¶æˆæ–°çš„è¯·æ±‚çš„ç›¸å¯¹åº”çš„å‘èµ·æ—¶é—´ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/responseEnd" target="_blank" rel="noopener"><code>PerformanceTiming.responseEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼Œæˆ–ä»æœ¬åœ°èµ„æºè¯»å–ï¼‰æœ€åä¸€ä¸ªå­—èŠ‚æ—¶ï¼ˆå¦‚æœåœ¨æ­¤ä¹‹å‰HTTPè¿æ¥å·²ç»å…³é—­ï¼Œåˆ™è¿”å›å…³é—­æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domLoading" target="_blank" rel="noopener"><code>PerformanceTiming.domLoading</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰ç½‘é¡µDOMç»“æ„å¼€å§‹è§£ææ—¶ï¼ˆå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState" target="_blank" rel="noopener"><code>Document.readyState</code></a>å±æ€§å˜ä¸ºâ€œloadingâ€ã€ç›¸åº”çš„ <code>readystatechange</code>äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domInteractive" target="_blank" rel="noopener"><code>PerformanceTiming.domInteractive</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰ç½‘é¡µDOMç»“æ„ç»“æŸè§£æã€å¼€å§‹åŠ è½½å†…åµŒèµ„æºæ—¶ï¼ˆå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState" target="_blank" rel="noopener"><code>Document.readyState</code></a>å±æ€§å˜ä¸ºâ€œinteractiveâ€ã€ç›¸åº”çš„<code>readystatechange</code>äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domContentLoadedEventStart" target="_blank" rel="noopener"><code>PerformanceTiming.domContentLoadedEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“è§£æå™¨å‘é€<code>DOMContentLoaded</code> äº‹ä»¶ï¼Œå³æ‰€æœ‰éœ€è¦è¢«æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«è§£ææ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domContentLoadedEventEnd" target="_blank" rel="noopener"><code>PerformanceTiming.domContentLoadedEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“æ‰€æœ‰éœ€è¦ç«‹å³æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«æ‰§è¡Œï¼ˆä¸è®ºæ‰§è¡Œé¡ºåºï¼‰æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/domComplete" target="_blank" rel="noopener"><code>PerformanceTiming.domComplete</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“å‰æ–‡æ¡£è§£æå®Œæˆï¼Œå³<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState" target="_blank" rel="noopener"><code>Document.readyState</code></a> å˜ä¸º <code>'complete'ä¸”ç›¸å¯¹åº”çš„``readystatechange</code> è¢«è§¦å‘æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/loadEventStart" target="_blank" rel="noopener"><code>PerformanceTiming.loadEventStart</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›è¯¥æ–‡æ¡£ä¸‹ï¼Œ<code>load</code>äº‹ä»¶è¢«å‘é€æ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯0ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming/loadEventEnd" target="_blank" rel="noopener"><code>PerformanceTiming.loadEventEnd</code></a> åªè¯»</p><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·long long å‹çš„æ¯«ç§’æ•°ï¼Œè¿”å›å½“<code>load</code>äº‹ä»¶ç»“æŸï¼Œå³åŠ è½½äº‹ä»¶å®Œæˆæ—¶çš„Unixæ¯«ç§’æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œæˆ–è€…å°šæœªå®Œæˆï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯0.</p><p>ğŸ”¼ ä»¥ä¸Šå±æ€§æ¥è‡ª<code>mdn</code>æ–‡æ¡£ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„å®šä¹‰ï¼Œå¯ä»¥å¾—å‡ºä¸‹é¢çš„å¸¸ç”¨çš„æ—¶é—´è®¡ç®—å…¬å¼ï¼š</p><p><strong>å¸¸ç”¨è®¡ç®—ï¼š</strong><br><code>DNS</code>æŸ¥è¯¢è€—æ—¶ ï¼š<code>domainLookupEnd</code> - <code>domainLookupStart</code><br><code>TCP</code>é“¾æ¥è€—æ—¶ ï¼š<code>connectEnd</code> -<code>connectStart</code><br><code>request</code>è¯·æ±‚è€—æ—¶ ï¼š<code>responseEnd</code> - <code>responseStart</code><br>è§£æ<code>dom</code>æ ‘è€—æ—¶ ï¼š <code>domComplete</code> - <code>domInteractive</code><br>ç™½å±æ—¶é—´ ï¼š<code>responseStart</code> -<code>navigationStart</code><br><code>domready</code>æ—¶é—´(ç”¨æˆ·å¯æ“ä½œæ—¶é—´èŠ‚ç‚¹) ï¼š<code>domContentLoadedEventEnd</code> -<code>navigationStart</code><br><code>onload</code>æ—¶é—´(æ€»ä¸‹è½½æ—¶é—´) ï¼š<code>loadEventEnd</code> - <code>navigationStart</code></p><h4 id="å‚è€ƒ"><a class="header-anchor" href="#å‚è€ƒ">Â¶</a>å‚è€ƒ</h4><p>[<a href="https://www.cnblogs.com/bldxh/p/6857324.html" target="_blank" rel="noopener">Performance â€” å‰ç«¯æ€§èƒ½ç›‘æ§åˆ©å™¨</a>](<a href="https://www.cnblogs.com/bldxh/p/6857324.html" target="_blank" rel="noopener">https://www.cnblogs.com/bldxh/p/6857324.html</a>)</p><p><a href="https://w3c.github.io/navigation-timing/#introduction" target="_blank" rel="noopener">w3cæ–‡æ¡£(<a href="https://w3c.github.io/navigation-timing/#introduction" target="_blank" rel="noopener">https://w3c.github.io/navigation-timing/#introduction</a>)</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming" target="_blank" rel="noopener">mdnæ–‡æ¡£(<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming</a>)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ æ³•æ¨¡æ‹Ÿå™¨</title>
      <link href="/blog/posts/909f226/"/>
      <url>/blog/posts/909f226/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸ç”¨ â€œ+â€ æ€ä¹ˆå®ç°åŠ æ³•å‘¢ï¼Ÿç›¸ä¿¡å¤§å®¶çœ‹åˆ°ç¬¬ä¸€æ—¶é—´å°±ä¼šæƒ³åˆ°ç”¨ä½è¿ç®—ï¼Œç‰¹åˆ«æ˜¯è®¡ç®—æœºåŸºç¡€å¥½çš„åŒå­¦ï¼Œç«‹é©¬æƒ³åˆ°è®¡ç®—æœºæœ¬è´¨ä¸å°±æ˜¯2è¿›åˆ¶åšä½è¿ç®—å®ç°è®¡ç®—çš„å—ï¼Ÿ</p></blockquote><h3 id="å…ˆå¤ä¹ ä¸‹ä½è¿ç®—"><a class="header-anchor" href="#å…ˆå¤ä¹ ä¸‹ä½è¿ç®—">Â¶</a>å…ˆå¤ä¹ ä¸‹ä½è¿ç®—</h3><p>ä¸è¿ç®—<code>&amp;</code><br><code>2&amp;3</code><br>2çš„2è¿›åˆ¶æ˜¯<code>10</code><br>3çš„2è¿›åˆ¶æ˜¯<code>11</code><br>æ‰€ä»¥å°±æ˜¯<code>10</code>å’Œ<code>11</code>åšä¸è¿ç®—,åªæœ‰åŒæ–¹éƒ½æ˜¯<code>true</code>çš„æ—¶å€™ï¼Œç»“æœæ‰ä¸º<code>true</code>ã€‚</p><p>æ³¨æ„ï¼šå¦‚æœæ˜¯è´Ÿæ•°ï¼Œéœ€è¦è®¡ç®—è¡¥ç æ¥åšä½è¿ç®—ï¼Œæ­£æ•°çš„è¡¥ç å’Œæœ¬èº«ç›¸ç­‰ã€‚æ¯”å¦‚<code>-1</code></p><p>æºç  1000 0001</p><p>åç  1111 1110</p><p>è¡¥ç  1111 1111</p><table><thead><tr><th>ä¸è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>true</td><td>false</td></tr><tr><td>false</td><td>false</td><td>false</td></tr></tbody></table><table><thead><tr><th>æˆ–è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>true</td><td>true</td></tr><tr><td>false</td><td>true</td><td>false</td></tr></tbody></table><table><thead><tr><th>å¼‚æˆ–è¿ç®—</th><th>true</th><th>false</th></tr></thead><tbody><tr><td>true</td><td>false</td><td>true</td></tr><tr><td>false</td><td>true</td><td>false</td></tr></tbody></table><h3 id="å¼‚æˆ–å’Œä¸è¿ç®—"><a class="header-anchor" href="#å¼‚æˆ–å’Œä¸è¿ç®—">Â¶</a>å¼‚æˆ–å’Œä¸è¿ç®—</h3><p>å¼‚æˆ–</p><pre><code class="language-python">a = 10   # 1010b = 5    # 0101a^b = 15 # 1111c = 10    #1010d = 6     #0110c^b = 12  #1100</code></pre><p>ä¸</p><pre><code class="language-python">a = 10  # 1010b = 5   # 0101a&amp;b = 0 # 0000c = 10   #1010d = 6    #0110c&amp;b = 2  #0010</code></pre><p>çœ‹å‡ºç‚¹çœ‰ç›®æ²¡æœ‰ï¼Ÿ<br>å¼‚æˆ–ï¼Œå¾—åˆ°çš„æ˜¯ä¸¤ä¸ªæ•°æ²¡è¿›ä½çš„å’Œï¼›è€Œä¸ã€‚å¾—åˆ°çš„æ˜¯éœ€è¦è¿›ä½çš„ä½ç½®ï¼ˆè¿™é‡Œçš„ä½ç½®å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”ï¼Œéœ€è¦å‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œï¼‰</p><p>ç®—æ³•</p><pre><code class="language-python">def add(a,b):    res = 0    while b != 0:        res = a^b        b = (a&amp;b)&lt;&lt;1        a = res        print(bin(a)[2:],bin(b)[2:])    return a  # è®¡ç®— 10 åŠ  6    add(10,6)#output 1100     100 1000    1000    0   1000010000       0# ç»“æœ16</code></pre><p>åŸç†<br>aï¼Œbå…ˆç”¨å¼‚æˆ–è·å–ä¸è¿›ä½çš„ç»“æœï¼Œåœ¨ç”¨ä¸è¿ç®—è·å–è¿›ä½ï¼Œè¿™ä¸ªç§°ä¸ºè¿›ä½è¡¥å¿ï¼Œç„¶åæŠŠè¿™ä¸¤ä¸ªç»“æœç›¸åŠ å°±æ˜¯a+bäº†ï¼Œ<br>ä½†æ˜¯ä¸ç„¶ç”¨åŠ æ³•å•Šï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ å¯ä»¥æŠŠå‰é¢çš„æµç¨‹å†èµ°ä¸€æ¬¡ï¼Œç›´åˆ°è¿›ä½è¡¥å¿ä¸º0ï¼Œè¿™æ—¶å€™ï¼Œä¸Šä¸ªå¼‚æˆ–ç»“æœå°±æ˜¯æœ€ç»ˆç›¸åŠ çš„ç»“æœäº†ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„åŸç†<br>1.a + b çš„é—®é¢˜æ‹†åˆ†ä¸º (a å’Œ b çš„æ— è¿›ä½ç»“æœ) + (a å’Œ b çš„è¿›ä½ç»“æœ)<br>2.æ— è¿›ä½åŠ æ³•ä½¿ç”¨å¼‚æˆ–è¿ç®—è®¡ç®—å¾—å‡º<br>3.è¿›ä½ç»“æœä½¿ç”¨ä¸è¿ç®—å’Œç§»ä½è¿ç®—è®¡ç®—å¾—å‡º<br>4.å¾ªç¯æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°è¿›ä½ä¸º 0</p><p>ç”¨ä¸€ä¸ªå…¬å¼å°±æ˜¯</p><pre><code class="language-python">a + b = a^b + (a&amp;b)&lt;&lt;1</code></pre><p>ä¸è¿‡å…¶å®è¿˜æœ‰æ›´ç®€å•çš„æ–¹æ³•,æ¯•ç«Ÿ<br><strong>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘é€‰python</strong></p><pre><code class="language-python">def add(self, a, b):    return sum([a, b])</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>setTimeoutå’ŒsetIntervalçš„åŒºåˆ«</title>
      <link href="/blog/posts/64e435bc/"/>
      <url>/blog/posts/64e435bc/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æˆ‘ä»¬å†å‰ç«¯å¼€å‘ä¸­éœ€è¦å®ç°å®šæ—¶ä»»åŠ¡æˆ–è€…<code>js</code>åŠ¨ç”»ï¼Œéƒ½è¦ç”¨åˆ°<code>setTimeout</code>å’Œ<code>setInterval</code>zè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¯¹äºä»–ä»¬çš„åŸç†ï¼Œå¦‚æœä¸æ¸…æ¥šï¼Œå¾€å¾€ä¼šé€ æˆä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚</p></blockquote><h3 id="settimeout"><a class="header-anchor" href="#settimeout">Â¶</a><code>setTimeout</code></h3><p><code>setTimeout</code>æ–¹æ³•è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¯¥å®šæ—¶å™¨åœ¨å®šæ—¶å™¨åˆ°æœŸåæ‰§è¡Œä¸€ä¸ªå‡½æ•°æˆ–æŒ‡å®šçš„ä¸€æ®µä»£ç ã€‚</p><p>è¯­æ³•</p><pre><code class="language-javascript">var id = setTimeout(function[,delay,param1...])var id = setTimeout(function[,delay])var id = setTimeout(code[,delay])</code></pre><h4 id="å‚æ•°"><a class="header-anchor" href="#å‚æ•°">Â¶</a>å‚æ•°</h4><p><code>function</code></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a> æ˜¯ä½ æƒ³è¦åœ¨åˆ°æœŸæ—¶é—´(<code>delay</code>æ¯«ç§’)ä¹‹åæ‰§è¡Œçš„<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener">å‡½æ•°</a>ã€‚</p><p><code>code</code></p><p>è¿™æ˜¯ä¸€ä¸ªå¯é€‰è¯­æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è€Œä¸æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a> ï¼Œåœ¨<code>delay</code>æ¯«ç§’ä¹‹åç¼–è¯‘å’Œæ‰§è¡Œå­—ç¬¦ä¸² (ä½¿ç”¨è¯¥è¯­æ³•æ˜¯<strong>ä¸æ¨èçš„,</strong> åŸå› å’Œä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval" target="_blank" rel="noopener"><code>eval()</code></a>ä¸€æ ·ï¼Œæœ‰å®‰å…¨é£é™©)ã€‚</p><p><code>delay</code>å¯é€‰</p><p>å»¶è¿Ÿçš„æ¯«ç§’æ•° (ä¸€ç§’ç­‰äº1000æ¯«ç§’)ï¼Œå‡½æ•°çš„è°ƒç”¨ä¼šåœ¨è¯¥å»¶è¿Ÿä¹‹åå‘ç”Ÿã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œdelayå–é»˜è®¤å€¼0ï¼Œæ„å‘³ç€â€œé©¬ä¸Šâ€æ‰§è¡Œï¼Œæˆ–è€…å°½å¿«æ‰§è¡Œã€‚ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œå®é™…çš„å»¶è¿Ÿæ—¶é—´å¯èƒ½ä¼šæ¯”æœŸå¾…çš„(delayæ¯«ç§’æ•°) å€¼é•¿ï¼ŒåŸå› è¯·æŸ¥çœ‹<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setTimeout#Reasons_for_delays_longer_than_specified" target="_blank" rel="noopener">Reasons for delays longer than specified</a>ã€‚</p><p><code>param1, ..., paramN</code> å¯é€‰</p><p>é™„åŠ å‚æ•°ï¼Œä¸€æ—¦å®šæ—¶å™¨åˆ°æœŸï¼Œå®ƒä»¬ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/function" target="_blank" rel="noopener"><code>function</code></a></p><h4 id="è¿”å›å€¼"><a class="header-anchor" href="#è¿”å›å€¼">Â¶</a>è¿”å›å€¼</h4><p>è¿”å›å€¼<code>timeoutID</code>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå®šæ—¶å™¨çš„ç¼–å·ã€‚è¿™ä¸ªå€¼å¯ä»¥ä¼ é€’ç»™<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout" target="_blank" rel="noopener"><code>clearTimeout()</code></a>æ¥å–æ¶ˆè¯¥å®šæ—¶å™¨ã€‚</p><h4 id="ç”¨é€”"><a class="header-anchor" href="#ç”¨é€”">Â¶</a>ç”¨é€”</h4><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸‰ç§’åè·³è½¬æ–°é¡µé¢</p><pre><code class="language-javascript">setTimeout(function() {    location.href = &quot;url&quot;},3000)</code></pre><p>åœ¨å‡½æ•°æ‰§è¡Œå‰å–æ¶ˆ</p><pre><code class="language-javascript">var key;function myFunction() {    key = setTimeout(function(){ console.log(&quot;fn&quot;) }, 3000);}function myStopFunction() {    clearTimeout(key);}</code></pre><p>å¦‚æœä½ åªæ˜¯æŒæ¡äº†ä¸Šé¢çš„ç”¨æ³•ï¼Œä¸äº†è§£å®ƒçš„åŸç†ï¼Œå°±ä¼šçŠ¯ä¸€äº›é”™è¯¯</p><p>æ¯”å¦‚ä¸€ä¸ªå¸¸è§çš„é¢è¯•é¢˜</p><pre><code class="language-javas">for (var i = 1;i &lt;= 5;i ++) {  setTimeout(function timer() {      console.log(i)  },i * 1000)}</code></pre><p>é—®æ‰“å°å‡ºæ¥çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¦‚æœå¯¹é—­åŒ…å’Œä½œç”¨åŸŸä¸äº†è§£çš„åŒå­¦ä¼šä»¥ä¸ºæ˜¯æ¯éš”ä¸€ç§’å°±è¾“å‡º1,2,3,4,5ã€‚ä½†å®é™…ä¸Šæ˜¯æ¯éš”ä¸€ç§’è¾“å‡ºäº†6ã€‚</p><p>åŸå› å°±æ˜¯ä½œç”¨åŸŸï¼Œåœ¨<code>javascript</code>é‡Œé¢æ²¡æœ‰å—ä½œç”¨åŸŸï¼Œå› æ­¤ï¼Œå½“<code>setTimeout</code>é‡Œé¢çš„å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„iéƒ½æ˜¯<code>for</code>å¾ªç¯é‡Œé¢çš„<code>i</code>ï¼Œæ­¤æ—¶ï¼Œ<code>i</code>æ˜¯6ã€‚</p><p>å¦å¤–ï¼Œè¯´åˆ°<code>setTimeout</code>å°±ä¸€å®šè¦è¯´ä¸€ä¸‹äº‹ä»¶å¾ªç¯ï¼Œè¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒå¤æ‚ï¼Œä¸‹é¢ç®€å•è¯´ä¸€ä¸‹ï¼Œ</p><p><code>setTimeout</code>è¿è¡Œåï¼Œä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°åœ¨ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®çš„æ—¶é—´ä¹‹åï¼Œå°†å…¶æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—é‡Œé¢ï¼Œç„¶åç­‰åˆ°ä¸»çº¿ç¨‹å‡½æ•°æ ˆä¸ºç©ºï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p><p>è¿™é‡Œæœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œ</p><blockquote><p>HTML5 æ ‡å‡†è§„å®šäº†<code>setTimeout()</code>çš„ç¬¬äºŒä¸ªå‚æ•°çš„æœ€å°å€¼ï¼Œå³æœ€çŸ­é—´éš”ï¼Œä¸å¾—ä½äº4æ¯«ç§’ã€‚å¦‚æœä½äºè¿™ä¸ªå€¼ï¼Œå°±ä¼šè‡ªåŠ¨å¢åŠ ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè€ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½å°†æœ€çŸ­é—´éš”è®¾ä¸º10æ¯«ç§’ã€‚</p></blockquote><p>è¿™æ„å‘³ç€ï¼Œå³ä½¿ä½ æŠŠç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸º0ï¼Œä¹Ÿè¦æœ€å°‘ç­‰ä¸ª4msæ‰èƒ½è¿›å…¥å¼‚æ­¥é˜Ÿåˆ—ã€‚å¦å¤–ï¼Œå°±ç®—è¿›å…¥å¼‚æ­¥é˜Ÿåˆ—,ä¹Ÿè¦ç­‰é˜Ÿåˆ—é‡Œé¢å…¶ä»–æœªæ‰§è¡Œçš„å‡½æ•°æ‰§è¡Œå®Œï¼Œå› æ­¤ï¼Œå¯ä¸è¦ä»¥ä¸ºåªè¦è®¾ç½®ä¸€ä¸ªæ—¶é—´ï¼Œå°±ä¸€å®šå¯ä»¥å‡†æ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p><p>é‚£ä¹ˆï¼Œæ€ä¹ˆè®©ä¸Šé¢çš„ä»£ç æ‰“å°å‡º0,1,2,3,4,5å‘¢ï¼Ÿ</p><p>å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p><p>1.<code>es6</code>çš„<code>let</code>å…³é”®è¯</p><p><code>let</code>æ˜¯<code>es6</code>çš„å—ä½œç”¨åŸŸçš„å£°æ˜å…³é”®è¯ã€‚</p><pre><code class="language-javascript">for(let i = 0;i&lt;5;i++) {  setTimeout(function timer(){    console.log(i);  }, i * 1000);}</code></pre><p>2.åˆ©ç”¨é—­åŒ…</p><pre><code class="language-javascript">for(var i = 0;i&lt;5;i ++) {  (function(i){    setTimeout(function timer() {      console.log(i)    }, i * 1000);  })(i);}</code></pre><p>3.åˆ©ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°</p><pre><code class="language-javascript">for (var i=1; i&lt;=5; i++) {  setTimeout( function timer(i) {    console.log(i);       }, i*1000,i );}</code></pre><p>tips:</p><p><code>setTimeout</code>ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°é‡Œé¢çš„<code>this</code>æ˜¯<code>window</code>ã€‚</p><p>###ã€€setInterval</p><p><strong>setInterval()</strong> æ–¹æ³•é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–æ‰§è¡Œä¸€ä¸ªä»£ç æ®µï¼Œåœ¨æ¯æ¬¡è°ƒç”¨ä¹‹é—´å…·æœ‰å›ºå®šçš„æ—¶é—´å»¶è¿Ÿã€‚</p><p>è¯­æ³•</p><pre><code class="language-javascript">let intervalID = window.setInterval(func, delay[, param1, param2, ...]);let intervalID = window.setInterval(code, delay);</code></pre><p>å‚æ•°</p><ul><li><code>intervalID</code> æ˜¯æ­¤é‡å¤æ“ä½œçš„å”¯ä¸€è¾¨è¯†ç¬¦ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ ç»™<code>clearInterval``()</code>ã€‚</li><li><code>func</code> æ˜¯ä½ æƒ³è¦é‡å¤è°ƒç”¨çš„å‡½æ•°ã€‚</li><li><code>code</code> æ˜¯å¦ä¸€ç§è¯­æ³•çš„åº”ç”¨ï¼Œæ˜¯æŒ‡ä½ æƒ³è¦é‡å¤æ‰§è¡Œçš„ä¸€æ®µå­—ç¬¦ä¸²æ„æˆçš„ä»£ç (ä½¿ç”¨è¯¥è¯­æ³•æ˜¯<strong>ä¸æ¨è</strong>çš„ï¼Œä¸æ¨èçš„åŸå› å’Œ<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/eval#Don't_use_eval!" target="_blank" rel="noopener">eval()</a>ä¸€æ ·)ã€‚</li><li><code>delay</code> æ˜¯æ¯æ¬¡å»¶è¿Ÿçš„æ¯«ç§’æ•° (ä¸€ç§’ç­‰äº1000æ¯«ç§’)ï¼Œå‡½æ•°çš„æ¯æ¬¡è°ƒç”¨ä¼šåœ¨è¯¥å»¶è¿Ÿä¹‹åå‘ç”Ÿã€‚å’Œ<a href="https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout#Minimum_delay_and_timeout_nesting" target="_blank" rel="noopener">setTimeout</a>ä¸€æ ·ï¼Œå®é™…çš„å»¶è¿Ÿæ—¶é—´å¯èƒ½ä¼šç¨é•¿ä¸€ç‚¹ã€‚</li></ul><p>è¿”å›å€¼</p><p>è¿”å›ä¸€ä¸ª intervalIDã€‚å¯ä»¥ç”¨clearIntervalå‡½æ•°æ¥å–æ¶ˆå®šæ—¶ä»»åŠ¡ã€‚</p><p><strong>è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒäºsetTimeoutè¿”å›çš„idå…¬ç”¨ä¸€ä¸ªidæ± </strong></p><p>é€šå¸¸ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥æ‰§è¡Œå‘¨æœŸæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯”å¦‚åŠ¨ç”»ä¹‹ç±»çš„æ•ˆæœã€‚</p><p>mdné‡Œé¢æœ‰ä¸ªæ‰“å­—æœºæ•ˆæœçš„ä¾‹å­ã€‚</p><p><a href="https://mdn.mozillademos.org/files/3997/typewriter.html" target="_blank" rel="noopener">æ‰“å­—æœºæ•ˆæœ</a></p><p>å’Œ<code>setTimeout</code>ä¸€æ ·ï¼Œä¹Ÿæ˜¯åŠ å…¥åˆ°å¼‚æ­¥é˜Ÿåˆ—é‡Œï¼Œç­‰å¾…åˆé€‚çš„æ—¶æœºè¿è¡Œã€‚</p><blockquote><p>å½“ä½¿ç”¨<code>setInterval</code>æ—¶,ä»…å½“(åœ¨é˜Ÿåˆ—ä¸­)æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„ä»»ä½•å…¶ä»–ä»£ç å®ä¾‹æ—¶,æ‰å°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­,å¼•ç”¨JavaScripté«˜çº§ç¨‹åºè®¾è®¡ç¬¬ä¸‰ç‰ˆä¹¦ä¸­è¯­å¥</p></blockquote><p>(å³ï¼šå½“å‰ä¸€ä¸ªå®šæ—¶å™¨ä»£ç æ‰§è¡Œæ—¶,ç´§è·Ÿåé¢çš„ç¬¬ä¸€ä¸ªå®šæ—¶å™¨ä»£ç å°†æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­,ç­‰å¾…æ‰§è¡Œ,å†åé¢çš„å®šæ—¶å™¨ä»£ç ä¸ä¼šæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­)</p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ çš„å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æ‰§è¡Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œä½†æ˜¯ä½ çš„æ‰§è¡Œé—´éš”æ—¶é—´è®¾ç½®çš„æ¯”è¾ƒçŸ­ï¼Œå¯ä¸è¦ä»¥ä¸ºå¯ä»¥ç²¾å‡†çš„åœ¨é¢„æ–™çš„æ—¶é—´ç‚¹ä¼šæ‰§è¡Œè®¾ç½®çš„å‡½æ•°ã€‚</p><p>æ­¤å¤–ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæœ‰ä¸€ä¸ªæœ€çŸ­çš„é»˜è®¤å‚æ•°ï¼Œåœ¨<code>chrome</code>é‡Œé¢æ˜¯7msã€‚</p><p>å½“å®šæ—¶å™¨ä»£ç æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šé—´éš”,é‚£ä¹ˆæŸäº›å®šæ—¶å™¨ä»£ç å°±ä¼šè¢«è·³è¿‡(å³åé¢çš„å®šæ—¶å™¨ä»£ç ä¸ä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­),å‰ä¸€ä¸ªå®šæ—¶å™¨ä»£ç æ‰§è¡Œå®Œæ¯•å,é˜Ÿåˆ—ä¸­çš„å®šæ—¶å™¨ä»£ç ç«‹åˆ»æ‰§è¡Œ,å„å®šæ—¶å™¨ä¹‹é—´çš„ä»£ç æ‰§è¡Œæ²¡æœ‰é—´éš”ã€‚è¿™æ—¶ï¼Œéœ€è¦ä½¿ç”¨é“¾å¼<code>setTimeout</code>ã€‚</p><pre><code class="language-javas">setTimeout(function(){    //è¦æ‰§è¡Œçš„ä»£ç      setTimeout(arguments.callee,2000);                   },2000);</code></pre><p>ä¸Šé¢çš„ä»£ç å°±æ˜¯ç”¨<code>setTimeout</code>æ¥æ¨¡æ‹Ÿ<code>setInterval</code>,å¦‚æœé¢è¯•å®˜é—®ä½ æ€ä¹ˆç”¨<code>setTimeout</code>æ¥è§£å†³å®šæ—¶å™¨é—®é¢˜ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„ä»£ç æ¥å›ç­”å“¦ã€‚</p><p>å¦‚æœè¦æ±‚åœ¨æ¯éš”ä¸€ä¸ªå›ºå®šçš„æ—¶é—´é—´éš”åå°±ç²¾ç¡®åœ°æ‰§è¡ŒæŸåŠ¨ä½œï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨<code>setInterval</code>ï¼Œ</p><p>æ¯”å¦‚å‡½æ•°æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­çš„ï¼Œç”¨æ¥å®ç°åŠ¨ç”»æ•ˆæœã€‚</p><p>å¦‚æœæ¯æ¬¡å‡½æ•°çš„è°ƒç”¨éœ€è¦ç¹é‡çš„è®¡ç®—ä»¥åŠå¾ˆé•¿çš„å¤„ç†æ—¶é—´ï¼Œè€Œä¸”ä¸å¸Œæœ›ä»–ä»¬ä¹‹é—´äº’ç›¸å¹²æ‰°ï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨<code>setTimeout</code>ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«ä¹æ•°</title>
      <link href="/blog/posts/9ba82001/"/>
      <url>/blog/posts/9ba82001/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¿«ä¹å°±å®Œäº‹äº†ã€‚</p></blockquote><h3 id="å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ">Â¶</a>å¿«ä¹æ•°æ˜¯ä»€ä¹ˆ</h3><p>ä¸€ä¸ªâ€œå¿«ä¹æ•°â€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯æ— é™å¾ªç¯ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœå¯ä»¥å˜ä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚</p><p>ç¤ºä¾‹:</p><pre><code class="language-javascript">    è¾“å…¥: 19    è¾“å‡º: true    è§£é‡Š:     1^2 + 9^2 = 82    8^2 + 2^2 = 68    6^2 + 8^2 = 100    1^2 + 0^2 + 0^2 = 1</code></pre><h3 id="ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯-å¿«ä¹æ•°"><a class="header-anchor" href="#ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯-å¿«ä¹æ•°">Â¶</a>ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯â€œå¿«ä¹æ•°â€ã€‚</h3><p>æ€è·¯ï¼Œä¸æ–­çš„æ±‚è¾“å…¥æ•°å­—æ¯ä¸ªä½ç½®å¹³æ–¹å’Œï¼Œç„¶åçœ‹æ˜¯å¦ç­‰äº1ï¼Œç­‰äº1å°±æ˜¯å¿«ä¹æ•°ï¼Œé—®é¢˜æ˜¯ï¼Œä»€ä¹ˆæ—¶å€™åˆ¤æ–­falseã€‚<br>ç­”æ¡ˆå°±æ˜¯å‡ºç°æ— çº¿å¾ªç¯çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å‡ºç°é‡å¤çš„æ•°å­—ï¼Œå¿…å®šä¼šè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</p><pre><code class="language-python">class Solution:    def isHappy(self, n: int) -&gt; bool:        already = set()                while n != 1:            nums = 0            while n &gt; 0:                temp = n % 10                nums = nums + temp * temp                n = n // 10            if nums in already:                return False            else:                already.add(nums)                n = nums        return True    </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘çš„å¾ªç¯éå†æ–¹æ³•</title>
      <link href="/blog/posts/8925371c/"/>
      <url>/blog/posts/8925371c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘ç¨å¾®åˆ·äº†ä¸€ä¸‹<code>leetcode</code>ï¼Œæƒ³å·©å›ºä¸€ä¸‹ç¼–ç¨‹åŠŸåº•ï¼Œä½†æ˜¯å‘ç°å·¥ä½œåçš„å¾ˆå°‘ç”¨åˆ°åœ¨å­¦æ ¡æ—¶ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¥½å¤šéƒ½å¿˜äº†ï¼Œåœ¨è¿™é‡Œåšä¸‹è®°å½•ã€‚</p></blockquote><h3 id="1-äºŒå‰æ ‘çš„å‰åº-ä¸­åº-ååºéå†"><a class="header-anchor" href="#1-äºŒå‰æ ‘çš„å‰åº-ä¸­åº-ååºéå†">Â¶</a>1.äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†</h3><p>å‰åºéå†æ–¹å‘æ˜¯ ä¸­ å·¦ å³</p><p>ä¸­åºéå†æ–¹å‘æ˜¯ å·¦ ä¸­ å³</p><p>ååºéå†æ–¹å‘æ˜¯ å³ å·¦ ä¸­</p><p>æ ¹æ®ä¸Šé¢çš„å®šä¹‰ï¼Œçœ‹çš„å‡ºæ¥å¯¹äºå·¦å³èŠ‚ç‚¹ï¼Œé¡ºåºæ˜¯ä¸å˜çš„ï¼Œåªæ˜¯ä¸­é—´èŠ‚ç‚¹å‡ºç°çš„ä½ç½®æ”¹å˜ã€‚æ‰€ä»¥ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªé˜²æ­¢å¿˜è®°çš„æŠ€å·§ã€‚</p><h3 id="2-ä»£ç å®ç°"><a class="header-anchor" href="#2-ä»£ç å®ç°">Â¶</a>2.ä»£ç å®ç°</h3><pre><code class="language-python"># å®šä¹‰èŠ‚ç‚¹å¯¹è±¡class TreeNode:    def __init__(self, x):        self.val = x        self.left = None        self.right = None# å‡†å¤‡æµ‹è¯•æ•°æ®a = TreeNode(1)a.left = TreeNode(2)a.left.left = TreeNode(4)a.left.right = TreeNode(5)a.right = TreeNode(3)a.right.left = TreeNode(6)a.right.right = TreeNode(7)class Solution:    def inorderTraversal(self,root):        &quot;&quot;&quot;        é€’å½’å®ç°ä¸­åºéå†        &quot;&quot;&quot;        if not root:            return []        return self.inorderTraversal(root.left) + [root.val] + self.inorderTraversal(root.right)        def inerderTraversalLoop(self,root):        &quot;&quot;&quot;        å¾ªç¯å®ç°ä¸­åºéå†        &quot;&quot;&quot;        result = []        stack = []        curr = root        while curr or stack:            if curr:                stack.append(curr)                curr=curr.left            else:                curr = stack.pop()                result.append(curr.val)                curr = curr.right        return result                                        def predorderTraversal(self, root):        &quot;&quot;&quot;        é€’å½’å®ç°å‰åºéå†        &quot;&quot;&quot;        if not root:            return []        return [root.val] + self.predorderTraversal(root.left) + self.predorderTraversal(root.right)            def predorderTraversalLoop(self,root):        &quot;&quot;&quot;        å¾ªç¯å®ç°å‰åºéå†        &quot;&quot;&quot;        result = []        stack = []        curr = root        while curr or stack:            if curr:                result.append(curr.val)                stack.append(curr.right)                curr = curr.left            else:                curr = stack.pop()                        return result                                 def postorderTraversal(self,root):        &quot;&quot;&quot;        é€’å½’å®ç°åç»­éå†        &quot;&quot;&quot;        if not root:            return []        return self.postorderTraversal(root.left) + self.postorderTraversal(root.right) + [root.val]            def postorderTraversalLoop(self,root):        &quot;&quot;&quot;        å¾ªç¯å®ç°åç»­éå†        &quot;&quot;&quot;        result = []        stack = []        curr = root        while curr or stack:            if curr:               result.append(curr.val)               stack.append(curr.left)               curr = curr.right            else:               curr = stack.pop()        return result[::-1]                 if __name__ == &quot;__main__&quot;:    s = Solution()    print(s.inorderTraversal(a))    print(s.inerderTraversalLoop(a))    print(s.predorderTraversal(a))    print(s.predorderTraversalLoop(a))    print(s.postorderTraversal(a))    print(s.postorderTraversalLoop(a))# [4, 2, 5, 1, 6, 3, 7]# [4, 2, 5, 1, 6, 3, 7]# [1, 2, 4, 5, 3, 6, 7]# [1, 2, 4, 5, 3, 6, 7]# [4, 5, 2, 6, 7, 3, 1]# [4, 5, 2, 6, 7, 3, 1]   </code></pre><p>ä¸Šé¢å°±æ˜¯å®ç°ä»£ç ã€‚</p><p>å…ˆè¯´ä¸‹é€’å½’å®ç°ï¼Œæ ¹æ®ç¬¬ä¸€èŠ‚çš„éå†é¡ºåºå®šä¹‰ï¼Œè¿™é‡Œå¾ˆç®€å•å°±å¯ä»¥å†™å‡ºé€’å½’ç¨‹åºï¼Œåªæ˜¯è¿”å›çš„æ—¶å€™ï¼Œæ›´æ”¹ä¸‹ä¸­é—´èŠ‚ç‚¹çš„ä½ç½®å°±å¥½ã€‚</p><p>åœ¨è¯´ä¸‹å¾ªç¯å®ç°ï¼Œåœ¨<code>LeetCode</code>é‡Œé¢ï¼Œå¾ªç¯éƒ½æ˜¯<code>hard</code>å’Œ<code>middle</code>çš„é¢˜ï¼Œå¯è§ï¼Œç”¨å¾ªç¯å®ç°èµ·æ¥å¹¶ä¸å®¹æ˜“ã€‚</p><p>ä¸»è¦æ˜¯è¦åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢å®ç°éå†åˆ°æ•´ä¸ªæ ‘å½¢ç»“æ„ï¼Œå¦‚æœä½ èƒ½æƒ³åˆ°ç”¨<strong>æ ˆ</strong>ï¼ˆ<code>stack</code>ï¼‰æ¥å­˜èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä½ åº”è¯¥å·®ä¸å¤šå¯¹æ•°æ®ç»“æ„è¿ç”¨æœ‰ä¸€å®šç»éªŒäº†ã€‚</p><p>å¦‚ä¸‹çš„äºŒå‰æ ‘</p><pre><code class="language-python">      1   2      34    5</code></pre><p>å¯¹äºä¸­åºéå†</p><p>æ¯æ¬¡å°†å½“å‰ç»“ç‚¹<code>curr</code>çš„å·¦å­ç»“ç‚¹pushåˆ°æ ˆä¸­ï¼Œç›´åˆ°å½“å‰ç»“ç‚¹<code>curr</code>ä¸ºNoneã€‚è¿™æ—¶ï¼Œ<code>pop</code>å‡ºæ ˆé¡¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®¾å…¶ä¸ºå½“å‰ç»“ç‚¹ï¼Œå¹¶è¾“å‡ºè¯¥ç»“ç‚¹çš„<code>val</code>å€¼ï¼Œä¸”å¼€å§‹éå†è¯¥ç»“ç‚¹çš„å³å­æ ‘ã€‚å½“<code>stack</code>å’Œ<code>curr</code>éƒ½ä¸ºç©ºçš„æ—¶å€™ï¼Œç»“æŸå¾ªç¯ã€‚</p><p>å¯¹äºå‰åºéå†</p><p>è¾“å‡ºå½“å‰ç»“ç‚¹<code>curr</code>çš„<code>val</code>ï¼Œå¹¶å°†å³å­ç»“ç‚¹<code>push</code>åˆ°æ ˆä¸­ï¼Œç„¶åå°†å·¦å­ç»“ç‚¹è®¾ä¸ºå½“å‰ç»“ç‚¹ã€‚å…¥æ ˆå’Œå‡ºæ ˆæ¡ä»¶ï¼ˆå½“å‰ç»“ç‚¹<code>curr</code>ä¸ä¸º<code>None</code>æ—¶ï¼Œæ¯ä¸€æ¬¡å¾ªç¯å°†å½“å‰ç»“ç‚¹<code>curr</code>å…¥æ ˆï¼›å½“å‰ç»“ç‚¹<code>curr</code>ä¸º<code>None</code>æ—¶ï¼Œåˆ™å‡ºæ ˆä¸€ä¸ªç»“ç‚¹ï¼‰ä»¥åŠå¾ªç¯ç»“æŸæ¡ä»¶ï¼ˆæ•´ä¸ªå¾ªç¯åœ¨<code>stack</code>å’Œ<code>curr</code>çš†ä¸º<code>None</code>çš„æ—¶å€™ç»“æŸï¼‰ä¸ä¸­åºéå†ä¸€æ¨¡ä¸€æ ·ã€‚</p><p>å¯¹äºååºéå†</p><p>ååºéå†åœ¨<code>leetcode</code>ä¸Šæ˜¯<code>hard</code>éš¾åº¦çš„é¢˜ï¼Œè¿™é‡Œæœ‰ä¸ªæŠ€å·§ï¼Œååºæ˜¯å·¦å³ä¸­ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸­å³å·¦çš„æ–¹å¼éå†ï¼Œç„¶ååå‘è¾“å‡ºå°±å¯ä»¥äº†ã€‚è€Œä¸”ä¸­å³å·¦ä¸å°±æ˜¯å‰åºéå†å·¦å³äº’ç›¸æ¢ä¸‹å—ï¼Ÿ</p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>äºŒå‰æ ‘çš„å¾ªç¯éå†ï¼Œè¿˜æ˜¯è¦å€ŸåŠ©äºæ ˆè¿™ä¸ªéå¸¸æœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œæœ‰æ—¶æˆ‘ä»¬éƒ½æ˜ç™½ï¼Œæ¯”å¦‚ï¼Œæ ˆå•Šï¼Œé˜Ÿåˆ—å•Šï¼Œè¿™äº›ç»“æ„æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Œä½†æ˜¯ï¼Œè¦çœŸæ­£çµæ´»çš„ä½¿ç”¨è¿™äº›æ•°æ®ç»“æ„ï¼Œè¿˜éœ€è¦å¤šå¤šç»ƒä¹ ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘å¸ƒè®¢é˜…æ¨¡å¼çš„javascriptå®ç°</title>
      <link href="/blog/posts/4ec38d83/"/>
      <url>/blog/posts/4ec38d83/</url>
      
        <content type="html"><![CDATA[<h3 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a class="header-anchor" href="#å‘å¸ƒè®¢é˜…æ¨¡å¼">Â¶</a>å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84" target="_blank" rel="noopener">è½¯ä»¶æ¶æ„</a>ä¸­ï¼Œ<strong>å‘å¸ƒ-è®¢é˜…</strong>æ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/%E6%B6%88%E6%81%AF" target="_blank" rel="noopener">æ¶ˆæ¯</a><a href="https://zh.wikipedia.org/wiki/%E8%8C%83%E5%BC%8F" target="_blank" rel="noopener">èŒƒå¼</a>ï¼Œæ¶ˆæ¯çš„å‘é€è€…ï¼ˆç§°ä¸ºå‘å¸ƒè€…ï¼‰ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆç§°ä¸ºè®¢é˜…è€…ï¼‰ã€‚è€Œæ˜¯å°†å‘å¸ƒçš„æ¶ˆæ¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œæ— éœ€äº†è§£å“ªäº›è®¢é˜…è€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯èƒ½å­˜åœ¨ã€‚åŒæ ·çš„ï¼Œè®¢é˜…è€…å¯ä»¥è¡¨è¾¾å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„å…´è¶£ï¼Œåªæ¥æ”¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œæ— éœ€äº†è§£å“ªäº›å‘å¸ƒè€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å­˜åœ¨ã€‚</p><p>å‘å¸ƒ/è®¢é˜…æ˜¯<a href="https://zh.wikipedia.org/wiki/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97" target="_blank" rel="noopener">æ¶ˆæ¯é˜Ÿåˆ—</a>èŒƒå¼çš„å…„å¼Ÿï¼Œé€šå¸¸æ˜¯æ›´å¤§çš„<a href="https://zh.wikipedia.org/w/index.php?title=%E9%9D%A2%E5%90%91%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">é¢å‘æ¶ˆæ¯ä¸­é—´ä»¶</a>ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚å¤§å¤šæ•°æ¶ˆæ¯ç³»ç»Ÿåœ¨<a href="https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3" target="_blank" rel="noopener">API</a>ä¸­åŒæ—¶æ”¯æŒæ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹å’Œå‘å¸ƒ/è®¢é˜…æ¨¡å‹ï¼Œä¾‹å¦‚<a href="https://zh.wikipedia.org/wiki/Java%E6%B6%88%E6%81%AF%E6%9C%8D%E5%8A%A1" target="_blank" rel="noopener">Javaæ¶ˆæ¯æœåŠ¡</a>ï¼ˆJMSï¼‰ã€‚</p><p>è¿™ç§æ¨¡å¼æä¾›äº†æ›´å¤§çš„ç½‘ç»œ<a href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7" target="_blank" rel="noopener">å¯æ‰©å±•æ€§</a>å’Œæ›´åŠ¨æ€çš„<a href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91" target="_blank" rel="noopener">ç½‘ç»œæ‹“æ‰‘</a>ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†å¯¹å‘å¸ƒè€…å’Œå‘å¸ƒæ•°æ®çš„ç»“æ„ä¿®æ”¹çš„çµæ´»æ€§ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ol><li>æ¾è€¦åˆï¼šå‘å¸ƒè€…ä¸è®¢é˜…è€…<a href="https://zh.wikipedia.org/wiki/%E6%9D%BE%E8%80%A6%E5%90%88" target="_blank" rel="noopener">æ¾è€¦åˆ</a>ï¼Œç”šè‡³ä¸éœ€è¦çŸ¥é“å®ƒä»¬çš„å­˜åœ¨ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šé€šè¿‡å¹¶è¡Œæ“ä½œï¼Œæ¶ˆæ¯ç¼“å­˜ï¼ŒåŸºäºæ ‘æˆ–åŸºäºç½‘ç»œçš„è·¯ç”±ç­‰æŠ€æœ¯ï¼Œå‘å¸ƒ/è®¢é˜…æä¾›äº†æ¯”ä¼ ç»Ÿçš„å®¢æˆ·ç«¯â€“æœåŠ¡å™¨æ›´å¥½çš„<a href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E6%89%A9%E6%94%BE%E6%80%A7" target="_blank" rel="noopener">å¯æ‰©å±•æ€§</a>ã€‚</li></ol><h3 id="javascripté‡Œçš„å‘å¸ƒè®¢é˜…æ¨¡å¼"><a class="header-anchor" href="#javascripté‡Œçš„å‘å¸ƒè®¢é˜…æ¨¡å¼">Â¶</a><code>JavaScript</code>é‡Œçš„å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><p>åœ¨<code>dom</code>äº‹ä»¶é‡Œé¢ï¼Œæœ‰ä¸€ç§äº‹ä»¶ç›‘å¬çš„æ¨¡å¼å°±æ˜¯åŸºäºå‘å¸ƒè®¢é˜…è®¾è®¡çš„ï¼Œæ¯”å¦‚éå¸¸å¸¸è§çš„ç»™èŠ‚ç‚¹æ·»åŠ ç‚¹å‡»äº‹ä»¶</p><pre><code class="language-javascript">var button = document.getElementById(&quot;button&quot;)button.addEventListener('click',() =&gt; {alert('click')},false)</code></pre><p>è¿™æ ·çš„å†™æ³•å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œåˆ†ç¦»äº‹ä»¶è§¦å‘å’Œäº‹ä»¶å†…å®¹è§£è€¦ã€‚</p><p>åœ¨<code>node</code>é‡Œé¢ï¼Œè¿˜æœ‰<code>EventEmitter</code>è¿™ä¸ªç±»ï¼Œç”¨æ¥å®ç°å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ¥å¤„ç†ä¸åŒå¯¹è±¡ä¹‹é—´çš„äº‹ä»¶è°ƒç”¨ã€‚</p><pre><code class="language-javascript">const EventEmitter = require('events');const MyEventEmitter extends EventEmitterconst myEventEmitter = new MyEventEmittermyEventEmitter.on('event',() =&gt; {    console.log(&quot;target this event&quot;)})myEventEmitter.emit(&quot;event&quot;)// target this event</code></pre><p>æˆ‘ä¹‹å‰ç”¨<code>BackBone</code>æ„å»ºå•é¡µé¢åº”ç”¨çš„æ—¶å€™ï¼Œå°±å¹¿æ³›ç”¨åˆ°äº†å‘å¸ƒè®¢é˜…æ¨¡å¼å¤„ç†ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•å¦‚æœæ»¥ç”¨ï¼Œä¼šé€ æˆäº‹ä»¶äº¤äº’é€»è¾‘çš„ä¸æ¸…æ™°ï¼Œæ‰€ä»¥ï¼Œçˆ¶å­ç»„ä»¶æ•°æ®äº¤äº’è¿˜æ˜¯æ¨èç”¨å›è°ƒçš„æ–¹å¼æ¥åšã€‚</p><h3 id="æ€ä¹ˆå®ç°eventemitter"><a class="header-anchor" href="#æ€ä¹ˆå®ç°eventemitter">Â¶</a>æ€ä¹ˆå®ç°<code>eventEmitter</code></h3><p>ä¸‹é¢æ˜¯ç®€å•å®ç°<code>eventEmitter</code>çš„<code>javaScript</code>ä»£ç </p><pre><code class="language-javascript">function EventEmitter() {    this._event = {}    this.maxListenerNum = 10}EventEmitter.prototype.on = function(type,callback) {    if(typeof callback !== &quot;function&quot;) {        throw new TypeError('callback must be a function')    }    if(!this._event) {        this._event = Object.create(null) // è¿™é‡Œåˆ¤æ–­ä¸å­˜åœ¨å°±ç”Ÿæˆä¸€ä¸ªï¼Œå¦‚æœæ˜¯ç»§æ‰¿çš„ï¼Œä¸ä¼šç»§æ‰¿è¿™ä¸ª _event    }    if(this._event[type] ) {        if(this._event[type.length &gt; this.maxListenerNum] ) {            throw new Error(&quot;too long&quot;)        }        this._event[type].push(callback)    } else {        this._event[type] = [callback]    }}EventEmitter.prototype.once = function (type,callback) {    let warp = (...args) =&gt; {        callback(...args)        this.removeListener(type,warp)    }    warp.flag = callback    this.on(type,warp)}EventEmitter.prototype.removeListener = function(type,callback)  {    if(this._event[type] ) {        this._event[type].splice(this._event[type].indexOf(callback),1)    }}EventEmitter.prototype.removeListeners = function(type){    this._event[type] = null}EventEmitter.prototype.emit = function(type,...args) {    if(this._event[type]) {        this._event[type].forEach(fn =&gt; {            fn(...args)        });    }}</code></pre><p>æµ‹è¯•ä»£ç </p><pre><code class="language-javascript">var my = new EventEmittermy.on('a',(a) =&gt; {    console.log(a);})my.once('once', (a) =&gt; {    console.log(a);})let add = (a,b) =&gt; {    console.log(a+b); }my.on('b',add)my.emit('a',1)my.emit('a',2)my.emit('b',1,2)my.emit('once',1)my.emit('once',2)my.removeListeners('a')my.emit('a',1)my.removeListener('b')my.emit('b',1,2)/* è¾“å‡º1231*/</code></pre><p>å‚è€ƒï¼š</p><p>1.<a href="https://zh.wikipedia.org/zh-hans/%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85" target="_blank" rel="noopener">https://zh.wikipedia.org/zh-hans/%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85</a></p><p>2.<a href="https://segmentfault.com/a/1190000015762318" target="_blank" rel="noopener">https://segmentfault.com/a/1190000015762318</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½»åº•ææ‡‚ajax</title>
      <link href="/blog/posts/e9a05528/"/>
      <url>/blog/posts/e9a05528/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¯ä¸ªä¼šç”¨<code>jquery</code>çš„äººéƒ½ä¼šç”¨<code>$.ajax</code>å‘èµ·ä¸€ä¸ª<code>ajax</code>è¯·æ±‚ï¼Œç„¶åå†å›è°ƒå‡½æ•°é‡Œé¢å–å¾—è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„äººéƒ½çŸ¥é“è¿™ä¸ªæµç¨‹é‡Œé¢å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Œæœ¬æ–‡å°±æ·±å…¥è®¨è®ºä¸‹å…³äº<code>ajax</code>çš„æ‰€æœ‰ï¼ˆå¤§éƒ¨åˆ†ï¼‰ç»†èŠ‚ã€‚</p></blockquote><p>[TOC]</p><h3 id="1-ajaxå…¶å®æ˜¯æ ‡å‡†"><a class="header-anchor" href="#1-ajaxå…¶å®æ˜¯æ ‡å‡†">Â¶</a>1.Ajaxå…¶å®æ˜¯æ ‡å‡†</h3><p>å¾ˆå¤šäººè¯¯ä»¥ä¸º<code>XMLHttpRequest</code>å°±æ˜¯<code>Ajax</code>ï¼Œå…¶å®ä¸ç„¶ï¼Œä»–ä»¬ä¸¤ä¸ªæ˜¯ä¸¤ä¸ªä¸åŒç»´åº¦çš„æ¦‚å¿µã€‚</p><p>æœç´¢<code>ajax</code>çš„<code>wiki</code>ï¼Œæ˜¯è¿™æ ·ä»‹ç»çš„ï¼š</p><blockquote><p><strong>AJAX</strong>å³â€œ<strong>Asynchronous JavaScript and XML</strong>â€ï¼ˆå¼‚æ­¥çš„<a href="https://zh.wikipedia.org/wiki/JavaScript" target="_blank" rel="noopener">JavaScript</a>ä¸<a href="https://zh.wikipedia.org/wiki/XML" target="_blank" rel="noopener">XML</a>æŠ€æœ¯ï¼‰ï¼ŒæŒ‡çš„æ˜¯ä¸€å¥—ç»¼åˆäº†å¤šé¡¹æŠ€æœ¯çš„<a href="https://zh.wikipedia.org/wiki/%E7%80%8F%E8%A6%BD%E5%99%A8" target="_blank" rel="noopener">æµè§ˆå™¨</a>ç«¯<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E9%A0%81" target="_blank" rel="noopener">ç½‘é¡µ</a>å¼€å‘æŠ€æœ¯ã€‚Ajaxçš„æ¦‚å¿µç”±<a href="https://zh.wikipedia.org/wiki/%E5%82%91%E8%A5%BF%C2%B7%E8%A9%B9%E5%A7%86%E5%A3%AB%C2%B7%E8%B3%88%E7%91%9E%E7%89%B9" target="_blank" rel="noopener">æ°è¥¿Â·è©¹å§†å£«Â·è´¾ç‘ç‰¹</a>æ‰€æå‡ºã€‚</p></blockquote><h4 id="ajaxæŠ€æœ¯å‘å±•å²"><a class="header-anchor" href="#ajaxæŠ€æœ¯å‘å±•å²">Â¶</a>ajaxæŠ€æœ¯å‘å±•å²</h4><p>â€‹        ä¸Šä¸ªä¸–çºª90å¹´ä»£ï¼Œå‡ ä¹æ‰€æœ‰çš„ç½‘ç«™éƒ½ç”±HTMLé¡µé¢å®ç°ï¼ŒæœåŠ¡å™¨å¤„ç†æ¯ä¸€ä¸ªç”¨æˆ·è¯·æ±‚éƒ½éœ€è¦é‡æ–°åŠ è½½ç½‘é¡µã€‚è¿™æ ·çš„å¤„ç†æ–¹å¼æ•ˆç‡ä¸é«˜ã€‚ç”¨æˆ·çš„ä½“éªŒæ˜¯æ‰€æœ‰é¡µé¢éƒ½ä¼šæ¶ˆå¤±ï¼Œå†é‡æ–°åŠ è½½ï¼Œå³ä½¿åªæ˜¯ä¸€éƒ¨åˆ†é¡µé¢å…ƒç´ æ”¹å˜ä¹Ÿè¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œä¸ä»…è¦åˆ·æ–°æ”¹å˜çš„éƒ¨åˆ†ï¼Œè¿æ²¡æœ‰å˜åŒ–çš„éƒ¨åˆ†ä¹Ÿè¦åˆ·æ–°ã€‚è¿™ä¼šåŠ é‡æœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚</p><p>â€‹        è¿™å¯ä»¥ç”¨<a href="https://zh.wikipedia.org/wiki/%E7%95%B0%E6%AD%A5" target="_blank" rel="noopener">å¼‚æ­¥</a>åŠ è½½æ¥è§£å†³ã€‚1995å¹´ï¼ŒJAVAè¯­è¨€çš„ç¬¬ä¸€ç‰ˆå‘å¸ƒï¼Œéšä¹‹å‘å¸ƒçš„çš„Java appletsï¼ˆJAVAå°ç¨‹åºï¼‰é¦–æ¬¡å®ç°äº†å¼‚æ­¥åŠ è½½ã€‚æµè§ˆå™¨é€šè¿‡è¿è¡ŒåµŒå…¥ç½‘é¡µä¸­çš„Java appletsä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®ï¼Œä¸å¿…åˆ·æ–°ç½‘é¡µã€‚1996å¹´ï¼ŒInternet Explorerå°†iframeå…ƒç´ åŠ å…¥åˆ°HTMLï¼Œæ”¯æŒå±€éƒ¨åˆ·æ–°ç½‘é¡µã€‚</p><p>â€‹        1998å¹´å‰åï¼ŒOutlook Web Accesså°ç»„å†™æˆäº†å…è®¸<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%84%9A%E6%9C%AC&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">å®¢æˆ·ç«¯è„šæœ¬</a>å‘é€HTTPè¯·æ±‚ï¼ˆ<a href="https://zh.wikipedia.org/wiki/XMLHTTP" target="_blank" rel="noopener">XMLHTTP</a>ï¼‰çš„ç¬¬ä¸€ä¸ªç»„ä»¶ã€‚è¯¥ç»„ä»¶åŸå±äºå¾®è½¯Exchange Serverï¼Œå¹¶ä¸”è¿…é€Ÿåœ°æˆä¸ºäº†Internet Explorer 4.0[<a href="https://zh.wikipedia.org/wiki/AJAX#cite_note-2" target="_blank" rel="noopener">2]</a>çš„ä¸€éƒ¨åˆ†ã€‚éƒ¨åˆ†è§‚å¯Ÿå®¶è®¤ä¸ºï¼ŒOutlook Web Accessæ˜¯ç¬¬ä¸€ä¸ªåº”ç”¨äº†AjaxæŠ€æœ¯çš„æˆåŠŸçš„å•†ä¸šåº”ç”¨ç¨‹åºï¼Œå¹¶æˆä¸ºåŒ…æ‹¬Oddpostçš„ç½‘ç»œé‚®ä»¶äº§å“åœ¨å†…çš„è®¸å¤šäº§å“çš„é¢†å¤´ç¾Šã€‚ä½†æ˜¯ï¼Œ2005å¹´åˆï¼Œè®¸å¤šäº‹ä»¶ä½¿å¾—Ajaxè¢«å¤§ä¼—æ‰€æ¥å—ã€‚<a href="https://zh.wikipedia.org/wiki/Google" target="_blank" rel="noopener">Google</a>åœ¨å®ƒè‘—åçš„äº¤äº’åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äº†å¼‚æ­¥é€šè®¯ï¼Œå¦‚<a href="https://zh.wikipedia.org/w/index.php?title=Google%E8%AE%A8%E8%AE%BA%E7%BB%84&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">Googleè®¨è®ºç»„</a>ã€<a href="https://zh.wikipedia.org/wiki/Google%E5%9C%B0%E5%9B%BE" target="_blank" rel="noopener">Googleåœ°å›¾</a>ã€<a href="https://zh.wikipedia.org/w/index.php?title=Google%E6%90%9C%E7%B4%A2%E5%BB%BA%E8%AE%AE&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">Googleæœç´¢å»ºè®®</a>ã€<a href="https://zh.wikipedia.org/wiki/Gmail" target="_blank" rel="noopener">Gmail</a>ç­‰ã€‚Ajaxè¿™ä¸ªè¯ç”±ã€Š<em>Ajax: A New Approach to Web Applications</em>ã€‹ä¸€æ–‡æ‰€åˆ›ï¼Œè¯¥æ–‡çš„è¿…é€Ÿæµä¼ æé«˜äº†äººä»¬ä½¿ç”¨è¯¥é¡¹æŠ€æœ¯çš„æ„è¯†ã€‚å¦å¤–ï¼Œå¯¹Mozilla/Geckoçš„æ”¯æŒä½¿å¾—è¯¥æŠ€æœ¯èµ°å‘æˆç†Ÿï¼Œå˜å¾—æ›´ä¸ºç®€å•æ˜“ç”¨ã€‚</p><p>â€‹        æ‰€ä»¥<code>ajax</code>æ˜¯ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆï¼Œ<code>XMLHttpRequest</code>æ˜¯<code>ajax</code>åœ¨webç«¯å®ç°æ‰€ä¾èµ–çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯è¿™ä¸ªå¯¹è±¡ä½¿å¾—æµè§ˆå™¨å¯ä»¥å‘å‡º<code>HTTP</code>è¯·æ±‚ä¸æ¥æ”¶<code>HTTP</code>å“åº”ï¼Œæ¥å¼‚æ­¥çš„æ“ä½œç½‘é¡µã€‚</p><p>â€‹        åªæ˜¯ç°åœ¨ï¼Œå¸‚é¢ä¸ŠåŸºæœ¬éƒ½ç”¨<code>XMLHttpRequest</code> æ¥å‘é€<code>ajax</code>è¯·æ±‚ã€‚</p><p>â€‹        <code>es6</code>æ–°å¢äº†<code>fetch</code>æ¥ä»£æ›¿<code>XMLHttpRequest</code> ,æ¯”èµ·<code>XMLHttpRequest</code>å…·æœ‰æ›´å¥½çš„å¯æ‰©å±•æ€§å’Œé«˜æ•ˆæ€§ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»ã€‚</p><p>â€‹</p><h3 id="2-xmlhttprequestä»‹ç»"><a class="header-anchor" href="#2-xmlhttprequestä»‹ç»">Â¶</a>2.<code>XMLHttpRequest</code>ä»‹ç»</h3><blockquote><p>â€‹       <strong>XMLHTTP</strong>æ˜¯ä¸€ç»„<a href="https://zh.wikipedia.org/wiki/API" target="_blank" rel="noopener">API</a>å‡½æ•°é›†ï¼Œå¯è¢«<a href="https://zh.wikipedia.org/wiki/JavaScript" target="_blank" rel="noopener">JavaScript</a>ã€JScriptã€<a href="https://zh.wikipedia.org/wiki/VBScript" target="_blank" rel="noopener">VBScript</a>ä»¥åŠå…¶å®ƒ<a href="https://zh.wikipedia.org/wiki/Web%E6%B5%8F%E8%A7%88%E5%99%A8" target="_blank" rel="noopener">webæµè§ˆå™¨</a>å†…åµŒçš„<a href="https://zh.wikipedia.org/wiki/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener">è„šæœ¬è¯­è¨€</a>è°ƒç”¨ï¼Œé€šè¿‡<a href="https://zh.wikipedia.org/wiki/HTTP" target="_blank" rel="noopener">HTTP</a>åœ¨æµè§ˆå™¨å’Œ<a href="https://zh.wikipedia.org/wiki/Web%E6%9C%8D%E5%8A%A1%E5%99%A8" target="_blank" rel="noopener">webæœåŠ¡å™¨</a>ä¹‹é—´æ”¶å‘<a href="https://zh.wikipedia.org/wiki/XML" target="_blank" rel="noopener">XML</a>æˆ–å…¶å®ƒæ•°æ®ã€‚XMLHTTPæœ€å¤§çš„å¥½å¤„åœ¨äºå¯ä»¥åŠ¨æ€åœ°æ›´æ–°ç½‘é¡µï¼Œå®ƒæ— éœ€é‡æ–°ä»æœåŠ¡å™¨è¯»å–æ•´ä¸ªç½‘é¡µï¼Œä¹Ÿä¸éœ€è¦å®‰è£…é¢å¤–çš„æ’ä»¶ã€‚è¯¥æŠ€æœ¯è¢«è®¸å¤šç½‘ç«™ä½¿ç”¨ï¼Œä»¥å®ç°å¿«é€Ÿå“åº”çš„åŠ¨æ€ç½‘é¡µåº”ç”¨ã€‚ä¾‹å¦‚ï¼š<a href="https://zh.wikipedia.org/wiki/Google" target="_blank" rel="noopener">Google</a>çš„<a href="https://zh.wikipedia.org/wiki/Gmail" target="_blank" rel="noopener">Gmail</a>æœåŠ¡ã€Google SuggeståŠ¨æ€æŸ¥æ‰¾ç•Œé¢ä»¥åŠ<a href="https://zh.wikipedia.org/wiki/Google%E5%9C%B0%E5%9B%BE" target="_blank" rel="noopener">Google Map</a>åœ°ç†ä¿¡æ¯æœåŠ¡ã€‚</p></blockquote><p>â€‹        ä¸€å¼€å§‹ï¼Œå·¨ç¡¬å…¬å¸å‘æ˜äº†è¿™ä¸ªå¯ä»¥ç”¨æ¥æ„é€ æ— åˆ·æ–°é¡µé¢çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡<code>javascript</code>,<code>VBScript</code>æˆ–è€…å…¶ä»–çš„æµè§ˆå™¨å†…ç½®è„šæœ¬è®¿é—®ï¼Œåæ¥å…¶ä»–çš„æµè§ˆå™¨å¼€å‘å…¬å¸ä¹Ÿé€æ­¥å®ç°äº†è¿™ä¸ªæ ‡å‡†å¯¹è±¡ï¼Œåˆ°äº†<code>dom3</code>æ ‡å‡†æ—¶ä»£ï¼Œå®ƒå·²ç»æˆä¸º<a href="https://zh.wikipedia.org/wiki/W3C" target="_blank" rel="noopener">W3C</a>æ¨èçš„æ–¹æ³•ã€‚æˆªæ­¢2011å¹´ï¼Œå¤§å¤šæ•°æµè§ˆå™¨å·²ç»æ”¯æŒã€‚äº’è”ç½‘ç¨‹åºè¿æ¥äº†æ— åˆ·æ–°çš„é¡µé¢æ—¶ä»£ï¼Œè¯ç”Ÿäº†ä¸€å¤§æ‰¹ä¼˜ç§€çš„<code>web</code>åº”ç”¨ã€‚</p><p>â€‹ç°ä»£æµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒ<code>ajax</code>,ä½†æ˜¯ä»–ä»¬çš„æŠ€æœ¯æ–¹æ¡ˆå´åˆ†ä¸ºä¸¤ç§ï¼š</p><p>â€‹æ ‡å‡†æµè§ˆå™¨é€šè¿‡ <code>XMLHttpRequest</code> å¯¹è±¡å®ç°äº†ajaxçš„åŠŸèƒ½. åªéœ€è¦é€šè¿‡ä¸€è¡Œè¯­å¥ä¾¿å¯åˆ›å»ºä¸€ä¸ªç”¨äºå‘é€ajaxè¯·æ±‚çš„å¯¹è±¡.</p><pre><code class="language-javascript">var xhr = new XMLHttpRequest();</code></pre><p>â€‹IEæµè§ˆå™¨é€šè¿‡<code>XMLHttpRequest</code>æˆ–è€…<code>ActiveXObject</code>å¯¹è±¡åŒæ ·å®ç°äº†ajaxçš„åŠŸèƒ½ã€‚</p><pre><code class="language-javascript">var xhr = new ActiveXObject(ProgID);// progIDå¯ä»¥æ˜¯ä¸‹é¢çš„å€¼ï¼Œå¯¹åº”ä¸åŒçš„ç‰ˆæœ¬Microsoft.XMLHTTPMicrosoft.XMLHTTP.1.0Msxml2.ServerXMLHTTPMsxml2.ServerXMLHTTP.3.0Msxml2.ServerXMLHTTP.4.0Msxml2.ServerXMLHTTP.5.0Msxml2.ServerXMLHTTP.6.0Msxml2.XMLHTTPMsxml2.XMLHTTP.3.0Msxml2.XMLHTTP.4.0Msxml2.XMLHTTP.5.0Msxml2.XMLHTTP.6.0</code></pre><p>â€‹rå¦‚ä½•å–å¾—å…¨å¹³å°å…¼å®¹çš„<code>XMLHttpRequest</code>å¯¹è±¡ã€‚</p><pre><code class="language-javascript">function getXHR(){  var xhr = null;  if(window.XMLHttpRequest) {    xhr = new XMLHttpRequest();  } else if (window.ActiveXObject) {    try {      xhr = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);    } catch (e) {      try {        xhr = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);      } catch (e) {         alert(&quot;æ‚¨çš„æµè§ˆå™¨æš‚ä¸æ”¯æŒAjax!&quot;);      }    }  }  return xhr;}</code></pre><p>â€‹<code>HTML 5</code>çš„æ¦‚å¿µå½¢æˆåï¼Œ<code>W3C</code>å¼€å§‹è€ƒè™‘æ ‡å‡†åŒ–è¿™ä¸ªæ¥å£ã€‚2008å¹´2æœˆï¼Œå°±æå‡ºäº†<a href="http://dev.w3.org/2006/webapi/XMLHttpRequest-2/" target="_blank" rel="noopener">XMLHttpRequest Level 2</a> è‰æ¡ˆï¼ˆä¹‹å‰æ˜¯<code>Level 1</code>ï¼‰ã€‚è¿™ä¸ªæ–°ç‰ˆæœ¬æå‡ºäº†å¾ˆå¤šå®ç”¨çš„åŠŸèƒ½ï¼Œå¤§å¤§çš„åŠ å¿«äº†äº’è”ç½‘é©æ–°ã€‚</p><p>â€‹<em>è¿™é‡Œå¯¹æ¯”<code>level 1</code> å’Œ <code>level 2</code> çš„åŒºåˆ«</em></p><table><thead><tr><th>ç‰¹æ€§</th><th>level 1</th><th>level 2</th></tr></thead><tbody><tr><td>æ–‡æœ¬æ•°æ®ä¼ é€</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>è¯»å–ä¸Šä¼ äºŒè¿›åˆ¶</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>è¿›åº¦ä¿¡æ¯</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>åŒæºé™åˆ¶</td><td>ä¸æ”¯æŒè·¨åŸŸ</td><td>å¯å‘é€è·¨åŸŸè¯·æ±‚</td></tr><tr><td>è¶…æ—¶æ—¶é—´</td><td>ä¸æ”¯æŒè‡ªå·±è®¾ç½®</td><td><code>xhr.timeout</code>è®¾ç½®è¶…æ—¶æ—¶é—´</td></tr></tbody></table><p>â€‹æ­¤å¤–ï¼Œä¸ºäº†æ–¹ä¾¿è¡¨å•å¤„ç†ï¼Œ<code>html5</code>æ–°åŠ äº†ä¸ª<code>FormData</code>å¯¹è±¡ï¼Œæ–°çš„æ ‡å‡†åŒæ ·æ”¯æŒè¿™ä¸ªå¯¹è±¡ï¼Œç”¨æ¥æ¨¡æ‹Ÿè¡¨å•ã€‚</p><p>å…³äº<code>level 1</code> å’Œ <code>level 2</code>çš„åŒºåˆ«ï¼Œå¯ä¹Ÿå‚è€ƒ<a href="http://www.ruanyifeng.com/blog/2012/09/xmlhttprequest_level_2.html" target="_blank" rel="noopener">XMLHttpRequest Level 2 ä½¿ç”¨æŒ‡å—</a>ï¼Œé˜®è€å¸ˆå¯¹æ¯ä¸ªæ–°ç‰¹æ€§éƒ½å†™äº†ä»£ç å®ä¾‹ã€‚</p><p><code>XMLHttpRequest</code>å¯¹è±¡ï¼š</p><p>å±æ€§ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/channel" target="_blank" rel="noopener"><code>channel</code></a> è‰æ¡ˆï¼Œä¸çŸ¥é“æ˜¯å•¥<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/mozAnon" target="_blank" rel="noopener"><code>mozAnon</code></a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/mozBackgroundRequest" target="_blank" rel="noopener"><code>mozBackgroundRequest</code></a>è‰æ¡ˆï¼Œå¸ƒå°”å€¼ï¼Œä¸ºTrue æ—¶ï¼Œæœ¬æ¬¡è¯·æ±‚ä¸å¸¦cookiesæˆ–è€…å¤´éƒ¨è®¤è¯ä¿¡æ¯<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/mozResponseArrayBuffer" target="_blank" rel="noopener"><code>mozResponseArrayBuffer</code></a> è‰æ¡ˆ<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/mozSystem" target="_blank" rel="noopener"><code>mozSystem</code></a> è‰æ¡ˆ<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/multipart" target="_blank" rel="noopener"><code>multipart</code></a> è‰æ¡ˆ<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/onreadystatechange" target="_blank" rel="noopener"><code>onreadystatechange</code></a> åªè¦``readyState` å‘ç”Ÿæ”¹å˜ï¼Œå°±è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/readyState" target="_blank" rel="noopener"><code>readyState</code></a> å½“å‰çš„çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯0:UNSENT,1:OPENED,2:HEADERS_RECEIVED,3:LOADING,4:DONEã€‚åœ¨ieé‡Œï¼ŒçŠ¶æ€åç§°ä¸ä¸€æ ·ã€‚<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/response" target="_blank" rel="noopener"><code>response</code></a>è¯·æ±‚å“åº”çš„æ­£æ–‡<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/responseText" target="_blank" rel="noopener"><code>responseText</code></a> è¿”å›ä¸€ä¸ªDOMStringï¼Œå®ƒåŒ…å«å¯¹æ–‡æœ¬çš„è¯·æ±‚çš„å“åº”ã€‚<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/responseType" target="_blank" rel="noopener"><code>responseType</code></a> è¿”å›æ•°æ®çš„ç±»å‹ï¼Œå…·ä½“è§ä¸‹æ–‡<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/responseURL" target="_blank" rel="noopener"><code>responseURL</code></a> è¿”å›å“åº”çš„åºåˆ—åŒ–URLæˆ–ç©ºå­—ç¬¦ä¸²<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/responseXML" target="_blank" rel="noopener"><code>responseXML</code></a> è¿”å›ä¸€ä¸ªåŒ…å«è¯·æ±‚æ£€ç´¢çš„HTMLæˆ–XMLçš„<code>Document</code><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/status" target="_blank" rel="noopener"><code>status</code></a> å“åº”çš„æ•°å­—çŠ¶æ€ç ï¼Œé‡‡ç”¨æ ‡å‡†HTTP çŠ¶æ€ç <br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/statusText" target="_blank" rel="noopener"><code>statusText</code></a> çŠ¶æ€ç å¯¹åº”çš„æ–‡æœ¬ä¿¡æ¯<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/timeout" target="_blank" rel="noopener"><code>timeout</code></a> è¶…æ—¶æ—¶é—´<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/upload" target="_blank" rel="noopener"><code>upload</code></a> è¿”å›<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestUpload" target="_blank" rel="noopener"><code>XMLHttpRequestUpload</code></a> å¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºä¸Šä¼ çš„è¿›åº¦<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/withCredentials" target="_blank" rel="noopener"><code>withCredentials</code></a> ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œå’Œè·¨åŸŸè¯·æ±‚è®¤è¯æœ‰å…³</p><p>æ–¹æ³•ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/abort" target="_blank" rel="noopener"><code>abort()</code></a>ç»ˆæ­¢è¯·æ±‚ï¼Œ<code>readyState</code>ä¼šå˜ä¸º0<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/getAllResponseHeaders" target="_blank" rel="noopener"><code>getAllResponseHeaders()</code></a>è¿”å›æ‰€æœ‰çš„å“åº”å¤´<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/getResponseHeader" target="_blank" rel="noopener"><code>getResponseHeader()</code></a>è¿”å›æŒ‡å®šçš„å“åº”å¤´<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/open" target="_blank" rel="noopener"><code>open()</code></a>åˆå§‹åŒ–ä¸€ä¸ªè¯·æ±‚ã€‚<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/overrideMimeType" target="_blank" rel="noopener"><code>overrideMimeType()</code></a><code>level 1</code>çš„æ–¹æ³•ï¼Œç”¨responseTypeä»£æ›¿</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/send" target="_blank" rel="noopener"><code>send()</code></a>å‘é€httpè¯·æ±‚<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/sendAsBinary" target="_blank" rel="noopener"><code>sendAsBinary()</code></a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/setRequestHeader" target="_blank" rel="noopener"><code>setRequestHeader()</code></a>è®¾ç½®httpè¯·æ±‚å¤´</p><h3 id="3-ä½¿ç”¨xmlhttprequest"><a class="header-anchor" href="#3-ä½¿ç”¨xmlhttprequest">Â¶</a>3.ä½¿ç”¨<code>XMLHttpRequest</code></h3><p>ä¸‹é¢æ˜¯ç”¨ <code>XMLHttpRequest</code>å‘é€<code>ajax</code>  <code>get</code> è¯·æ±‚çš„ä¾‹å­ï¼ˆç”¨åˆ°äº†å¤§éƒ¨åˆ†<code>api</code>ï¼‰ã€‚</p><pre><code class="language-javascript">var xhr = new XMLHttpRequest(); // æ–°å»ºä¸€ä¸ªXMLHttpRequestå¯¹è±¡å®ä¾‹xhr.open('get',&quot;url&quot;); // è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œåœ°å€ xhr.responseType = &quot;text&quot;; // è®¾ç½®è¿”å›çš„æ•°æ®ç±»å‹xhr.timeout = 3000; // è®¾ç½®è¶…æ—¶æ—¶é—´// è¶…æ—¶å¤„ç†å‡½æ•°xhr.ontimeout = function(e) { console.error(&quot;timeout&quot;)}; // è¯·æ±‚é”™è¯¯å¤„ç†å‡½æ•°xhr.onerror = function(e) { console.error(&quot;error&quot;)};// è¯·æ±‚è¿›åº¦å¤„ç†å‡½æ•°xhr.upload.onprogress = function(e) {  if (e.lengthComputable) {      var completedPercent = e.loaded / e.total; // è¯·æ±‚ç™¾åˆ†æ¯”    }    // å¯¹completedPercent æ“ä½œ};// æˆåŠŸæ¥æ”¶åˆ°è¯·æ±‚çš„å‡½æ•°xhr.onload = function(e) {    if(this.status = 200) {        console.log(this.responseText)ï¼›    }}xhr.send(); // å‘é€è¯·æ±‚</code></pre><p>æ¥ä¸‹æ¥ï¼Œä»‹ç»ä¸€äº›å¸¸ç”¨çš„<code>api</code>ï¼š</p><p>æ›´è¯¦ç»†çš„å¯ä»¥çœ‹<code>mdn</code>çš„æ–‡æ¡£,é‡Œé¢æœ‰<code>XMLHttpRequest</code>å¯¹è±¡æ‰€æœ‰çš„å±æ€§ï¼Œæ–¹æ³•ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequest </a></p><h4 id="open"><a class="header-anchor" href="#open">Â¶</a>open()`</h4><pre><code class="language-javascript">XMLHttpRequest.open(method, url)XMLHttpRequest.open(method, url, async)XMLHttpRequest.open(method, url, async, user)XMLHttpRequest.open(method, url, async, user, password)</code></pre><p><code>method</code> å°±æ˜¯éœ€è¦ä½¿ç”¨çš„httpæ–¹æ³•ï¼ŒåŒ…æ‹¬[GET],[POST],[PUT],[DELETE]ç­‰ã€‚</p><p><code>url</code>å°±æ˜¯è¯·æ±‚çš„åœ°å€<code>url</code>ã€‚</p><p><code>async</code> @å¯é€‰ ä¸€ä¸ªå¯é€‰çš„å¸ƒå°”å‚æ•°ï¼Œé»˜è®¤ä¸º<code>true</code>ï¼Œè¡¨ç¤ºè¦ä¸è¦å¼‚æ­¥æ‰§è¡Œæ“ä½œã€‚å¦‚æœå€¼ä¸º<code>false</code>ï¼Œ<code>send()</code>æ–¹æ³•ç›´åˆ°æ”¶åˆ°ç­”å¤å‰ä¸ä¼šè¿”å›ã€‚å¦‚æœ<code>true</code>ï¼Œå·²å®Œæˆäº‹åŠ¡çš„é€šçŸ¥å¯ä¾›äº‹ä»¶ç›‘å¬å™¨ä½¿ç”¨ã€‚å¦‚æœ<code>multipart</code>å±æ€§ä¸º<code>true</code>åˆ™è¿™ä¸ªå¿…é¡»ä¸º<code>true</code>ï¼Œå¦åˆ™å°†å¼•å‘å¼‚å¸¸ã€‚</p><p><code>user</code>@ å¯é€‰ ç”¨æˆ·åç”¨äºè®¤è¯ç”¨é€”ï¼›é»˜è®¤ä¸º<code>null</code>ã€‚</p><p><code>password</code> @å¯é€‰ å¯†ç ç”¨äºè®¤è¯ç”¨é€”ï¼Œé»˜è®¤ä¸º<code>null</code>ã€‚</p><h4 id="setrequestheader"><a class="header-anchor" href="#setrequestheader">Â¶</a><code>setRequestHeader()</code></h4><p>**<code>XMLHttpRequest.setRequestHeader()**</code> æ˜¯è®¾ç½®HTTPè¯·æ±‚å¤´éƒ¨çš„æ–¹æ³•ã€‚æ­¤æ–¹æ³•å¿…é¡»åœ¨  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/open" target="_blank" rel="noopener"><code>open()</code></a>æ–¹æ³•å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/send" target="_blank" rel="noopener"><code>send()</code></a>   ä¹‹é—´è°ƒç”¨ã€‚å¦‚æœå¤šæ¬¡å¯¹åŒä¸€ä¸ªè¯·æ±‚å¤´èµ‹å€¼ï¼Œåªä¼šç”Ÿæˆä¸€ä¸ªåˆå¹¶äº†å¤šä¸ªå€¼çš„è¯·æ±‚å¤´ã€‚</p><h4 id="send"><a class="header-anchor" href="#send">Â¶</a>send()</h4><pre><code class="language-javas">void send();void send(ArrayBuffer data);void send(ArrayBufferView data);void send(Blob data);void send(Document data);void send(DOMString? data);void send(FormData data);</code></pre><p>â€‹æ–¹æ³•ç”¨äºå‘é€ HTTP è¯·æ±‚ã€‚å¦‚æœæ˜¯å¼‚æ­¥è¯·æ±‚ï¼ˆé»˜è®¤ä¸ºå¼‚æ­¥è¯·æ±‚ï¼‰ï¼Œåˆ™æ­¤æ–¹æ³•ä¼šåœ¨è¯·æ±‚å‘é€åç«‹å³è¿”å›ï¼›å¦‚æœæ˜¯åŒæ­¥è¯·æ±‚ï¼Œåˆ™æ­¤æ–¹æ³•ç›´åˆ°å“åº”åˆ°è¾¾åæ‰ä¼šè¿”å›ã€‚<code>XMLHttpRequest.send()</code> æ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œå…¶ä½œä¸ºè¯·æ±‚ä¸»ä½“ï¼›å¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯ GET æˆ–è€… HEADï¼Œåˆ™åº”å°†è¯·æ±‚ä¸»ä½“è®¾ç½®ä¸º nullï¼Œæ­¤æ—¶å‚æ•°åº”è¯¥åœ¨<code>url</code>åé¢ã€‚</p><p>ğŸ˜ è‡ªå®šä¹‰ä¸€äº›headerå±æ€§è¿›è¡Œè·¨åŸŸè¯·æ±‚æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°&quot;<strong>not allowed by Access-Control-Allow-Headers in preflight response</strong>&quot;ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ä½ çš„æœåŠ¡ç«¯è®¾ç½®&quot;Access-Control-Allow-Headers&quot;ã€‚</p><p>æ¥ä¸‹æ¥ä»ä¸€ä¸ªå®Œæ•´çš„httpè¯·æ±‚æµç¨‹ä»‹ç»ä½¿ç”¨</p><h4 id="è®¾ç½®request-header"><a class="header-anchor" href="#è®¾ç½®request-header">Â¶</a>è®¾ç½®request header</h4><p>å‘é€ä¸€ä¸ª<code>http</code>è¯·æ±‚ä¹‹å‰ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›è¯·æ±‚å¤´éƒ¨ä¿¡æ¯ã€‚</p><p>æ¯”å¦‚å¸¸ç”¨çš„<code>cookie</code>,<code>content-type</code>ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨<code>setRequestHeader(DOMString header, DOMString value)</code>è¿™ä¸ªå‡½æ•°è®¾ç½®ã€‚</p><ul><li>headerå¤§å°å†™ä¸æ˜æ˜¾ï¼Œ<code>cookie</code>å’Œ<code>Cookie</code>æ˜¯ç­‰ä»·çš„ã€‚</li><li><code>Content-Type</code>å¯ä»¥å‘é€çš„æ•°æ®ç±»å‹å¯ä»¥çœ‹ä¸Šé¢sendå‡½æ•°çš„å‚æ•°ç±»å‹ã€‚</li><li>è®¾ç½®header å¿…é¡»åœ¨<code>open</code> å’Œ<code>send</code>ä¹‹é—´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</li><li>è¿™ä¸ªå‡½æ•°å¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œåœ¨<code>send</code>ä¹‹å‰ä¼šåˆå¹¶å¤šä¸ªè°ƒç”¨è®¾ç½®çš„å€¼ã€‚</li></ul><p>eg:</p><pre><code class="language-javascript">var xhr = new XMLHttpRequest()xhr.open('get','url')xhr.setRequestHeader('content-type','multipart/form-data')xhr.setRequestHeader('cookie','asdaadfasdfasdfa')// ä¸Šé¢è®¾ç½®åä¼šåˆå¹¶ä¸¤ä¸ªheaderxhr.send()</code></pre><h4 id="è·å–response-header"><a class="header-anchor" href="#è·å–response-header">Â¶</a>è·å–<code>Response Header</code></h4><p>è·å–<code>response header</code> å¯ä»¥é€šè¿‡<code>getAllResponseHeaders()</code> å’Œ<code>getResponseHeader(header)</code></p><p>ä»åå­—ä¸Šå¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸€ä¸ªæ˜¯è·å–æ‰€æœ‰çš„header ï¼Œä¸€ä¸ªæ˜¯è·å–æŒ‡å®šçš„æŸä¸ªheader å¯¹åº”çš„å€¼ã€‚</p><p><code>getResponseHeader(header)</code> çš„å‚æ•°ä¸åˆ†å¤§å°å†™ã€‚</p><p>ä½†æ˜¯: è¿™é‡Œè·å–éƒ¨åˆ†header æ˜¯æœ‰<strong>é™åˆ¶</strong>çš„ï¼Œ<strong>ä¸ºäº†å®‰å…¨è€ƒè™‘</strong>ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯åŒæºéƒ½è§„å®šå®¢æˆ·ç«¯æ— æ³•è·å–<code>Set-Cookie</code>è¿™ä¸ªå­—æ®µï¼Œåœ¨è·¨åŸŸçš„è¯·æ±‚é‡Œï¼Œåªèƒ½è·å–â€œ<code>simple response header</code>â€å’Œâ€œ<code>Access-Control-Expose-Headers</code>â€ã€‚</p><p>è§£é‡Šï¼š</p><blockquote><p>â€œ<code>simple response header</code>â€œåŒ…æ‹¬çš„ header å­—æ®µæœ‰ï¼š<code>Cache-Control</code>,<code>Content-Language</code>,<code>Content-Type</code>,<code>Expires</code>,<code>Last-Modified</code>,<code>Pragma</code>;<br>â€<code>Access-Control-Expose-Headers</code>â€ï¼šé¦–å…ˆå¾—æ³¨æ„æ˜¯&quot;<code>Access-Control-Expose-Headers</code>&quot;è¿›è¡Œ<strong>è·¨åŸŸè¯·æ±‚</strong>æ—¶å“åº”å¤´éƒ¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œå¯¹äºåŒåŸŸè¯·æ±‚ï¼Œå“åº”å¤´éƒ¨æ˜¯æ²¡æœ‰è¿™ä¸ªå­—æ®µçš„ã€‚è¿™ä¸ªå­—æ®µä¸­åˆ—ä¸¾çš„ header å­—æ®µå°±æ˜¯æœåŠ¡å™¨å…è®¸æš´éœ²ç»™å®¢æˆ·ç«¯è®¿é—®çš„å­—æ®µã€‚</p></blockquote><p>eg:</p><pre><code class="language-javascript">xhr.getResponseHeader('Cache-Control')</code></pre><h4 id="æŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹"><a class="header-anchor" href="#æŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹">Â¶</a>æŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹</h4><p>ç”¨è¿‡<code>jquery</code>çš„<code>ajax</code>éƒ½çŸ¥é“é‡Œé¢æœ‰ä¸ªå±æ€§<code>dataType</code>å¯ä»¥æŒ‡å®šæœåŠ¡å™¨è¿”å›çš„æ•°æ®ç±»å‹ã€‚</p><p>å¦‚æœæƒ³é€šè¿‡<code>XMLHttpRequest</code>è®¾ç½®è¿”å›çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡<code>xhr.responseType</code>å±æ€§æ¥è®¾ç½®ã€‚<code>responseType</code>æ˜¯<code>xhr level 2</code>æ–°å¢çš„å±æ€§ï¼Œç”¨æ¥æŒ‡å®š<code>xhr.response</code>çš„æ•°æ®ç±»å‹ï¼Œç›®å‰è¿˜å­˜åœ¨äº›å…¼å®¹æ€§é—®é¢˜ã€‚</p><p><em>å¯ä»¥è®¾ç½®çš„å€¼æ˜¯ï¼š</em></p><table><thead><tr><th style="text-align:left">å€¼</th><th style="text-align:left"><code>xhr.response</code> æ•°æ®ç±»å‹</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left"><code>&quot;&quot;</code></td><td style="text-align:left"><code>String</code>å­—ç¬¦ä¸²</td><td style="text-align:left">é»˜è®¤å€¼(åœ¨ä¸è®¾ç½®<code>responseType</code>æ—¶)</td></tr><tr><td style="text-align:left"><code>&quot;text&quot;</code></td><td style="text-align:left"><code>String</code>å­—ç¬¦ä¸²</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>&quot;document&quot;</code></td><td style="text-align:left"><code>Document</code>å¯¹è±¡</td><td style="text-align:left">å¸Œæœ›è¿”å› <code>XML</code> æ ¼å¼æ•°æ®æ—¶ä½¿ç”¨</td></tr><tr><td style="text-align:left"><code>&quot;json&quot;</code></td><td style="text-align:left"><code>javascript</code> å¯¹è±¡</td><td style="text-align:left">å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ŒIE10/IE11ä¸æ”¯æŒ</td></tr><tr><td style="text-align:left"><code>&quot;blob&quot;</code></td><td style="text-align:left"><code>Blob</code>å¯¹è±¡</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>&quot;arrayBuffer&quot;</code></td><td style="text-align:left"><code>ArrayBuffer</code>å¯¹è±¡</td><td style="text-align:left"></td></tr></tbody></table><p>eg.</p><pre><code class="language-javascript">var xhr = new XMLHttpRequest();xhr.open('GET', '/path/to/image.png', true);xhr.responseType = 'blob'xhr.onload = function(e){    if (this.status == 200) {        // è¿™é‡Œæœ‰ä¸‰ä¸ªå¯ä»¥è·å–è¿”å›å€¼çš„å±æ€§ï¼Œåˆ†åˆ«æ˜¯ responseï¼ŒresponseType responseXml         var bloob = this.response;     }}xhr.send()</code></pre><p>è·å–è¿”å›å€¼ï¼š</p><ul><li><code>xhr.response</code><ul><li>é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²<code>&quot;&quot;</code></li><li>å½“è¯·æ±‚å®Œæˆæ—¶ï¼Œæ­¤å±æ€§æ‰æœ‰æ­£ç¡®çš„å€¼</li><li>è¯·æ±‚æœªå®Œæˆæ—¶ï¼Œæ­¤å±æ€§çš„å€¼å¯èƒ½æ˜¯<code>&quot;&quot;</code>æˆ–è€… <code>null</code>ï¼Œå…·ä½“ä¸ <code>xhr.responseType</code>æœ‰å…³ï¼šå½“<code>responseType</code>ä¸º<code>&quot;&quot;</code>æˆ–<code>&quot;text&quot;</code>æ—¶ï¼Œå€¼ä¸º<code>&quot;&quot;</code>ï¼›<code>responseType</code>ä¸ºå…¶ä»–å€¼æ—¶ï¼Œå€¼ä¸º <code>null</code></li></ul></li><li><code>xhr.responseText</code><ul><li>é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²<code>&quot;&quot;</code></li><li>åªæœ‰å½“ <code>responseType</code> ä¸º<code>&quot;text&quot;</code>ã€<code>&quot;&quot;</code>æ—¶ï¼Œ<code>xhr</code>å¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨<code>xhr.responseText</code>ï¼Œå¦åˆ™æŠ›é”™</li><li>åªæœ‰å½“è¯·æ±‚æˆåŠŸæ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹2ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºç©ºå­—ç¬¦ä¸²<code>&quot;&quot;</code>ï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥</li></ul></li><li><code>xhr.responseXML</code><ul><li>é»˜è®¤å€¼ä¸º <code>null</code></li><li>åªæœ‰å½“ <code>responseType</code> ä¸º<code>&quot;text&quot;</code>ã€<code>&quot;&quot;</code>ã€<code>&quot;document&quot;</code>æ—¶ï¼Œ<code>xhr</code>å¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨<code>xhr.responseXML</code>ï¼Œå¦åˆ™æŠ›é”™</li><li>åªæœ‰å½“è¯·æ±‚æˆåŠŸä¸”è¿”å›æ•°æ®è¢«æ­£ç¡®è§£ææ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹3ç§æƒ…å†µä¸‹å€¼éƒ½ä¸º<code>null</code>ï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ã€è¯·æ±‚æˆåŠŸä½†è¿”å›æ•°æ®æ— æ³•è¢«æ­£ç¡®è§£ææ—¶</li></ul></li></ul><h4 id="è¿½è¸ªajax-çš„å½“å‰çŠ¶æ€"><a class="header-anchor" href="#è¿½è¸ªajax-çš„å½“å‰çŠ¶æ€">Â¶</a>è¿½è¸ª<code>ajax</code> çš„å½“å‰çŠ¶æ€</h4><p>ä¸Šæ–‡å·²ç»è¯´è¿‡äº†<code>XMLHttpRequest</code>æœ‰<code>readyState</code>çŠ¶æ€ï¼Œå…±æœ‰5ç§ã€‚</p><table><thead><tr><th>å€¼</th><th>çŠ¶æ€</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>0</code></td><td><code>UNSENT</code></td><td>ä»£ç†è¢«åˆ›å»ºï¼Œä½†å°šæœªè°ƒç”¨ open() æ–¹æ³•ã€‚</td></tr><tr><td><code>1</code></td><td><code>OPENED</code></td><td><code>open()</code> æ–¹æ³•å·²ç»è¢«è°ƒç”¨ã€‚</td></tr><tr><td><code>2</code></td><td><code>HEADERS_RECEIVED</code></td><td><code>send()</code> æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¤´éƒ¨å’ŒçŠ¶æ€å·²ç»å¯è·å¾—ã€‚</td></tr><tr><td><code>3</code></td><td><code>LOADING</code></td><td>ä¸‹è½½ä¸­ï¼› <code>responseText</code> å±æ€§å·²ç»åŒ…å«éƒ¨åˆ†æ•°æ®ã€‚</td></tr><tr><td><code>4</code></td><td><code>DONE</code></td><td>ä¸‹è½½æ“ä½œå·²å®Œæˆã€‚</td></tr></tbody></table><p>çŠ¶æ€æ”¹å˜çš„æ—¶å€™ï¼Œä¼šè§¦å‘<code>onreadystatechange</code>äº‹ä»¶ã€‚</p><pre><code class="language-javascript">xhr.onreadystatechange = function () {    switch(xhr.readyState){      case 1://OPENED        //do something            break;      case 2://HEADERS_RECEIVED        //do something        break;      case 3://LOADING        //do something        break;      case 4://DONE        //do something        break;    }</code></pre><h4 id="è®¾ç½®è¶…æ—¶æ—¶é—´"><a class="header-anchor" href="#è®¾ç½®è¶…æ—¶æ—¶é—´">Â¶</a>è®¾ç½®è¶…æ—¶æ—¶é—´</h4><p><code>timeout</code> å±æ€§  å•ä½ æ¯«ç§’</p><p>å¦‚ä½•è®¡ç®—æ—¶é—´ï¼Ÿ</p><p>å¼€å§‹æ—¶é—´æŒ‡çš„æ˜¯ <code>send</code>æ–¹æ³•è°ƒç”¨çš„æ—¶å€™</p><p>ç»“æŸæ—¶é—´æ˜¯<code>loadend</code>äº‹ä»¶è§¦å‘</p><p>ğŸ˜æ³¨æ„åœ¨åŒæ­¥çš„è¯·æ±‚é‡Œé¢ï¼Œè¿™ä¸ªå€¼å¿…é¡»è®¾ç½®ä¸º0.å¦åˆ™ä¼šæŠ¥é”™ã€‚</p><h4 id="åŒæ­¥è¯·æ±‚"><a class="header-anchor" href="#åŒæ­¥è¯·æ±‚">Â¶</a>åŒæ­¥è¯·æ±‚</h4><p>ä¸å»ºè®®å‘é€åŒæ­¥è¯·æ±‚</p><p>ä¸€å®šè¦å‘é€çš„è¯</p><pre><code class="language-javascript">open(method, url [, async = true [, username = null [, password = null]]])// async è®¾ç½®ä¸ºfalse</code></pre><h4 id="æ˜¾ç¤ºè¿›åº¦"><a class="header-anchor" href="#æ˜¾ç¤ºè¿›åº¦">Â¶</a>æ˜¾ç¤ºè¿›åº¦</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>onprogress</code>äº‹ä»¶æ¥å®æ—¶æ˜¾ç¤ºè¿›åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªäº‹ä»¶æ¯50msè§¦å‘ä¸€æ¬¡ã€‚</p><p>ä½†æ˜¯ï¼Œä¸Šä¼ å’Œä¸‹è½½ï¼Œæ˜¯ä¸åŒå¯¹è±¡çš„<code>onprogress</code>äº‹ä»¶ã€‚</p><table><thead><tr><th>ä¸Šä¼ </th><th><code>xhr.upload</code></th></tr></thead><tbody><tr><td>ä¸‹è½½</td><td><code>xhr</code></td></tr></tbody></table><pre><code class="language-javascript">xhr.onprogress = function(e) {    if(e.lengthComputable) {        var p = e.loaded / e.total    }}</code></pre><h4 id="send-data-çš„å‚æ•°"><a class="header-anchor" href="#send-data-çš„å‚æ•°">Â¶</a><code>send(data)</code>çš„å‚æ•°</h4><p><code>xhr.send(data)</code>çš„å‚æ•°dataå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><ul><li><code>ArrayBuffer</code></li><li><code>Blob</code></li><li><code>Document</code></li><li><code>DOMString</code></li><li><code>FormData</code></li><li><code>null</code></li></ul><p>dataçš„å€¼ä¼šå½±å“è¯·æ±‚å¤´éƒ¨<code>content-type</code>çš„é»˜è®¤å€¼ã€‚</p><ul><li>å¦‚æœ<code>data</code>æ˜¯ <code>Document</code> ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯<code>HTML Document</code>ç±»å‹ï¼Œåˆ™<code>content-type</code>é»˜è®¤å€¼ä¸º<code>text/html;charset=UTF-8</code>;å¦åˆ™ä¸º<code>application/xml;charset=UTF-8</code>ï¼›</li><li>å¦‚æœ<code>data</code>æ˜¯ <code>DOMString</code> ç±»å‹ï¼Œ<code>content-type</code>é»˜è®¤å€¼ä¸º<code>text/plain;charset=UTF-8</code>ï¼›</li><li>å¦‚æœ<code>data</code>æ˜¯ <code>FormData</code> ç±»å‹ï¼Œ<code>content-type</code>é»˜è®¤å€¼ä¸º<code>multipart/form-data; boundary=[xxx]</code></li><li>å¦‚æœ<code>data</code>æ˜¯å…¶ä»–ç±»å‹ï¼Œåˆ™ä¸ä¼šè®¾ç½®<code>content-type</code>çš„é»˜è®¤å€¼</li></ul><h3 id="4-ajaxå’Œjså•çº¿ç¨‹æœºåˆ¶"><a class="header-anchor" href="#4-ajaxå’Œjså•çº¿ç¨‹æœºåˆ¶">Â¶</a>4.<code>ajax</code>å’Œ<code>js</code>å•çº¿ç¨‹æœºåˆ¶</h3><p>â€‹åœ¨è¯´è¿™ä¸ªè¯é¢˜ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£ä¸‹<code>js</code>çš„å•çº¿ç¨‹æœºåˆ¶å’Œæµè§ˆå™¨çš„å¤šçº¿ç¨‹æœºåˆ¶ï¼š</p><p>â€‹<a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a></p><p>â€‹       æ‰¹æ³¨ç‰ˆ:<a href="https://blog.csdn.net/lin_credible/article/details/40143961#commentBox" target="_blank" rel="noopener">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a></p><p>â€‹<em>è¿™é‡Œæ²¡æœ‰é»‘é˜®è€å¸ˆçš„æ„æ€ï¼Œé˜®è€å¸ˆç¿»è¯‘äº†å¾ˆå¤šä¼˜è´¨çš„å¤–æ–‡ï¼Œä»–çš„æœ¬ä¸šæ˜¯é‡‘èï¼Œå¯¹äºè®¡ç®—æœºçŸ¥è¯†ä¸å¤Ÿä¸¥è°¨ï¼Œä½†å¯¹äºç§‘æ™®ï¼Œåšç®€å•çš„äº†è§£æ˜¯è¶³å¤Ÿçš„ï¼Œå¹¶ä¸”é˜®è€å¸ˆä¹Ÿå¯¹åšæ–‡å†…çš„é”™è¯¯åšäº†ä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿè¦æ˜ç™½ï¼Œè¦æƒ³çœŸæ­£å­¦åˆ°ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦å»çœ‹æ ‡å‡†æ–‡æ¡£ï¼Œæ¯”å¦‚<code>mdn web doc</code>ï¼Œå»çœ‹å­¦æ ¡é‡Œçš„åŸºç¡€è¯¾ç¨‹ï¼Œä»»ä½•äººçš„äºŒæ‰‹çŸ¥è¯†ï¼Œåªèƒ½æ‹¿æ¥å‚è€ƒï¼Œç»ä¸èƒ½ä½œä¸ºæ ‡å‡†ã€‚</em></p><p>â€‹æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ<code>javaScript</code>æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œä½†æ˜¯å®ƒè¿è¡Œçš„ç¯å¢ƒï¼ˆè¿™é‡Œâ˜çš„æ˜¯æµè§ˆå™¨ï¼‰æ˜¯å¤šçº¿ç¨‹çš„ã€‚ç”¨å½“å‰æœ€æµè¡Œçš„<code>Chrome</code>æµè§ˆå™¨ä½œä¸ºä¾‹å­ã€‚</p><p>æœ‰ä»¥ä¸‹å‡ ä¸ªå¸¸é©»çº¿ç¨‹ï¼š</p><ul><li>æ¸²æŸ“å¼•æ“çº¿ç¨‹ï¼šé¡¾åæ€ä¹‰ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£é¡µé¢çš„æ¸²æŸ“</li><li><code>JS</code>å¼•æ“çº¿ç¨‹ï¼šè´Ÿè´£<code>JS</code>çš„è§£æå’Œæ‰§è¡Œ</li><li>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼šå¤„ç†å®šæ—¶äº‹ä»¶ï¼Œæ¯”å¦‚<code>setTimeout</code>, <code>setInterval</code></li><li>äº‹ä»¶è§¦å‘çº¿ç¨‹ï¼šå¤„ç†<code>DOM</code>äº‹ä»¶</li><li>å¼‚æ­¥<code>http</code>è¯·æ±‚çº¿ç¨‹ï¼šå¤„ç†<code>http</code>è¯·æ±‚</li></ul><p>â€‹        éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¸²æŸ“çº¿ç¨‹å’Œ<code>JS</code>å¼•æ“çº¿ç¨‹æ˜¯ä¸èƒ½åŒæ—¶è¿›è¡Œçš„ã€‚æ¸²æŸ“çº¿ç¨‹åœ¨æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œ<code>JS</code>å¼•æ“çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚å› ä¸º<code>JS</code>å¯ä»¥æ“ä½œDOMï¼Œè‹¥åœ¨æ¸²æŸ“ä¸­<code>JS</code>å¤„ç†äº†DOMï¼Œæµè§ˆå™¨å¯èƒ½å°±ä¸çŸ¥æ‰€æªäº†ã€‚</p><p>å¦å¤–ä¸€ä¸ªéœ€è¦æèµ·çš„æ˜¯æµè§ˆå™¨å®ç°å¼‚æ­¥çš„æ¶ˆæ¯é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªç¯</p><p>â€‹    æµè§ˆå™¨æœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ç”¨æ¥æ‰§è¡Œä»£ç ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„çº¿ç¨‹æ‰§è¡Œæ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œæ¯”å¦‚<code>http</code>è¯·æ±‚ï¼Œå®šæ—¶å™¨ç­‰ï¼Œæ‰€æœ‰çš„å‡½æ•°è°ƒç”¨éƒ½åœ¨ä¸€ä¸ª<code>stack</code>é‡Œé¢ï¼Œä¸»çº¿ç¨‹ä¼šä¾æ¬¡æ‰§è¡Œè¿™ä¸ª<code>stack</code>é‡Œçš„ä»£ç ï¼Œå½“é‡åˆ°ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œæ—¶ï¼Œå¼‚æ­¥çº¿ç¨‹æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œç„¶åå½“å¼‚æ­¥æ‰§è¡Œå®Œæ¯•ï¼Œä¼šæŠŠå›è°ƒå‡½æ•°ä½œä¸ºä¸€ä¸ªä»»åŠ¡åŠ åˆ°ä¸€ä¸ª<strong>æ¶ˆæ¯é˜Ÿåˆ—</strong><code>queue</code>é‡Œé¢(å®é™…ä¸Šï¼Œæœ‰å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™é‡Œä¸ºäº†è¯´æ˜åšäº†ç®€åŒ–)ï¼Œæµè§ˆå™¨ä¸æ–­çš„ç›‘å¬ç€<code>stack</code>ï¼Œä¸€æ—¦<code>stack</code>è¢«æ¸…ç©ºã€‚å°±ä»é˜Ÿåˆ—é‡Œå–å‡ºä¸€ä¸ªä»»åŠ¡åŠ åˆ°<code>stack</code>é‡Œé¢ï¼Œç„¶åä¸»çº¿ç¨‹æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ã€‚</p><p>â€‹ç”±äº<code>js</code>å¼•æ“ä»æ¶ˆæ¯é˜Ÿåˆ—é‡Œé¢è¯»å–äº‹ä»¶ä»»åŠ¡æ—¶ä¸é—´æ–­çš„ï¼Œåªè¦<code>stack</code>æ¸…ç©ºï¼Œå°±ä¼šæœ‰æ–°çš„ä»»åŠ¡åŠ åˆ°é‡Œé¢ï¼Œå¦‚æœæ¶ˆæ¯é˜Ÿåˆ—é‡Œæ²¡æœ‰ä»»åŠ¡ï¼Œå°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œè¿™å°±æ˜¯<strong>äº‹ä»¶å¾ªç¯</strong><code>Event Loop</code>ã€‚</p><p>ç±»ä¼¼ä¸‹é¢ä»£ç :</p><pre><code class="language-javascript">while (queue.waitForMessage()) {  queue.processNextMessage();}</code></pre><p>è¿™é‡Œæ’æ’­ä¸€é“é¢˜ï¼š</p><pre><code class="language-javascript">new Promise(resolve =&gt; {    resolve(1);    Promise.resolve().then(() =&gt; console.log(2));    console.log(4)}).then(t =&gt; console.log(t));console.log(3);</code></pre><p>ç­”æ¡ˆæ˜¯ <code>4ï¼Œ3ï¼Œ2ï¼Œ1</code></p><p>â€‹    å…·ä½“çš„è§£é‡Šç‚¹è¿™é‡Œ<a href="https://github.com/dwqs/blog/issues/61" target="_blank" rel="noopener">ä»ä¸€é“é¢˜æµ…è¯´ JavaScript çš„äº‹ä»¶å¾ªç¯</a>ã€‚</p><p>å›å½’æ­£ä¼ ï¼Œ</p><p>â€‹å½“å‘èµ·ä¸€ä¸ª<code>ajax</code>è¯·æ±‚ï¼Œè°ƒç”¨<code>send</code>æ–¹æ³•åï¼Œæµè§ˆå™¨å¼€å¯æ–°çš„çº¿ç¨‹ï¼Œå‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œ<code>js</code>ä¸»çº¿ç¨‹ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå½“å½“ajaxè¯·æ±‚è¢«æœåŠ¡å™¨å“åº”å¹¶ä¸”æ”¶åˆ°responseå, æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹æ•è·åˆ°äº†ajaxçš„å›è°ƒäº‹ä»¶ <code>onreadystatechange</code> (å½“ç„¶ä¹Ÿå¯èƒ½è§¦å‘<code>onload</code>, æˆ–è€… <code>onerror</code>ç­‰ç­‰) . è¯¥å›è°ƒäº‹ä»¶å¹¶æ²¡æœ‰è¢«ç«‹å³æ‰§è¡Œ, è€Œæ˜¯è¢«æ·»åŠ åˆ° <code>ä»»åŠ¡é˜Ÿåˆ—</code> çš„æœ«å°¾. ç›´åˆ°<code>js</code>å¼•æ“ç©ºé—²äº†, <code>ä»»åŠ¡é˜Ÿåˆ—</code> çš„ä»»åŠ¡æ‰è¢«æå‡ºæ¥, æŒ‰ç…§æ·»åŠ é¡ºåº, æŒ¨ä¸ªæ‰§è¡Œ, å½“ç„¶ä¹ŸåŒ…æ‹¬åˆšåˆšappendåˆ°é˜Ÿåˆ—æœ«å°¾çš„ <code>onreadystatechange</code> äº‹ä»¶ã€‚</p><h3 id="5-ajaxå’Œè·¨åŸŸ"><a class="header-anchor" href="#5-ajaxå’Œè·¨åŸŸ">Â¶</a>5.<code>ajax</code>å’Œè·¨åŸŸ</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">httpè®¿é—®æ§åˆ¶</a></p><p>é¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œè·¨åŸŸå°±æ˜¯å› ä¸ºæµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œé€ æˆçš„è®¿é—®é™åˆ¶ã€‚</p><p>å…³äºè§£å†³æ–¹æ¡ˆï¼Œçœ‹ä¸‹æ–‡ï¼š</p><p>[<a href="https://segmentfault.com/a/1190000012469713" target="_blank" rel="noopener">ajaxè·¨åŸŸï¼Œè¿™åº”è¯¥æ˜¯æœ€å…¨çš„è§£å†³æ–¹æ¡ˆäº†</a>](<a href="https://segmentfault.com/a/1190000012469713" target="_blank" rel="noopener">https://segmentfault.com/a/1190000012469713</a>)</p><h3 id="6-fetch-api"><a class="header-anchor" href="#6-fetch-api">Â¶</a>6.<code>fetch api</code></h3><p><code>Fetch API</code> æä¾›äº†ä¸€ä¸ªè·å–èµ„æºçš„æ¥å£ï¼ˆåŒ…æ‹¬è·¨åŸŸè¯·æ±‚ï¼‰ã€‚ä»»ä½•ä½¿ç”¨è¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a> çš„äººéƒ½èƒ½è½»æ¾ä¸Šæ‰‹ï¼Œä½†æ–°çš„<code>API</code>æä¾›äº†æ›´å¼ºå¤§å’Œçµæ´»çš„åŠŸèƒ½é›†ã€‚å¹¶ä¸”<code>fetch</code>æ”¯æŒ<code>promise</code>è¯­æ³•ã€‚</p><p>å…³äºpromiseç‚¹å‡»<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">Promiseå¯¹è±¡</a></p><p>å…³äº<code>fetch</code>ç‚¹å‡» <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" target="_blank" rel="noopener">Fetch API</a></p><p><code>Fetch</code>æœ‰ä¸ªç¼ºç‚¹æ˜¯ä¸æ”¯æŒè¿›åº¦ã€‚</p><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre><code class="language-javascript">// ç®€å•ä¾‹å­fetch('http://example.com/movies.json')  .then(function(response) {    return response.json();  })  .then(function(myJson) {    console.log(myJson);  });// æ”¯æŒè¯·æ±‚å‚æ•°function postData(url, data) {  // Default options are marked with *  return fetch(url, {    body: JSON.stringify(data), // must match 'Content-Type' header    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached    credentials: 'same-origin', // include, same-origin, *omit    headers: {      'user-agent': 'Mozilla/4.0 MDN Example',      'content-type': 'application/json'    },    method: 'POST', // *GET, POST, PUT, DELETE, etc.    mode: 'cors', // no-cors, cors, *same-origin    redirect: 'follow', // manual, *follow, error    referrer: 'no-referrer', // *client, no-referrer  })  .then(response =&gt; response.json()) // parses response to JSON}// é»˜è®¤æƒ…å†µä¸‹ï¼Œfetch ä¸ä¼šä»æœåŠ¡ç«¯å‘é€æˆ–æ¥æ”¶ä»»ä½• cookies,å¦‚æœç«™ç‚¹ä¾èµ–äºç”¨æˆ· sessionï¼Œåˆ™ä¼šå¯¼è‡´æœªç»è®¤è¯çš„è¯·æ±‚ï¼ˆè¦å‘é€ cookiesï¼Œå¿…é¡»è®¾ç½® credentials é€‰é¡¹ï¼‰fetch('https://example.com', {  credentials: 'include'  })</code></pre><p><code>tags</code>:è¦åœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­ä½¿ç”¨Fetchï¼Œå¯ä»¥ä½¿ç”¨<a href="https://github.com/github/fetch" target="_blank" rel="noopener">Fetch Polyfill</a>ã€‚</p><h3 id="7-axiosä½¿ç”¨"><a class="header-anchor" href="#7-axiosä½¿ç”¨">Â¶</a>7.<code>Axios</code>ä½¿ç”¨</h3><p><code>Axios</code> æ˜¯ä¸€ä¸ªåŸºäº <code>promise</code> çš„ <code>HTTP</code> åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ <code>node.js</code> ä¸­ã€‚å¦‚æœä½ ä¸æƒ³ä¸ºäº†ç®€å•çš„å‘é€<code>ajax</code>è¯·æ±‚å°±è¦ä¸‹è½½åºå¤§çš„<code>jquery</code>,åªæœ‰å‡ kbå¤§å°çš„<code>axios</code>æ˜¯å¾ˆå¥½çš„æ›¿ä»£äº§å“ã€‚</p><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre><code class="language-javascript">// æ‰§è¡Œget è¯·æ±‚// ä¸ºç»™å®š ID çš„ user åˆ›å»ºè¯·æ±‚axios.get('/user?ID=12345')  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });// å¯é€‰åœ°ï¼Œä¸Šé¢çš„è¯·æ±‚å¯ä»¥è¿™æ ·åšaxios.get('/user', {    params: {      ID: 12345    }  })  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });// æ‰§è¡Œpostaxios.post('/user', {    firstName: 'Fred',    lastName: 'Flintstone'  })  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });// æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚function getUserAccount() {  return axios.get('/user/12345');}function getUserPermissions() {  return axios.get('/user/12345/permissions');}axios.all([getUserAccount(), getUserPermissions()])  .then(axios.spread(function (acct, perms) {    // ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ  }));</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> html5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»£ç æ–°æ‰‹å®¹æ˜“çŠ¯çš„é”™è¯¯</title>
      <link href="/blog/posts/68922dda/"/>
      <url>/blog/posts/68922dda/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ€ä¹ˆåˆ¤æ–­ä»£ç è´¨é‡ï¼Ÿç­”æ¡ˆæ˜¯æ¥æ‰‹çš„äººå•ä½æ—¶é—´å†…éª‚è„è¯çš„é¢‘ç‡ï¼Œé¢‘ç‡è¶Šé«˜ï¼Œä»£ç è´¨é‡è¶Šä½ã€‚</p></blockquote><h3 id="æ— å°½çš„if"><a class="header-anchor" href="#æ— å°½çš„if">Â¶</a>æ— å°½çš„if</h3><p>è®°å¾—åˆšå‚åŠ å·¥ä½œçš„æ—¶å€™ï¼Œæœ‰å¹¸è§åˆ°äº†å‰åŒäº‹ç•™ä¸‹çš„<code>python web</code>é¡¹ç›®ï¼Œä»<code>svn</code>ä¸‹è½½ä¸‹æ¥ï¼Œåˆšç”¨<code>vscode</code>æ‰“å¼€å°±æ„Ÿè§‰ä¸€è‚¡ç‹éœ¸ä¹‹æ°”é“ºé¢è€Œæ¥ï¼Œ<code>.py</code>æ–‡ä»¶ä¸€è¡Œè¡Œ<code>if</code>,<code>elif</code>æ„æˆäº†ä¸€æ¡æ¡ç²¾ç¾çš„è´ç‘Ÿå°”æ›²çº¿ï¼Œ<code>if</code>é‡Œé¢æ˜¯<code>if</code>ï¼Œå†å¾€é‡Œé¢è¿˜æ˜¯<code>if</code>ï¼Œä¸€çœ¼çœ‹ä¸åˆ°å°½å¤´ï¼Œå½“æˆ‘è¦åŠ ä¸ªæ–°çš„é…ç½®å˜é‡ï¼Œè¿™ä¸ªè¯·æ±‚éƒ½è¦ç¿»è¿‡å±‚å±‚çš„<code>if</code>é«˜å±±ï¼Œè·¨è¿‡æ¡æ¡<code>elif</code>å¤§æµ·ï¼Œæœ€ç»ˆæ‰åˆ°è¾¾å®ƒåº”æœ‰çš„å¤„ç†å‡½æ•°ã€‚æ›´ä¸è¦è¯´åœ¨<code>python</code>é‡Œé¢ç›´æ¥æ‹¼æ¥<code>html</code>ä»£ç äº†ã€‚è¯´å¥½çš„é¢å‘å¯¹è±¡å‘¢ï¼Ÿè¯´å¥½çš„<code>mvc</code>å‘¢ï¼Ÿ</p><p>ç»ˆäºï¼Œåœ¨æ’é™¤è¿™äº›åˆ¤æ–­æ¡ä»¶ä¸ä¼šé€ æˆå½±å“åï¼Œæˆ‘æ¿€åŠ¨çš„æäº¤è¯·æ±‚ï¼Œåˆ·æ–°é¡µé¢ï¼Œçº³å°¼ï¼Ÿæ€ä¹ˆæ²¡æ•ˆæœå‘¢ï¼Ÿæ–¼æ˜¯æˆ‘æ‰“å¼€chromeæ§åˆ¶å°ï¼Œå‘ç°åœ¨æŸä¸ªå¼•å…¥çš„<code>js</code>æ–‡ä»¶é‡Œçš„ä¸èµ·çœ¼çš„å°è§’è½ï¼Œåˆæ˜¯ä¸€å±‚å±‚çš„<code>if</code> <code>else</code>ã€‚ã€‚ã€‚</p><img src="https://wxt.sinaimg.cn/mw1024/bca3c023gy1g2728tm7b2j20k00jyglx.jpg?tags=%5B%5D" width="20%" height="10%"><p>å­¤å†›å¥‹æˆ˜äº†ä¸€ä¸ªæœˆï¼Œé€æ­¥ç†æ¸…äº†å¤§éƒ¨åˆ†é€»è¾‘åï¼Œæ‰æ…¢æ…¢æ¶ˆç­äº†ä¸€éƒ¨åˆ†é¢æ¡ä»£ç ï¼Œåæ¥å‘¢ï¼Œä¼°è®¡è€æ¿ä¹Ÿå—ä¸äº†äº†ï¼Œç›´æ¥è®©é‡æ„äº†ã€‚</p><p>åˆ°å¤„éƒ½æ˜¯<code>if else</code>çš„ä»£ç å°±åƒä¸€ç›˜æ„å¤§åˆ©é¢æ¡ï¼Œç»•æ¥ç»•å»ï¼Œç†ä¸æ¸…å¤´ç»ªï¼Œé‚£ä¹ˆæ€ä¹ˆåˆç†åˆ©ç”¨<code>if</code>å‘¢ï¼Ÿå¥½çš„<code>if</code>çœ‹èµ·æ¥æ˜¯æ ‘çŠ¶ç»“æ„çš„ï¼Œè€Œä¸æ˜¯nä¸ªä¸ç›¸å¹²çš„<code>if</code>ç©¿æ’å¦å¤–ä¸€äº›<code>else</code>,å¥½çš„ç»“æ„å°±åƒä¸‹é¢,å®ƒä»¬æœ‰å¯èƒ½åµŒå¥—ï¼Œæœ‰å¤šå±‚çš„ç¼©è¿›,ä½†æ˜¯æŠŠé€»è¾‘å´æ•´ç†çš„æ¸…æ¸…æ¥šæ¥šã€‚</p><pre><code class="language-java">if (...) {  if (...) {    ...  } else {    ...  }} else if (...) {  ...} else {  ...}</code></pre><p>é‚£ä¹ˆï¼Œä»è¿™é‡Œå¯ä»¥å¾—åˆ°ä»€ä¹ˆç»“è®ºå‘¢ï¼Ÿ</p><ol><li>å†™åˆç†çš„<code>if</code>ç»“æ„ä»£ç ï¼Œåˆ†æ”¯å¤ªå¤š<a href="https://baike.baidu.com/item/%E8%A1%A8%E9%A9%B1%E5%8A%A8%E6%B3%95/15768054?fr=aladdin" target="_blank" rel="noopener">å¯ä»¥ç”¨è¡¨é©±åŠ¨æ³•æ¶ˆç­</a>ï¼Œæ¯”å¦‚ç”¨<code>map</code>å‚¨å­˜å¯¹åº”çš„<code>condition</code>å’Œ<code>process</code>ã€‚ç„¶åå°±å¯ä»¥ç”¨è¿™ä¸ªmapçš„keyç›´æ¥æ‹¿åˆ°è¦è¿›è¡Œçš„æ“ä½œäº†ã€‚</li><li>å¤§æ®µå¤ç”¨ä»£ç æŠ½è±¡ä¸ºå‡½æ•°ã€‚</li><li><code>oo</code>è¯­è¨€è¦å­¦ä¼šè¿ç”¨é¢å‘å¯¹è±¡ï¼Œå¯¹è±¡çš„ç»„åˆï¼Œç»§æ‰¿æ¥å®ç°å¤šæ€ï¼Œè¿™é‡Œéœ€è¦æœ‰ä¸€å®šçš„æŠ½è±¡èƒ½åŠ›ã€‚</li></ol><h3 id="ä¸ºåŒä¸€åŠŸèƒ½ç¼–å†™ä¸åŒçš„å‡½æ•°"><a class="header-anchor" href="#ä¸ºåŒä¸€åŠŸèƒ½ç¼–å†™ä¸åŒçš„å‡½æ•°">Â¶</a>ä¸ºåŒä¸€åŠŸèƒ½ç¼–å†™ä¸åŒçš„å‡½æ•°</h3><p>è¿™é‡Œæœ‰ä¸ªå¾ˆé‡è¦çš„<code>DRY</code>çš„åŸåˆ™ï¼Œå½“äº§å“ä¸€å¼€å§‹å¯èƒ½è¦æ±‚çƒ¹é¥ªä¸€åªé±¼ï¼Œä½†æ˜¯éœ€æ±‚æ—¶æ—¶åˆ»åˆ»éƒ½åœ¨å˜åŒ–ï¼Œåé¢å¯èƒ½åˆè¦æ²¹ç‚¸ä¸€å—é¸¡æ’ï¼Œå¦‚æœä¸€å¼€å§‹å°±å†™æˆ<code>cookingFish</code>çš„å‡½æ•°ï¼Œåœ¨ç¬¬äºŒæ¬¡å¢åŠ éœ€æ±‚çš„æ—¶å€™ï¼Œå°±è¦æœæ–­é‡æ„è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æŠŠé±¼å½“åšå‡½æ•°ä¼ è¿›å»ï¼Œè€Œä¸æ˜¯åœ¨copyä¸€ä»½ä»£ç å†™ä¸ª<code>cookingChicken</code>çš„å‡½æ•°ï¼Œå½“ç„¶æœ€å¥½ä¸€å¼€å§‹å°±å†™æˆ<code>cooking</code>å‡½æ•°ï¼Œä¸è¦ç‰¹æŒ‡å¤„ç†çš„é£Ÿæï¼Œè¿™æ ·æ‰èƒ½åœ¨åé¢æ›´å¥½çš„æ‰©å±•è¿™ä¸ªå‡½æ•°ã€‚</p><p>æ¡ˆä¾‹ï¼š</p><p>åœ¨å·¥ä½œè¿‡çš„åœ°æ–¹ï¼Œè§åˆ°çº¿ä¸Šçš„ä»£ç æœ‰å¤„ç†ä¸åŒè½¦å‹æ•°æ®çš„å‡½æ•°ï¼Œäºæ˜¯å‡ ä¹é€»è¾‘ä¸€æ ·çš„ä»£ç ï¼Œå‡ºç°äº†<code>processBmw</code>,<code>processBenz</code>,<code>processAudi</code>ç­‰ç­‰åå‡ ä¸ªå‡½æ•°ï¼ŒçœŸçš„è®©äººå¾ˆæ— å¥ˆã€‚</p><p>è¿™ä¸ªæ”¹è¿›æ–¹æ¡ˆå°±å¾ˆçµæ´»äº†ï¼Œå¯ä»¥æŠŠå“ç‰Œä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œæˆ–è€…ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå¯¹ä¸åŒçš„å“ç‰Œåšä¸åŒçš„å¤„ç†é€»è¾‘ã€‚</p><h3 id="å¯¹å¤æ‚åº¦å’Œæ€§èƒ½ä¸æ•æ„Ÿ"><a class="header-anchor" href="#å¯¹å¤æ‚åº¦å’Œæ€§èƒ½ä¸æ•æ„Ÿ">Â¶</a>å¯¹å¤æ‚åº¦å’Œæ€§èƒ½ä¸æ•æ„Ÿ</h3><p>ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜åœ¨ç¼–å†™æ¯ä¸€è¡Œä»£ç æ—¶éƒ½ä¼šæœ‰è‚Œè‚‰è®°å¿†ï¼Œå½“åœ¨<code>for</code> å¾ªç¯é‡Œé¢å¥—<code>for</code>å¾ªç¯çš„æ—¶å€™å°±ä¼šæ„è¯†åˆ°æˆæŒ‡æ•°ä¸Šå‡çš„æ—¶é—´å¤æ‚åº¦è€Œå»ä¼˜åŒ–ç®—æ³•ã€‚ç»éªŒä¸å¤Ÿä¸°å¯Œçš„ä¸€èˆ¬å‡­æ„Ÿè§‰å†™ä»£ç ï¼Œå¿½è§†å¤æ‚åº¦ï¼Œé€ æˆæ€§èƒ½åº•ä¸‹çš„ä»£ç ã€‚</p><p>è¿™é‡Œä¸€èˆ¬æƒ…å†µä¸‹é‡åˆ°æ€§èƒ½ç“¶é¢ˆéƒ½å¯ä»¥å»<code>review</code>ä»£ç ,æŸ¥çœ‹æ‰§è¡Œæ—¶é—´é•¿çš„éƒ¨åˆ†ï¼Œä¼˜åŒ–è¿‡æ¥ã€‚</p><p>ä½†æ˜¯è¿˜æ˜¯è¦å¯¹æ€§èƒ½æ•æ„Ÿä¸€ç‚¹ï¼Œæ¯å½“å†™éå†ï¼Œé€’å½’çš„æ—¶å€™ï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ª<code>io</code>æ“ä½œçš„æ—¶å€™ï¼Œå¤šæƒ³æƒ³æ€ä¹ˆæé«˜æ€§èƒ½ã€‚</p><p>æ¡ˆä¾‹ï¼š</p><p>çº¿ä¸Šä»£ç ï¼Œåœ¨éªŒè¯å®¢æˆ·æäº¤çš„excelæ–‡ä»¶çš„æ—¶å€™ï¼Œè¦éªŒè¯æ¯ä¸€è¡Œæ•°æ®åœ¨é…ç½®æ–‡ä»¶é‡Œçš„è§„åˆ™æ˜¯å¦åˆç†ï¼Œä¹‹å‰çš„åŒäº‹å†™äº†ä¸ªå‡½æ•°<code>check</code>ï¼Œä½†æ˜¯å´æŠŠè¯»å–é…ç½®æ–‡ä»¶çš„æ­¥éª¤ä¹Ÿå†™åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢ï¼Œå¯¼è‡´éå†å®¢æˆ·ä¸Šä¼ çš„æ•°æ®ï¼Œæ¯éªŒè¯ä¸€è¡Œæ•°æ®éƒ½è¦é‡æ–°è¯»å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ã€‚</p><h3 id="å‘½åä¸æ¸…æ™°"><a class="header-anchor" href="#å‘½åä¸æ¸…æ™°">Â¶</a>å‘½åä¸æ¸…æ™°</h3><p>è¿™é‡Œæä¾›ä¸€ä¸ªå¥½çš„å‘½åæ–¹æ¡ˆ</p><h5 id="æœ‰è¡¨ç°åŠ›çš„è¯"><a class="header-anchor" href="#æœ‰è¡¨ç°åŠ›çš„è¯">Â¶</a>æœ‰è¡¨ç°åŠ›çš„è¯</h5><table><thead><tr><th>å•è¯</th><th>æ›´å¤šé€‰æ‹©</th></tr></thead><tbody><tr><td>send</td><td>deliverã€dispatchã€announceã€distributeã€route</td></tr><tr><td>find</td><td>searchã€extractã€locateã€recover</td></tr><tr><td>start</td><td>launchã€createã€beginã€open</td></tr><tr><td>make</td><td>createã€set upã€buildã€generateã€composeã€addã€new</td></tr></tbody></table><h5 id="å¸¦å•ä½çš„å‘½å"><a class="header-anchor" href="#å¸¦å•ä½çš„å‘½å">Â¶</a>å¸¦å•ä½çš„å‘½å</h5><table><thead><tr><th>å‚æ•°æˆ–å˜é‡</th><th>å¸¦å•ä½çš„å‘½å</th></tr></thead><tbody><tr><td>start(int delay)</td><td>delay -&gt; delaySecs</td></tr><tr><td>createCache(int size)</td><td>size -&gt; sizeMB |</td></tr><tr><td>throttleDownload(float limit)</td><td>limit -&gt; maxKB</td></tr><tr><td>setHeight(float height)</td><td>height -&gt; heightCM |</td></tr></tbody></table><h5 id="ç»™åå­—é™„åŠ é¢å¤–ä¿¡æ¯"><a class="header-anchor" href="#ç»™åå­—é™„åŠ é¢å¤–ä¿¡æ¯">Â¶</a>ç»™åå­—é™„åŠ é¢å¤–ä¿¡æ¯</h5><table><thead><tr><th>åœºæ™¯</th><th>å˜é‡å</th><th>æ›´å¥½çš„åå­—</th></tr></thead><tbody><tr><td>ä¸€ä¸ªçº¯æ–‡æœ¬çš„å¯†ç ï¼Œéœ€è¦åŠ å¯†åæ‰å¯ä»¥ä½¿ç”¨</td><td>password</td><td>plaintextPassword |</td></tr><tr><td>ä¸€æ¡ç”¨æˆ·è¯„è®ºï¼Œéœ€è¦è½¬ä¹‰åæ˜¾ç¤º</td><td>comment</td><td>unescapedComment</td></tr><tr><td>å·²è½¬åŒ–ä¸ºUTF-8çš„HTMLæ–‡æœ¬</td><td>html</td><td>htmlUtf8</td></tr><tr><td>ä»¥&quot;URL&quot;æ–¹å¼ç¼–ç çš„è¾“å…¥æ•°æ®</td><td>data</td><td>dataURLEncode |</td></tr></tbody></table><h3 id="ä¸æ‡‚è¯­è¨€å†…ç½®å‡½æ•°"><a class="header-anchor" href="#ä¸æ‡‚è¯­è¨€å†…ç½®å‡½æ•°">Â¶</a>ä¸æ‡‚è¯­è¨€å†…ç½®å‡½æ•°</h3><p>è¿™ä¸ªå°±çº¯ç²¹æ˜¯ç»éªŒé—®é¢˜äº†ï¼Œä¸ä¼šç”¨è¯­è¨€å·²ç»ç»™çš„æ ‡å‡†å‡½æ•°ï¼Œååè‡ªå·±å†™é€»è¾‘ã€‚ä½†æ˜¯ï¼Œä¸ºå•¥æˆ‘é‡åˆ°é‚£ä¹ˆå¤šè¿™æ ·çš„ä»£ç ï¼Œéš¾é“æˆ‘æ¥æ‰‹çš„é¡¹ç›®çš„éƒ½æ˜¯ç¼–ç¨‹å°ç™½å†™çš„ï¼Ÿ</p><p>ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><p>å®ç°è‹±æ–‡è½¬æ¢å¤§å°å†™ï¼Œæˆ‘çœ‹åˆ°æ˜¯è¿™æ ·å†™çš„ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œéå†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ¯ä¸ªå­—ç¬¦ï¼Œå¦‚æœæ˜¯å°å†™çš„<code>a</code>å°±è½¬æ¢ä¸ºå¤§å†™çš„<code>A</code>,ä¾æ¬¡ç±»æ¨ï¼Œæˆ‘æ— Få¯è¯´äº†ã€‚</p><p>ä»æ•°æ®åº“æ‹¿åˆ°æ•°æ®åï¼Œè‡ªå·±æœ‰ç”¨å†’æ³¡æ’äº†é¡ºåºã€‚æ˜¯æœ‰å¤šå¿ƒç–¼æ•°æ®åº“ï¼Œèˆä¸å¾—è®©å®ƒå¤šå¹²ä¸€ç‚¹äº‹ã€‚</p><p>ç”¨<code>freemarker</code>åšæ¨¡æ¿ï¼Œè¾“å‡º<code>json</code>é‡Œé¢æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œé‡åˆ°ä¸€ä¸ªå°±<code>replace</code>ä¸€ä¸ªï¼Œæäº¤ä¸€æ¬¡ä»£ç ï¼Œå°±ä¸èƒ½çœ‹ä¸‹æ–‡æ¡£ç”¨<code>${string?JSON}</code>å—?</p><p>and so onâ€¦</p><p><img src="https://wx1.sinaimg.cn/mw1024/bca3c023gy1g272av1q13j207905d749.jpg" alt></p><p>æ‰€ä»¥ã€‚å¹³æ—¶æ²¡äº‹å¯ä»¥å¤šçœ‹çœ‹<code>api</code>ï¼Œé‡åˆ°é—®é¢˜å…ˆæ‰¾æ‰¾æœ‰æœ¨æœ‰å†…ç½®çš„æ ‡å‡†åº“æˆ–è€…å‡½æ•°ã€‚å…å¾—è‡ªå·±å†™ï¼Œæ•ˆç‡ä½è¿˜å¯èƒ½æœ‰bugã€‚</p><h3 id="è®¡ç®—æœºå’Œç½‘ç»œåŸºç¡€è–„å¼±"><a class="header-anchor" href="#è®¡ç®—æœºå’Œç½‘ç»œåŸºç¡€è–„å¼±">Â¶</a>è®¡ç®—æœºå’Œç½‘ç»œåŸºç¡€è–„å¼±</h3><p>æœ‰ä¸ªéœ€æ±‚æ˜¯åˆ¤æ–­<code>api</code>è¯·æ±‚æ¥æºæ˜¯è‡ªå·±çš„webäº§å“ç«¯è¿˜æ˜¯é€šè¿‡å…¶ä»–å¾®æœåŠ¡æ¥å£,æœ‰ä¸ªåŒäº‹æ˜¯è¿™æ ·å†™çš„ï¼Œåœ¨è‡ªå·±çš„webç«¯è°ƒç”¨æ¯ä¸ªæ¥å£çš„æ—¶å€™éƒ½åŠ äº†ä¸ª<code>FLAG</code>å‚æ•°ï¼Œç„¶ååœ¨æœåŠ¡ç«¯æ¯ä¸ªæ¥å£éƒ½åˆ¤æ–­ä¸‹<code>FLAG</code>,emmmmm~ä¸è¯´å•¥äº†ã€‚</p><p>åˆ¤æ–­äº‘æœåŠ¡æ¥å£ç«¯ï¼ˆhttpå’Œmqttåè®®ï¼‰æ˜¯å¦æ­£å¸¸ï¼Œä¸å®ç°å¿ƒè·³æ¥å£ï¼Œåè€Œåœ¨è‡ªå·±çš„ä»£ç é‡Œå»<code>ping</code>æœåŠ¡ç«¯ï¼Œè¿™é‡Œå°±æ˜¯ä¸æ‡‚ç½‘ç»œæ¶æ„ï¼Œå¦‚æœæ‡‚ç½‘ç»œä¸ƒå±‚åè®®ï¼Œå°±ä¸ä¼šæƒ³å½“ç„¶çš„æŠŠèƒ½<code>ping</code>é€šå½“åšæœåŠ¡æ­£å¸¸äº†ã€‚</p><p>è¿˜æœ‰ä¸€äº›è¯»å®Œæ–‡ä»¶ä¸é‡Šæ”¾èµ„æºçš„ï¼Œä¸æ˜ç™½å¼‚æ­¥å’ŒåŒæ­¥ï¼Œåœ¨åŒæ­¥çš„ä»£ç é‡Œå„ç§<code>sleep</code>çš„ã€‚</p><p>å…³äºè¿™éƒ¨åˆ†ï¼Œå¦‚æœæ˜¯ç§‘ç­å‡ºèº«çš„ï¼ŒåŸºç¡€ä¸ç‰¢å›ºçœŸçš„å¯¹ä¸èµ·è‡ªå·±åœ¨å­¦æ ¡èŠ±è´¹çš„æ—¶é—´å’Œç»å†ã€‚</p><h4 id="å…ˆå†™åˆ°è¿™å„¿å§"><a class="header-anchor" href="#å…ˆå†™åˆ°è¿™å„¿å§">Â¶</a>å…ˆå†™åˆ°è¿™å„¿å§ã€‚</h4><p><em>é¢˜å¤–è¯</em><br>è¯´äº†è¿™ä¹ˆå¤šå…¶å®è‡ªå·±ä½œä¸ºğŸ”æ—¶æœŸä¹Ÿå†™äº†ä¸å°‘å‘çˆ¹ä»£ç  ğŸ˜‰ï¼Œæ­£æ‰€è°“ é—®é“æœ‰å…ˆåï¼Œä¸€æ–¹é¢é‡åˆ°è¿™äº›ä»£ç è¦å†·é™ï¼Œæƒ³æƒ³æ€ä¹ˆæ”¹å–„ä¸€ç‚¹ç‚¹çš„é‡æ„ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿè¦è§„èŒƒç¼–ç ä¹ æƒ¯å’Œæå‡å§¿åŠ¿æ°´å¹³ï¼Œäº‰å–è®©è‡ªå·±çš„ä»£ç è¢«åˆ«äººè¯»çš„æ—¶å€™ï¼Œå°‘è¯´å‡ å¥&quot;wtf&quot;ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> åæ§½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>htmlå„ç§å¸ƒå±€æ•´ç†</title>
      <link href="/blog/posts/e08b183b/"/>
      <url>/blog/posts/e08b183b/</url>
      
        <content type="html"><![CDATA[<hr><h3 id="ä¼ ç»Ÿå¸ƒå±€"><a class="header-anchor" href="#ä¼ ç»Ÿå¸ƒå±€">Â¶</a>ä¼ ç»Ÿå¸ƒå±€</h3><blockquote><p>å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäº<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box_model" target="_blank" rel="noopener">ç›’çŠ¶æ¨¡å‹</a>ï¼Œä¾èµ– <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display" target="_blank" rel="noopener"><code>display</code></a> å±æ€§ + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position" target="_blank" rel="noopener"><code>position</code></a>å±æ€§ + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank" rel="noopener"><code>float</code></a>å±æ€§ã€‚</p></blockquote><h4 id="1-åœ£æ¯å¸ƒå±€"><a class="header-anchor" href="#1-åœ£æ¯å¸ƒå±€">Â¶</a>1.åœ£æ¯å¸ƒå±€</h4><p>åœ£æ¯å¸ƒå±€å°±æ˜¯ä¸¤è¾¹é¡¶å®½ï¼Œä¸­é—´è‡ªé€‚åº”çš„ä¸‰æ å¸ƒå±€ï¼Œä¸­é—´æ è¦æ”¾åœ¨æ–‡æ¡£æµå‰é¢ä¸€ä¼˜å…ˆæ¸²æŸ“ã€‚</p><p>å¾ˆå¤šç»å…¸çš„ç½‘é¡µå°±æ˜¯è¿™ç§å¸ƒå±€ï¼Œåº”ç”¨åœºæ™¯å¾ˆå¤šã€‚</p><p>å…ˆçœ‹ä¸‹åœ£æ¯å¸ƒå±€çš„<code>dom</code>ç»“æ„ã€‚</p><pre><code class="language-html">&lt;section class=&quot;layout grail&quot;&gt;        &lt;h1&gt;åœ£æ¯å¸ƒå±€&lt;/h1&gt;        &lt;article class=&quot;left-center-right&quot;&gt;            &lt;div class=&quot;center&quot;&gt;            &lt;/div&gt;            &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;            &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;        &lt;/article&gt;    &lt;/section&gt;</code></pre><p>æ³¨æ„ï¼š</p><p>è¿™é‡Œcenter è¦æ”¾åœ¨ç¬¬ä¸€ä¸ªï¼Œå°±æ˜¯ <strong>ä¸­ å·¦ å³</strong> çš„é¡ºåºã€‚</p><p>æŠŠâ€œä¸­â€æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œæ˜¯ä¸ºäº†é¦–å…ˆåŠ è½½â€œä¸­â€çš„å†…å®¹ï¼Œå¹¶ä¸”â€œä¸­â€çš„å®½åº¦æ˜¯è‡ªé€‚åº”çš„ã€‚</p><p>æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯ç»™å·¦å³è®¾ç½®è´Ÿçš„<code>margin-left</code>,<a href="http://www.cnblogs.com/2050/archive/2012/08/13/2636467.html#2457812" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹è´Ÿmarginçš„åŸç†</a>ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œç»™å·¦ è®¾ç½® <code>margin-left:-100%</code>.å³è®¾ç½®<code>margin-left:-300px;</code>å°±æŠŠè¿™ä¸¤ä¸ªbox æ‹‰å›ä¸Šä¸€è¡Œï¼Œç„¶åç»™çˆ¶å®¹å™¨è®¾ç½®å·¦å³<code>padding</code> ä¸º å·¦å³çš„å®½åº¦ï¼Œä¸è¿‡æ­¤æ—¶å·¦å³åˆå—åˆ°<code>padding</code>çš„å½±å“ï¼Œå‘ä¸­é—´æŒ¤ã€‚æ­¤æ—¶ç„¶åå†ç”¨ç›¸å¯¹å®šä½æŠŠå·¦å³è°ƒæ•´ä¸€ä¸‹ã€‚</p><p><code>css</code>ä»£ç å¦‚ä¸‹ã€‚</p><pre><code class="language-css">.layout.grail .left-center-right {            padding: 0 300px;            min-width: 304px;        }        .layout.grail .left-center-right&gt;div {            float: left;            min-height: 100px;        }        .layout.grail .center {            background: yellow;            width:100%;        }        .layout.grail .left {            margin-left: -100%;            width: 300px;            background: red;            position: relative;            left: -300px;        }        .layout.grail .right {            margin-left: -300px;            width: 300px;            background: blue;            position: relative;            right: -300px;        }</code></pre><p>ç¬¬äºŒç§æ˜¯ç»™çˆ¶å®¹å™¨è®¾ç½®</p><pre><code class="language-css"> overflow: hidden;    box-sizing: border-box;    padding: 0 300px 0 300px;</code></pre><p>åœ£æ¯å¸ƒå±€çš„ä¼˜ç‚¹ï¼š</p><ul><li>ä¸»åˆ—ç‡å…ˆåŠ è½½</li><li>å…è®¸ä»»ä½•åˆ—æ˜¯æœ€é«˜çš„</li><li>DOMç»“æ„ç®€å•</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å’ŒåŒé£ç¿¼å¸ƒå±€ç›¸æ¯”CSSæ ·å¼è¾ƒä¸ºå¤æ‚</li></ul><h4 id="2-åŒé£ç¿¼å¸ƒå±€"><a class="header-anchor" href="#2-åŒé£ç¿¼å¸ƒå±€">Â¶</a>2.<strong>åŒé£ç¿¼å¸ƒå±€</strong></h4><p>åŒé£ç¿¼å¸ƒå±€æºè‡ªæ·˜å®UEDï¼Œç¬¬ä¸€æ­¥å’Œåœ£æ¯å¸ƒå±€ä¸€æ ·ï¼Œæµ®åŠ¨ä¸‰åˆ—ï¼Œç»™å·¦å³ä¸¤åˆ—è®¾ç½®è´Ÿå¤–è¾¹è·ï¼›åŒæ ·ä¼šè¦†ç›–ä¸»åˆ—mainï¼ŒåŒé£ç¿¼å¸ƒå±€çš„åšæ³•æ˜¯åœ¨ä¸»åˆ—mainåé¢æ·»åŠ äº†ä¸€ä¸ªå®½åº¦ä¸º100%çš„divï¼Œå†è®¾ç½®ä¸»åˆ—mainçš„å·¦å³è¾¹è·ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="language-html">&lt;div class=&quot;wrap&quot;&gt;    &lt;div class=&quot;main&quot;&gt;&lt;/div&gt;&lt;/div&gt;    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;</code></pre><pre><code class="language-css">  .wrap{            float: left;            width: 100%;        }        .main{            height: 200px;            margin-left: 110px;            margin-right: 210px;            background-color: #01549b;        }        .left{            float: left;            height: 200px;            width: 100px;            margin-left: -100%;            background-color: #bd4147;        }        .right{            float: left;            height: 200px;            width: 200px;            margin-left: -200px;            background-color: #419641;        }</code></pre><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç‡å…ˆåŠ è½½ä¸»åˆ—main</li><li>å…è®¸ä»»ä½•åˆ—æ˜¯æœ€é«˜çš„</li><li>CSSæ ·å¼ç®€å•</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å’Œåœ£æ¯å¸ƒå±€ç›¸æ¯”DOMç»“æ„è¾ƒä¸ºå¤æ‚</li></ul><h3 id="ç°ä»£å¸ƒå±€"><a class="header-anchor" href="#ç°ä»£å¸ƒå±€">Â¶</a>ç°ä»£å¸ƒå±€</h3><h4 id="1-flex-å¸ƒå±€"><a class="header-anchor" href="#1-flex-å¸ƒå±€">Â¶</a>1.flex å¸ƒå±€</h4><p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</a>  é˜®ä¸€å³°è€å¸ˆç¿»è¯‘çš„css-tricksä¸Šçš„æ–‡ç« ã€‚</p><p>åŸæ–‡åœ°å€ï¼š<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="noopener">A Complete Guide to Flexbox</a></p><p>ç”¨<code>Flex</code>å¸ƒå±€å®ç°ä¸­é—´è‡ªé€‚åº”ï¼Œä¸¤è¾¹å›ºå®šï¼Œå¾ˆç®€å•ã€‚</p><p><code>dom</code>èŠ‚ç‚¹</p><pre><code class="language-html">   &lt;header&gt;        header    &lt;/header&gt;    &lt;div class=&quot;box&quot;&gt;        &lt;div class=&quot;left&quot;&gt;             left        &lt;/div&gt;        &lt;div class=&quot;center&quot;&gt;             center        &lt;/div&gt;        &lt;div class=&quot;right&quot;&gt;             right            &lt;/div&gt;    &lt;/div&gt;    &lt;footer&gt;        footer    &lt;/footer&gt;</code></pre><p><code>css</code>ä»£ç </p><pre><code class="language-css">.box {    display: flex;    justify-content: space-between;}.left {    width:300px;    background-color: aquamarine;}.center {    background-color: black;    width: 100%;}.right{    width: 350px;background-color: blue;}</code></pre><p>åªè¦æŠŠçˆ¶çš„<code>dom</code>çš„<code>display</code>è®¾ç½®ä¸º<code>flex</code>å°±è¡Œäº†ã€‚</p><h4 id="2-grid-å¸ƒå±€"><a class="header-anchor" href="#2-grid-å¸ƒå±€">Â¶</a>2.grid å¸ƒå±€</h4><p><a href="https://www.jianshu.com/p/d183265a8dad" target="_blank" rel="noopener">Gridå¸ƒå±€æŒ‡å—</a>  ä¹Ÿæ˜¯ä¸€ç¯‡è¯‘æ–‡ã€‚</p><p>åŸæ–‡åœ°å€ï¼š<a href="https://css-tricks.com/snippets/css/complete-guide-grid/#prop-grid-column-row" target="_blank" rel="noopener">A Complete Guide to Grid</a></p><pre><code class="language-html">&lt;div class='grid'&gt;    &lt;div class=&quot;left&quot;&gt;        left    &lt;/div&gt;    &lt;div class='rigth'&gt;        right    &lt;/div&gt;&lt;/div&gt;</code></pre><pre><code class="language-css">.grid{    display: grid;    grid-template-columns: 200px auto;    grid-template-rows: 200px;}</code></pre><hr><p>èµ„æ–™å’Œä»£ç æ¥æºï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/25353247" target="_blank" rel="noopener">åŒé£ç¿¼å¸ƒå±€ä¸åœ£æ¯å¸ƒå±€</a></p><p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> html5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typora-ä¸€ä¸ªæ‰€è§å³æ‰€å¾—çš„æ–‡æœ¬ç¼–è¾‘å™¨</title>
      <link href="/blog/posts/f7575273/"/>
      <url>/blog/posts/f7575273/</url>
      
        <content type="html"><![CDATA[<h3 id="typora"><a class="header-anchor" href="#typora">Â¶</a>typora</h3><p>â€‹å¾ˆä¹…å¾ˆä¹…ä¹‹å‰ï¼Œæˆ‘ä»¥ä¸º<code>word</code>å°±æ˜¯<strong>æ‰€è§å³æ‰€å¾—</strong>çš„æœ€ä½³æ–‡æ¡£ç¼–å†™å·¥å…·ï¼Œç›´åˆ°ç†¬å¤œå†™å®Œæ¯•ä¸šè®ºæ–‡ï¼Œç¬¬äº”æ¬¡è·‘åˆ°æ‰“å°åº—æ›´æ­£æ ¼å¼ï¼Œæ¥æ»¡è¶³èŒƒæ–‡çš„æ­£ç¡®æ ¼å¼ã€‚æˆ‘çªç„¶æ˜ç™½ï¼ŒåŒå­¦å’Œæˆ‘è¯´ï¼Œä¸€å®šè¦ç”¨<code>pdf</code>æ¥å†™è®ºæ–‡æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚</p><h4 id="1-çœŸæ­£çš„æ‰€è§å³æ‰€å¾—"><a class="header-anchor" href="#1-çœŸæ­£çš„æ‰€è§å³æ‰€å¾—">Â¶</a>1.çœŸæ­£çš„æ‰€è§å³æ‰€å¾—</h4><p>â€‹word åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œä¹Ÿå¾ˆå¤æ‚ï¼Œæ˜¯éå¸¸éå¸¸éå¸¸ï¼ˆé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼‰ä¸“ä¸šçš„æ–‡æœ¬å¤„ç†è½¯ä»¶ï¼Œä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬åªæƒ³å†™ç®€å•çš„æ–‡æ¡£ï¼Œä¸ºæ¯›åœ¨è‡ªå·±ç”µè„‘ä¸Šçœ‹åˆ°çš„å’Œæ‰“å°å‡ºæ¥çš„ä¸ä¸€æ ·å‘¢ï¼Ÿè¿™å°±å¾ˆä»¤äººçƒ¦æ¼ã€‚</p><p>â€‹ç”¨typora + markdownæ¥å†™ç®€å•çš„æ–‡æ¡£æ˜¯å†åˆé€‚ä¸è¿‡äº†ï¼Œä»¤äººæƒŠå¥‡çš„çš„æ˜¯ï¼Œtyporaä¸æƒ³å…¶ä»–çš„markdownè½¯ä»¶ï¼Œæœ‰ç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºä¸¤ä¸ªéƒ¨åˆ†ï¼Œå®ƒåªæœ‰ç¼–è¾‘åŒºï¼Œå½“ä½ è¾“å…¥ä¸€è¡Œmarkdownè¯­æ³•çš„æ–‡æœ¬ï¼ŒæŒ‰ä¸‹å›è½¦ï¼Œè¿™è¡Œæ–‡æœ¬ç«‹åˆ»è¢«æ¸²æŸ“æˆæœ€ç»ˆå±•ç¤ºçš„æ•ˆæœã€‚</p><p>æ¯”å¦‚è¾“å…¥</p><pre><code class="language-sh">### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜</code></pre><p>ç«‹åˆ»ç”Ÿæˆ</p><hr><h3 id="è¿™æ˜¯ä¸‰çº§æ ‡é¢˜"><a class="header-anchor" href="#è¿™æ˜¯ä¸‰çº§æ ‡é¢˜">Â¶</a>è¿™æ˜¯ä¸‰çº§æ ‡é¢˜</h3><hr><p>å…¶ä»–çš„åŒ…æ‹¬æœ‰åºï¼Œæ— åºåˆ—è¡¨ï¼Œè¡¨æ ¼ï¼Œå›¾ç‰‡ç­‰éƒ½æ˜¯è¿™æ ·ã€‚</p><h3 id="2-æ•°å­¦ä»£ç å—"><a class="header-anchor" href="#2-æ•°å­¦ä»£ç å—">Â¶</a>2.æ•°å­¦ä»£ç å—</h3><p>â€‹markdownä¸­çš„æ•°å­¦è¡¨è¾¾å¼çš„è¯­æ³•è·Ÿlatexçš„è¯­æ³•ä¸€æ ·ï¼Œä¹ æƒ¯latexè¯­æ³•çš„äººå¯ä»¥é‡‡ç”¨latexçš„è¯­æ³•ç¼–è¾‘æ•°å­¦è¡¨è¾¾å¼ï¼Œä½†æ˜¯å…¶ä¸­ä¹Ÿæœ‰ä¸€äº›ä¸åŒï¼Œæ¯”å¦‚ï¼š</p><p>æ•°å­¦è¡¨è¾¾å¼çš„æ–œä½“å­—å¼ºåˆ¶ä¸ºéæ–œä½“å­—ï¼š{\rm [éæ–œä½“å­—çš„å†…å®¹]}</p><p>å‡è®¾è¦å°†è¡¨è¾¾å¼ä¸­çš„andæ”¹ä¸ºéæ–œä½“å­—çš„æ ¼å¼ï¼Œå¯ä»¥é‡‡ç”¨ {\rm and}å®ç°ã€‚</p><p>è¡Œå†…å…¬å¼å¯ä»¥ç”¨$$åè¾“å…¥å›è½¦æ¥æ’å…¥æ•°å­¦å…¬å¼ã€‚ï¼ˆéœ€è¦åœ¨File-&gt;Preferencesä¸­å‹¾é€‰â€œInline mathâ€ï¼‰</p><p>è¿™ä¸ªæˆ‘ç°åœ¨ç”¨çš„å¾ˆå°‘ï¼Œåªæ¨å½“æ—¶å†å­¦æ ¡çš„æ—¶å€™ä¸çŸ¥é“è¿™ä¸ªç¥å™¨ï¼Œç”¨word å†™æ•°å­¦å…¬å¼æœ‰å¤šç—›è‹¦:ï¼Œç”¨è¿‡çš„éƒ½çŸ¥é“ã€‚</p><h3 id="3-ç»˜åˆ¶å›¾è¡¨"><a class="header-anchor" href="#3-ç»˜åˆ¶å›¾è¡¨">Â¶</a>3.ç»˜åˆ¶å›¾è¡¨</h3><p>ä»£ç æ¥è‡ªå®˜æ–¹ï¼š</p><pre><code class="language-shell">graph LRA[Hard edge] --&gt;B(Round edge)    B --&gt; C{Decision}    C --&gt;|One| D[Result one]    C --&gt;|Two| E[Result two]</code></pre><p>å¯¹åº”çš„æ˜¯ï¼š</p><p><img src="https://wx4.sinaimg.cn/mw1024/bca3c023gy1g1xv6mmn64j20wm07sjrb.jpg" alt="img"></p><p>æ­¤å¤–ï¼Œè¿˜æ”¯æŒæµç¨‹å›¾</p><pre><code class="language-shell">st=&gt;start: å¼€å§‹æ¡†op=&gt;operation: å¤„ç†æ¡†cond=&gt;condition: åˆ¤æ–­æ¡†(æ˜¯æˆ–å¦?)sub1=&gt;subroutine: å­æµç¨‹io=&gt;inputoutput: è¾“å…¥è¾“å‡ºæ¡†e=&gt;end: ç»“æŸæ¡†st-&gt;op-&gt;condcond(yes)-&gt;io-&gt;econd(no)-&gt;sub1(right)-&gt;op</code></pre><p><img src="https://wx3.sinaimg.cn/mw1024/bca3c023gy1g1xv6mhti3j20wn0hrjrk.jpg" alt="img"></p><p>UMLæ—¶åºå›¾ï¼š</p><pre><code class="language-/shell">å¯¹è±¡A-&gt;å¯¹è±¡B: å¯¹è±¡Bä½ å¥½å—?ï¼ˆè¯·æ±‚ï¼‰Note right of å¯¹è±¡B: å¯¹è±¡Bçš„æè¿°Note left of å¯¹è±¡A: å¯¹è±¡Açš„æè¿°(æç¤º)å¯¹è±¡B--&gt;å¯¹è±¡A: æˆ‘å¾ˆå¥½(å“åº”)å¯¹è±¡A-&gt;å¯¹è±¡B: ä½ çœŸçš„å¥½å—</code></pre><p><img src="https://wx1.sinaimg.cn/mw1024/bca3c023gy1g1xv6mhnjkj20wk0b60ss.jpg" alt="img"></p><p>æ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯å¾ˆå¼ºå¤§ã€‚</p><p>å­¦ä¼šä¸Šé¢ä¸‰ç§è¯­æ³•ï¼Œç®€å•ç”»å›¾å†ä¹Ÿä¸ç”¨wordï¼Œviso,è¿™äº›å å†…å­˜çš„ä¸“ä¸šè½¯ä»¶äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> typora </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScriptå¼‚æ­¥æ“ä½œè¿›åŒ–æ›²</title>
      <link href="/blog/posts/2b77e8c0/"/>
      <url>/blog/posts/2b77e8c0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è€ç”Ÿå¸¸è°ˆï¼Œä»Šå¤©ä¹Ÿæ¥æ€»ç»“ä¸‹<code>javaScript</code> ä¸­å¼‚æ­¥æ“ä½œçš„å†å²ã€‚</p></blockquote><p><em>TL;DR</em><br>1.åŒæ­¥å’Œå¼‚æ­¥åŒºåˆ«<br>2.ç»å…¸çš„å›è°ƒå‡½æ•°<br>3.ç®€å•æ˜äº†çš„<code>promise</code>å‡½æ•°<br>4.æœªæ¥çš„ä¸»æµ<code>async</code>å‡½æ•°</p><h2 id="åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«"><a class="header-anchor" href="#åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«">Â¶</a>åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«</h2><p>å¼‚æ­¥ç®€å•æ¥è¯´å°±æ˜¯åšä¸€ä»¶äº‹æ—¶ï¼Œåšåˆ°ä¸€åŠå¯èƒ½éœ€è¦ç­‰å¾…ç³»ç»Ÿæˆ–æœåŠ¡å¤„ç†ä¹‹åæ‰ä¼šå¾—åˆ°å“åº”å’Œç»“æœï¼Œæ­¤æ—¶å¯ä»¥è½¬å»åšå¦ä¸€ä»¶äº‹ï¼Œç­‰åˆ°è·å¾—å“åº”ä¹‹ååœ¨å»æ‰§è¡Œå‰©ä¸‹ä¸€åŠçš„äº‹æƒ…ã€‚åä¹‹åŒæ­¥å°±æ˜¯ä¸€ç›´ç­‰åˆ°å“åº”ç„¶åæ¥ç€åšäº‹ï¼Œä¸­é—´ä¸ä¼šè·³å»åšåˆ«çš„äº‹ã€‚</p><h2 id="å›è°ƒå‡½æ•°"><a class="header-anchor" href="#å›è°ƒå‡½æ•°">Â¶</a>å›è°ƒå‡½æ•°</h2><p>å°±æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„å›è°ƒå‡½æ•°ï¼Œæœ€å¼€å§‹ç”¨ajax çš„æ—¶å€™ï¼Œä¼šå†™å‡ºä¸‹é¢æ ·å­çš„ä»£ç ã€‚</p><pre><code class="language-javascript">$.ajax({    url:&quot;path&quot;,    success:function() {        // do something    }})</code></pre><p>ç¼ºç‚¹æ˜¯è¯»èµ·æ¥è·³è·ƒæ€§å¤ªå¼ºï¼Œä¸å¥½è·Ÿè¸ªä»£ç ã€‚è€Œä¸”åœ¨å‰åä¾èµ–çš„æ—¶å€™ï¼Œå½¢æˆå›è°ƒåœ°ç‹±ï¼Œä¸€æ—¦ä¿®æ”¹ä¸€ä¸ªï¼ŒåµŒå¥—çš„éƒ½è¦æ”¹ã€‚å¦å¤–å°±æ˜¯æ— æ³•åˆå¹¶å¤šä¸ªå¼‚æ­¥ä»£ç ã€‚</p><h2 id="ç®€å•æ˜äº†çš„promiseå‡½æ•°"><a class="header-anchor" href="#ç®€å•æ˜äº†çš„promiseå‡½æ•°">Â¶</a>ç®€å•æ˜äº†çš„<code>promise</code>å‡½æ•°</h2><p>Promiseçš„å¼•å…¥å°±è§£å†³äº†ä»¥ä¸Šè¿™äº›é—®é¢˜,é¦–å…ˆæ¥çœ‹ä¸‹Promiseçš„ç®€å•ç”¨æ³•ï¼š</p><pre><code class="language-javascript">let p = new Promise(function(resolve, reject) {    resolve(100)ï¼›})ï¼›p.then(function(data) {    console.log('data', data);}, function(err) {    console.log('err', err);});</code></pre><p>å¯ä»¥çœ‹åˆ°Promisé€šè¿‡thençš„é“¾å¼è°ƒç”¨è§£å†³äº†åµŒå¥—å›è°ƒçš„é—®é¢˜ï¼Œåœ¨ç”¨æ³•ä¸ŠPromiseçš„æ„é€ å‡½æ•°ä¼šæ¥å—ä¸€ä¸ªexecutorå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¸¦æœ‰ä¸¤ä¸ªå‚æ•°resolveå’Œrejectï¼Œä¸¤ä¸ªå‚æ•°èƒŒåå…¶å®å°±æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œè€Œé€šè¿‡Promiseæ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ä¼šä¿å­˜ä¸€ä¸ªstatuså±æ€§ï¼Œresolveä¼šåšçš„äº‹å°±æ˜¯å°†è¿™ä¸ªå±æ€§ä»åˆå§‹åŒ–çš„pendingè½¬ä¸ºresolvedï¼Œè€Œrejectåˆ™æ˜¯è½¬ä¸ºrejectedï¼ŒåŒæ—¶ä¸¤ä¸ªå‡½æ•°éƒ½å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä½œä¸ºä¹‹åthenä¸­å›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ï¼Œé‚£ä¹ˆåœ¨thenæ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æˆåŠŸresolvedä¹‹åä¼šè°ƒç”¨çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå°±æ˜¯rejectedçš„å›è°ƒå‡½æ•°ã€‚<br>è¿™é‡Œæ³¨æ„çš„æ˜¯ï¼Œåªè¦çŠ¶æ€è½¬ä¸ºresolvedæˆ–rejectedä¹‹ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œé‚£ä¹ˆå½“å‰promiseå¯¹è±¡å°±ä¸èƒ½å†è½¬å˜çŠ¶æ€äº†ã€‚ä¹‹åä¸ç®¡è°ƒresolveè¿˜æ˜¯rejectéƒ½ä¼šè¢«å¿½ç•¥ã€‚<br>å¦å¤–ï¼Œä¸Šé¢æ‰€è¯´Promiseæ˜¯å¯ä»¥æ”¯æŒé“¾å¼è°ƒç”¨çš„ï¼Œæ‰€ä»¥thenæ˜¯å¯ä»¥å¤šæ¬¡è°ƒç”¨çš„ï¼Œä½†æ˜¯å› ä¸ºåˆšåˆšæ‰€è¯´çŠ¶æ€ä¸å¯è½¬å˜çš„é—®é¢˜ï¼Œæ‰€ä»¥é“¾å¼è°ƒç”¨æ¯æ¬¡thenè¿”å›çš„ä¸æ˜¯å½“å‰çš„Promiseå¯¹è±¡è€Œæ˜¯ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œé‚£ä¹ˆç¬¬2æ¬¡thençš„çŠ¶æ€åˆæ˜¯æ€ä¹ˆå†³å®šçš„å‘¢ï¼Œç¬¬ä¸€æ¬¡thenä¸­æ— è®ºæ˜¯æˆåŠŸçš„å›è°ƒè¿˜æ˜¯å¤±è´¥çš„å›è°ƒåªè¦è¿”å›äº†ç»“æœå°±ä¼šèµ°ä¸‹ä¸€ä¸ªthenä¸­çš„æˆåŠŸï¼Œå¦‚æœæœ‰é”™è¯¯èµ°ä¸‹ä¸€ä¸ªthençš„å¤±è´¥ã€‚</p><p>æ­¤å¤–ï¼Œ<code>promise</code> è¿˜æœ‰ï¼š</p><pre><code class="language-javascript">Promise.all()Promise.race()Promise.resolve()Promise.reject()</code></pre><p>è¿™äº›api<br><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">Promise å¯¹è±¡</a>ã€‚</p><p>å…³äºpromiseçš„å®ç°ï¼Œå¯ä»¥çœ‹ä¸‹PromiseA+çš„åŸåˆ™ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°ï¼š</p><!-- Get UTF-8 Size (ANSI C) --><!-- Begin --><script src="https://gist.github.com/x1nes/5fad2985f43f235ed59702b805a7d824.js"></script><!-- End --><h2 id="async-await"><a class="header-anchor" href="#async-await">Â¶</a>async+await</h2><p>async+awaitå°±æ˜¯ç›®å‰ä¸ºè‡³ï¼Œå¼‚æ­¥çš„æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŒæ—¶è§£å†³äº†<br>å…¶å®ï¼Œå®ƒæ˜¯<code>Generator</code>å‡½æ•°çš„è¯­æ³•ç³–ï¼Œä¹‹åæˆ‘ä¼šå•ç‹¬å†™ä¸€ç¯‡åšæ–‡ä»‹ç»<code>Generator</code>å‡½æ•°å’Œå®ƒçš„å¼‚æ­¥ç”¨æ³•ã€‚<br>å›è°ƒåœ°ç‹±<br>å¹¶å‘æ‰§è¡Œå¼‚æ­¥ï¼Œåœ¨åŒä¸€æ—¶åˆ»åŒæ­¥è¿”å›ç»“æœ Promise.all<br>è¿”å›å€¼çš„é—®é¢˜<br>å¯ä»¥å®ç°ä»£ç çš„try/catch;</p><pre><code class="language-javascript">let bluebird = require('bluebird');let fs = require('fs');let read = bluebird.promisify(fs.readFile);// ç”¨asyncæ¥ä¿®é¥°å‡½æ•°ï¼Œaysncéœ€è¦é…await, awaitåªèƒ½æ¥promise// asyncå’Œawait(è¯­æ³•ç³–) === co + generatorasync function r() {    try{        let content1 = await read('./2.promise/100.txt', 'utf8');        let content2 = await read(content1, 'utf8');        return content2;    } catch(e) { // å¦‚æœå‡ºé”™ä¼šcatch        console.log('err', e)    }}// asyncå‡½æ•°è¿”å›çš„æ˜¯promiser().then(function(data) {    console.log('flag', data);}, function(err) {    console.log(err);`})</code></pre><p>æ­¤å¤–ï¼Œè¿˜æœ‰Generator å®ç°çš„ï¼Œåˆ©ç”¨<code>co</code>åº“å®ç° nextæ–¹æ³•åµŒå¥—å–å€¼æ‰§è¡Œï¼Œæœ¬äººå¾ˆå°‘ç”¨åˆ°ï¼Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚<br>å¯ä»¥çœ‹<a href="http://es6.ruanyifeng.com/#docs/generator-async" target="_blank" rel="noopener">Generator å‡½æ•°çš„å¼‚æ­¥åº”ç”¨</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
            <tag> promise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jså˜é‡æå‡çš„åŸç†</title>
      <link href="/blog/posts/97277281/"/>
      <url>/blog/posts/97277281/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ–°ç‰ˆçš„es6é‡Œé¢ï¼ŒåŠ å…¥äº†å—çº§ä½œç”¨åŸŸ<code>let</code>,ç®—æ˜¯è§£å†³äº†é•¿ä¹…ä»¥æ¥javascriptçš„å˜é‡æå‡é—®é¢˜ã€‚æ²¡æœ‰<code>let</code>ä¹‹å‰ï¼Œå˜é‡åªæœ‰å‡½æ•°å†…çš„ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼ˆå…¶å®å…¨å±€ä¹Ÿæ˜¯åœ¨<code>window</code>è¿™ä¸ªå¯¹è±¡ä¸‹çš„ï¼‰ï¼Œä¸€æ–¹é¢å¦‚æœå¿˜è®°åŠ ä¸Š<code>var</code>,ä½œç”¨åŸŸå°±ä¼šæå‡ï¼Œå¦ä¸€æ–¹é¢ï¼Œå¯¹å˜é‡æå‡ä¸€çŸ¥åŠè§£ï¼Œå¯¼è‡´å˜é‡å…ˆè®¡ç®—ï¼Œå†èµ‹å€¼ï¼Œä¼šé€ æˆéš¾ä»¥é¢„æ–™çš„é—®é¢˜ã€‚</p></blockquote><h2 id="jså¼•æ“çš„æ–¹å¼"><a class="header-anchor" href="#jså¼•æ“çš„æ–¹å¼">Â¶</a>JSå¼•æ“çš„æ–¹å¼</h2><p>å› ä¸ºjavaScriptæ˜¯è„šæœ¬è¯­è¨€ï¼Œè¿è¡Œåœ¨JSè™šæ‹Ÿæœºé‡Œé¢ï¼Œå› æ­¤ï¼Œéå¸¸æœ‰å¿…è¦äº†è§£ä¸€ä¸‹JSå¼•æ“æ‰§è¡ŒJSä»£ç çš„è¿‡ç¨‹ã€‚<br>JSå¼•æ“çš„å·¥ä½œæ–¹å¼å°±æ˜¯ï¼š1ï¼Œè§£æï¼ˆç¼–è¯‘ï¼‰JSä»£ç ï¼Œè¿™æ—¶å€™ä¼šå£°æ˜æ‰€æœ‰çš„å˜é‡ï¼Œæ³¨æ„è¿™é‡Œæ²¡æœ‰å¯¹å˜é‡èµ‹å€¼ï¼›2ï¼Œè¿è¡Œï¼Œè¿è¡Œçš„æ—¶å€™ä¼šå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œå˜é‡çš„å£°æ˜è¯­å¥éƒ½ä¼šè¢«æå‡åˆ°ä»£ç çš„å¤´éƒ¨ï¼Œè¿™ä¸ªå°±æ˜¯å˜é‡æå‡ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="language-javascript">console.log(a);var a = 10;</code></pre><p>è¿è¡Œç»“æœæ˜¯ï¼š</p><pre><code class="language-javascript">undefined;</code></pre><p>å› ä¸ºå˜é‡æå‡åæ˜¯è¿™æ ·çš„ï¼š</p><pre><code class="language-javascript">var a ;console.log(a);a = 10;</code></pre><p>å®é™…ä¸Šè¿è¡Œçš„æ—¶å€™ï¼Œ<code>a</code>è¿˜æ²¡æœ‰è¢«èµ‹å€¼ã€‚</p><h2 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹"><a class="header-anchor" href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹">Â¶</a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h2><p>1.å˜é‡æå‡åªå¯¹varå‘½ä»¤å£°æ˜çš„å˜é‡æœ‰æ•ˆï¼Œå¦‚æœä¸€ä¸ªå˜é‡ä¸æ˜¯ç”¨varå‘½ä»¤å£°æ˜çš„ï¼Œå°±ä¸ä¼šå‘ç”Ÿå˜é‡æå‡ã€‚</p><pre><code class="language-javascript">console.log(aa);aa =1;  // ä¼šæŠ¥é”™</code></pre><p>2.functionä¹Ÿå¯ä»¥çœ‹ä¸ºå˜é‡ï¼Œä¼šå‘ç”Ÿæå‡ã€‚ä½†æ˜¯å¦‚æœæ˜¯èµ‹å€¼çš„å½¢å¼ï¼Œåˆ™ä¸ä¼š</p><pre><code class="language-javascript">function a(){}; // ä¼šæå‡var b = function(){}; // ä¸ä¼šæå‡ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯èµ‹å€¼è¯­å¥ï¼Œè¿è¡Œæ—¶ï¼Œbæ²¡æœ‰è¢«èµ‹å€¼ï¼Œå› æ­¤æ˜¯undefined</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›é¡¿æ³•æ±‚å¹³æ–¹æ ¹</title>
      <link href="/blog/posts/75cc5c0/"/>
      <url>/blog/posts/75cc5c0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ²‰ç§¯äº†å‡ å‘¨åçªç„¶æƒ³å‘ä¸ªåšæ–‡ï¼Œæ²¡å•¥ç‰¹åˆ«çš„ç†ç”±ï¼Œä»»æ€§ï¼è™½ç„¶è¿™ä¸ªç®—æ³•éå¸¸ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ç‚¹ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºè¦ç”¨lispå†™çš„ã€‚</p></blockquote><h2 id="æ€ä¹ˆæ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹"><a class="header-anchor" href="#æ€ä¹ˆæ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹">Â¶</a>æ€ä¹ˆæ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹</h2><p>å½“æåˆ°å¹³æ–¹æ ¹ï¼Œæˆ‘ä»¬å¿ƒé‡Œéƒ½å¾ˆæ¸…æ¥šè¿™ä¸ªæ¦‚å¿µï¼ŒAçš„å¹³æ–¹å¦‚æœç­‰äºBï¼Œé‚£ä¹ˆAå°±æ˜¯Bçš„å¹³æ–¹æ ¹ã€‚è®¡ç®—æœºæ˜¯æ€ä¹ˆè®¡ç®—å¹³æ–¹æ ¹å‘¢ï¼Ÿæœ€å¸¸ç”¨çš„å°±æ˜¯ç‰›é¡¿çš„é€æ­¥é€¼è¿‘æ³•ã€‚è¿™ä¸ªæ–¹æ³•å°±æ˜¯ï¼Œå¦‚æœå¯¹Xçš„å¹³æ–¹æ ¹çš„å€¼æœ‰ä¸€ä¸ªçŒœæµ‹Yï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡æ‰§è¡Œä¸€ä¸ªç®€å•çš„æ“ä½œå»å¾—åˆ°ä¸€ä¸ªæ›´å¥½çš„çŒœæµ‹ï¼šåªéœ€è¦æ±‚å‡ºYå’ŒX/Yçš„å¹³å‡å€¼ï¼Œç„¶åç»§ç»­è¿™ä¸€è®¡ç®—è¿‡ç¨‹ï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹Xçš„å¹³æ–¹æ ¹è¶Šæ¥è¶Šæ¥è¿‘çš„è¿‘ä¼¼å€¼ã€‚</p><h2 id="ä¸‹é¢å°±æ˜¯ä»£ç äº†"><a class="header-anchor" href="#ä¸‹é¢å°±æ˜¯ä»£ç äº†">Â¶</a>ä¸‹é¢å°±æ˜¯ä»£ç äº†ã€‚</h2><pre><code class="language-lisp">(define (abs x)  (if (&lt; x 0)       (- x)       x))(define (square x) (* x x))(define (average x y)(/ (+ x y) 2))(define (improve guess x) (average guess (/ x guess)))(define (good-enough? guess x)  (&lt; (abs (- (square guess) x)) 0.001))(define (sqrt-iter guess x)  (if (good-enough? guess x)      guess      (sqrt-iter (improve guess x) x)))(define (sqrt x)  (sqrt-iter 1.0 x))</code></pre><h2 id="å…³äºlisp"><a class="header-anchor" href="#å…³äºlisp">Â¶</a>å…³äºlisp</h2><p>lispçœŸçš„å’Œä¹‹å‰å†™è¿‡ä»»ä½•ä¸€ç§ç¼–ç¨‹è¯­è¨€éƒ½ä¸ä¸€æ ·ï¼Œå®ƒè¤ªå»äº†æ‰€æœ‰çš„ä¼ªè£…ï¼Œç›´ç™½çš„ç”¨è¿‘ä¼¼è¯­æ³•æ ‘çš„<code>s</code>è¡¨è¾¾å¼æ¥ç”Ÿæˆå„ç§é€»è¾‘ã€‚<br>å…³äºlispï¼Œå¯ä»¥çœ‹ä¸€ç¯‡æ–‡ç« <a href="http://www.yinwang.org/blog-cn/2013/03/26/lisp-dead-alive" target="_blank" rel="noopener">Lisp å·²æ­»ï¼ŒLisp ä¸‡å²ï¼</a>,å¦å¤–ï¼ŒçŸ¥åç§‘æ™®è¯»ç‰©ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ä¸­ä¹ŸèŠ±è´¹å¤§é¢çš„æ–‡å­—ä»‹ç»è¿™ä¸ªé™Œç”Ÿçš„è¯­è¨€ï¼Œæ›´ç»™å®ƒæ·»åŠ ä¸Šäº†ç¥ç§˜çš„è‰²å½©ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> lisp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»Šå¤©è®²è®²å­—ç¬¦ä¸²</title>
      <link href="/blog/posts/66f44841/"/>
      <url>/blog/posts/66f44841/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç¼–ç¨‹ä¸­ï¼Œå¾ˆå¸¸è§çš„ç¯èŠ‚å°±æ˜¯å¤„ç†å­—ç¬¦ä¸²ï¼Œä»Šå¤©ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦ä¸²å¤„ç†æŠ€å·§ã€‚</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²ï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²ï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²ï¼Ÿ</h2><p>å­—ç¬¦ä¸²æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­çš„æ¦‚å¿µï¼Œæˆ‘æ‰€æ¥è§¦åˆ°çš„æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä»æ¦‚å¿µä¸Šå°±æ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰é™åºåˆ—ã€‚åœ¨æˆ‘ä»¬ç¼–å†™ä»£ç æ—¶ï¼Œé€šå¸¸ä»¥ä¸²çš„æ•´ä½“ä½œä¸ºæ“ä½œå¯¹è±¡ï¼Œå¦‚ï¼šåœ¨ä¸²ä¸­æŸ¥æ‰¾æŸä¸ªå­ä¸²ã€æ±‚å–ä¸€ä¸ªå­ä¸²ã€åœ¨ä¸²çš„æŸä¸ªä½ç½®ä¸Šæ’å…¥ä¸€ä¸ªå­ä¸²ä»¥åŠåˆ é™¤ä¸€ä¸ªå­ä¸²ç­‰ã€‚æ³¨ï¼šå­ä¸²å°±æ˜¯é•¿åº¦å°äºæˆ–è€…ç­‰äºå¾…å¤„ç†å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><em>å­—ç¬¦ä¸²çš„é•¿åº¦</em>ï¼šå°½ç®¡å½¢å¼å­—ç¬¦ä¸²å¯ä»¥æœ‰ä»»æ„ï¼ˆä½†æœ‰é™ï¼‰çš„é•¿åº¦ï¼Œå®é™…è¯­è¨€çš„å­—ç¬¦ä¸²çš„é•¿åº¦ç»å¸¸è¢«é™åˆ¶åˆ°ä¸€ä¸ªäººå·¥æå¤§å€¼ã€‚ä¸€èˆ¬çš„è¯´ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å­—ç¬¦ä¸²æ•°æ®ç±»å‹ï¼šâ€œå®šé•¿å­—ç¬¦ä¸²â€ï¼Œå®ƒæœ‰å›ºå®šçš„æå¤§é•¿åº¦å¹¶ä¸”ä¸ç®¡æ˜¯å¦è¾¾åˆ°äº†è¿™ä¸ªæå¤§å€¼éƒ½ä½¿ç”¨åŒæ ·æ•°é‡çš„å†…å­˜ï¼›å’Œâ€œå˜é•¿å­—ç¬¦ä¸²â€ï¼Œå®ƒçš„é•¿åº¦ä¸æ˜¯ä¸“æ–­å›ºå®šçš„å¹¶ä¸”ä¾èµ–äºå®é™…çš„å¤§å°ä½¿ç”¨å¯å˜æ•°é‡çš„å†…å­˜ã€‚åœ¨ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸­çš„å¤šæ•°å­—ç¬¦ä¸²æ˜¯å˜é•¿å­—ç¬¦ä¸²ã€‚å°½ç®¡å«è¿™ä¸ªåå­—ï¼Œæ‰€æœ‰å˜é•¿å­—ç¬¦ä¸²è¿˜æ˜¯åœ¨é•¿åº¦ä¸Šæœ‰ä¸ªæé™ï¼Œä¸€èˆ¬çš„è¯´è¿™ä¸ªæé™åªä¾èµ–äºå¯è·å¾—çš„å†…å­˜çš„æ•°é‡ã€‚<br><em>å¸¸è§çš„å­—ç¬¦ä¸²æ“ä½œ</em>ï¼šè¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œåœ¨ä¸€ä¸ªé•¿å­—ç¬¦ä¸²ä¸­æœç´¢ä¸€ä¸ªå­ä¸²ï¼Œæ±‚å¾—å­ä¸²åœ¨é•¿å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œè½¬æ¢å¤§å°å†™ï¼Œå°†å­—ç¬¦ä¸²æŒ‰ç…§å­—ç¬¦åˆ†å‰²æˆæ•°ç»„ï¼ŒæŒ‰ç…§ä¸‹æ ‡åˆ†å‰²æˆè‹¥å¹²ä¸ªå­—ç¬¦ä¸²ã€‚</p><h2 id="å®ç°æ–¹å¼"><a class="header-anchor" href="#å®ç°æ–¹å¼">Â¶</a>å®ç°æ–¹å¼</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨javaé‡Œé¢å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»ï¼Œä¹Ÿå°±æ˜¯finalç±»ï¼Œä¸»è¦æ˜¯ä¸ºäº†å®‰å…¨æ€§ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ç”¨<code>String</code>ç±»å‹ä½œä¸º<code>hashmap</code>çš„<code>key</code>ï¼Œå¦‚æœ<code>String</code>æ˜¯å¯å˜çš„ç±»ï¼Œé‚£å°±å¾ˆå®¹æ˜“å‡ºç°ä¸€æ ·çš„<code>key</code>äº†ï¼Œå¦å¤–ï¼Œ<code>String</code><br>è¿™ç§ç»å¸¸ä½¿ç”¨çš„æ•°æ®ç±»å‹ï¼Œå°±åƒ<code>int</code>,<code>boolean</code>ä¸€æ ·ï¼Œè®¾è®¡æˆä¸å¯å˜çš„,ä¹Ÿæ˜¯åˆä¹æƒ…ç†ã€‚<br>æŸ¥çœ‹javaçš„<code>String</code>çš„æºä»£ç ï¼Œå°±å¯ä»¥çœ‹åˆ°</p><pre><code class="language-java">  public final class String      implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {      /** The value is used for character storage. */      private final char value[];</code></pre><p>è¿™é‡Œå¾ˆå…³é”®çš„åœ°æ–¹æ˜¯ç»„æˆå­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ç»„æ˜¯<code>private final</code> çš„ï¼Œè¿™æ ·å°±é˜»æ­¢äº†ä¿®æ”¹ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å€¼ã€‚sunå…¬å¸çš„å·¥ç¨‹å¸ˆè¿™æ ·åšï¼Œä¸»è¦è€ƒè™‘åˆ°äº†æˆ‘ä»¬ç»å¸¸ç”¨åˆ°<code>String</code>ï¼Œå¹²è„†è®¾è®¡ä¸ºä¸å¯å˜ï¼Œå…å¾—å‡ºé—®é¢˜ï¼Œå½“ç„¶ï¼Œè€ƒè™‘åˆ°æ€§èƒ½ï¼Œåˆè®¾è®¡äº†<code>StringBuilder</code>å’Œ<code>StringBuffer</code>è¿™ä¸¤ä¸ªå¯ä»¥å˜çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚</p><h2 id="å¸¸ç”¨ç®—æ³•"><a class="header-anchor" href="#å¸¸ç”¨ç®—æ³•">Â¶</a>å¸¸ç”¨ç®—æ³•</h2><p>1 ç®€å•ç²—æš´çš„åŒ¹é…ç®—æ³•â€”bfç®—æ³•<br>BFç®—æ³•(Brute-Forceï¼Œæœ€åŸºæœ¬çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•)ï¼Œbfç®—æ³•çš„æ€è·¯å¾ˆç®€å•ï¼Œå®šä¹‰ä¸¤ä¸ªç´¢å¼•ï¼Œiå’Œjï¼Œåˆ†åˆ«æ˜¯ä¸»ä¸²Tå’Œå­ä¸²Cæ­£åœ¨åšæ¯”è¾ƒçš„ä¸‹æ ‡ï¼Œiä»0å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœåˆ¤æ–­ç›¸ç­‰ï¼Œå°±æ¯”è¾ƒåç»­çš„å­—ç¬¦ï¼Œåç»­ä¸åŒ¹é…ï¼Œå°±ä»ä¸»ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼ŒçŸ¥é“ä¸»ä¸²é‡Œçš„æ¯ä¸ªå­—ç¬¦éƒ½ä¾æ¬¡å’Œå­ä¸²ç›¸ç­‰ã€‚</p><pre><code class="language-javascript">function bfSearch(sourceStr, searchStr) {  var i = 0,      j = 0;    while (i &lt; sourceStr.length) {        // ä¸¤å­—æ¯ç›¸ç­‰åˆ™ç»§ç»­          if (sourceStr.charAt(i) == searchStr.charAt(j)) {          i++;          j++;        } else { // ä¸¤å­—æ¯ä¸ç­‰åˆ™è§’æ ‡åé€€é‡æ–°å¼€å§‹åŒ¹é…            i = i - j + 1; // i å›é€€åˆ°ä¸Šæ¬¡åŒ¹é…é¦–ä½çš„ä¸‹ä¸€ä½            j = 0; // j å›é€€åˆ°å­ä¸²çš„é¦–ä½          }        if (j == searchStr.length) {          return i - j;        }    }    return -1}</code></pre><p>2 æ•ˆç‡é«˜çš„åŒ¹é…ç®—æ³•â€”KMPç®—æ³•</p><p>3 å›æ–‡ç®—æ³•</p><hr><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> string </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5åˆ°åº•æ˜¯å•¥ï¼Ÿ</title>
      <link href="/blog/posts/d374f967/"/>
      <url>/blog/posts/d374f967/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç°åœ¨æ‹›è˜å‰ç«¯ä¿¡æ¯ä¸ŠåŠ¨ä¸åŠ¨å°±æ˜¯ç†Ÿç»ƒæŒæ¡h5å¼€å‘ï¼Œæˆ‘æœ‰ç‚¹è´¹è§£ï¼Œh5åˆ°åº•æ˜¯å•¥ï¼Ÿè²Œä¼¼å¹³æ—¶ä¹Ÿæœ‰ç”¨åˆ°H5çš„æ–°æ ‡ç­¾å’ŒwebSocketç­‰æŠ€æœ¯ï¼Œè¿™æ ·ç®—æ˜¯æŒæ¡h5å¼€å‘äº†å—ï¼ŸæŸ¥æ‰¾èµ„æ–™åç®€å•ä»‹ç»ä¸‹è¿™ä¸ªå½“çº¢çš„æŠ€æœ¯ã€‚</p></blockquote><h2 id="html5ä»‹ç»ï¼š"><a class="header-anchor" href="#html5ä»‹ç»ï¼š">Â¶</a>html5ä»‹ç»ï¼š</h2><p>html5æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€çš„ç¬¬äº”ä»£ã€‚<br>ç‹­ä¹‰ä¸Šçš„HTML5ï¼š</p><ol><li>HTML4.0çš„å‡çº§ç‰ˆæœ¬</li><li>HTML5+CSS3+æ–°å¢JS API</li><li>W3Cåˆ¶å®šçš„å…³äºHTMLæŠ€æœ¯çº¦å®šçš„æ–°è§„èŒƒ</li></ol><p>å¹¿ä¹‰ä¸Šçš„HTML5ï¼š</p><ol><li>HTML5è¡Œä¸šçš„ä»£åè¯</li><li>è¡Œä¸šçš„æŠ€æœ¯æ ‡å‡†</li><li>å½“å‰æ–°æŠ€æœ¯çš„ä»£åè¯</li></ol><p>å…¶å®ï¼Œæœ‰äº›æ‹›è˜çš„è¦æ±‚ä¼šh5ï¼Œå°±æ˜¯ä¼šåšé‚£äº›å¾®ä¿¡æ‰«ç æ‰“å¼€çš„ç‚«é…·å®£ä¼ é¡µé¢ï¼Œæ¯”å¦‚æ´»åŠ¨é¡µé¢ï¼Œç¥ç¦è´ºå¡ä¹‹ç±»çš„ï¼Œå½“ç„¶ï¼Œè¿™äº›åªæ˜¯h5çš„ä¸€å°éƒ¨åˆ†å†…å®¹.h5åŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><ol><li>æ–°å¢æ ‡ç­¾ä»¥åŠå±æ€§ï¼›</li><li>CSS3çš„æ–°ç‰¹æ€§ï¼›</li><li>Canvasç»˜å›¾ï¼›</li><li>JavaScriptçš„æ–°å¢APIï¼ˆå¦‚é‡åŠ›æ„Ÿåº”ã€HTML5è§†éŸ³é¢‘ç­‰ï¼‰ï¼›</li><li>ç§»åŠ¨ç«¯ã€‚</li></ol><h2 id="æ–°ç‰¹æ€§ä»‹ç»ï¼š"><a class="header-anchor" href="#æ–°ç‰¹æ€§ä»‹ç»ï¼š">Â¶</a>æ–°ç‰¹æ€§ä»‹ç»ï¼š</h2><p>1.æ–°æ ‡ç­¾ï¼š<br><br>Html5æ–°å¢äº† 27 ä¸ªå…ƒç´ ï¼ŒåºŸå¼ƒäº† 16 ä¸ªå…ƒç´ ï¼Œæ ¹æ®ç°æœ‰çš„æ ‡å‡†è§„èŒƒï¼ŒæŠŠ HTML5 çš„å…ƒç´ æŒ‰ä¼˜å…ˆçº§å®šä¹‰ä¸ºç»“æ„æ€§å±æ€§ã€çº§å—æ€§å…ƒç´ ã€è¡Œå†…è¯­ä¹‰æ€§å…ƒç´ å’Œäº¤äº’æ€§å…ƒç´  4 å¤§ç±»ã€‚<br><br>ç»“æ„æ€§å…ƒç´ ä¸»è¦è´Ÿè´£webä¸Šä¸‹æ–‡ç»“æ„çš„å®šä¹‰ <br><br>sectionï¼šåœ¨ web é¡µé¢åº”ç”¨ä¸­ï¼Œè¯¥å…ƒç´ ä¹Ÿå¯ä»¥ç”¨äºåŒºåŸŸçš„ç« èŠ‚æè¿°ã€‚<br><br>headerï¼šé¡µé¢ä¸»ä½“ä¸Šçš„å¤´éƒ¨ï¼Œ header å…ƒç´ å¾€å¾€åœ¨ä¸€å¯¹ body å…ƒç´ ä¸­ã€‚<br><br>footerï¼šé¡µé¢çš„åº•éƒ¨ï¼ˆé¡µè„šï¼‰ï¼Œé€šå¸¸ä¼šæ ‡å‡ºç½‘ç«™çš„ç›¸å…³ä¿¡æ¯ã€‚<br><br>navï¼šä¸“é—¨ç”¨äºèœå•å¯¼èˆªã€é“¾æ¥å¯¼èˆªçš„å…ƒç´ ï¼Œæ˜¯ navigator çš„ç¼©å†™ã€‚<br><br>articleï¼šç”¨äºè¡¨ç°ä¸€ç¯‡æ–‡ç« çš„ä¸»ä½“å†…å®¹ï¼Œä¸€èˆ¬ä¸ºæ–‡å­—é›†ä¸­æ˜¾ç¤ºçš„åŒºåŸŸã€‚<br><br>çº§å—æ€§å…ƒç´ ä¸»è¦å®Œæˆwebé¡µé¢åŒºåŸŸçš„åˆ’åˆ†ï¼Œç¡®ä¿å†…å®¹çš„æœ‰æ•ˆåˆ†å‰²ã€‚<br><br>asideï¼šç”¨äºè¡¨è¾¾æ³¨è®°ã€è´´å£«ã€ä¾§æ ã€æ‘˜è¦ã€æ’å…¥çš„å¼•ç”¨ç­‰ä½œä¸ºè¡¥å……ä¸»ä½“çš„å†…å®¹ã€‚<br><br>figureï¼šæ˜¯å¯¹å¤šä¸ªå…ƒç´ è¿›è¡Œç»„åˆå¹¶å±•ç¤ºçš„å…ƒç´ ï¼Œé€šå¸¸ä¸ ficaption è”åˆä½¿ç”¨ã€‚<br><br>codeï¼šè¡¨ç¤ºä¸€æ®µä»£ç å—ã€‚<br><br>dialogï¼šç”¨äºè¡¨è¾¾äººä¸äººä¹‹é—´çš„å¯¹è¯ï¼Œè¯¥å…ƒç´ åŒ…å« dt å’Œ dd è¿™ä¸¤ä¸ªç»„åˆå…ƒç´ ï¼Œ dt ç”¨äºè¡¨ç¤ºè¯´è¯è€…ï¼Œè€Œ dd ç”¨æ¥è¡¨ç¤ºè¯´è¯å†…å®¹ã€‚<br><br>è¡Œå†…è¯­ä¹‰æ€§å…ƒç´ ä¸»è¦å®Œæˆwebé¡µé¢å…·ä½“å†…å®¹çš„å¼•ç”¨å’Œæè¿°ï¼Œæ˜¯ä¸°å¯Œå†…å®¹å±•ç¤ºçš„åŸºç¡€ã€‚<br><br>meterï¼šè¡¨ç¤ºç‰¹å®šèŒƒå›´å†…çš„æ•°å€¼ï¼Œå¯ç”¨äºå·¥èµ„ã€æ•°é‡ã€ç™¾åˆ†æ¯”ç­‰ã€‚<br><br>timeï¼šè¡¨ç¤ºæ—¶é—´å€¼ã€‚<br><br>progressï¼šç”¨æ¥è¡¨ç¤ºè¿›åº¦æ¡ï¼Œå¯é€šè¿‡å¯¹å…¶ max ã€ min ã€ step ç­‰å±æ€§è¿›è¡Œæ§åˆ¶ï¼Œå®Œæˆå¯¹è¿›åº¦çš„è¡¨ç¤ºå’Œç›‘äº‹ã€‚<br><br>videoï¼šè§†é¢‘å…ƒç´ ï¼Œç”¨äºæ”¯æŒå’Œå®ç°è§†é¢‘æ–‡ä»¶çš„ç›´æ¥æ’­æ”¾ï¼Œæ”¯æŒç¼“å†²é¢„è½½å’Œå¤šç§è§†é¢‘åª’ä½“æ ¼å¼ã€‚<br><br>audioï¼šéŸ³é¢‘å…ƒç´ ï¼Œç”¨äºæ”¯æŒå’Œå®ç°éŸ³é¢‘æ–‡ä»¶çš„ç›´æ¥æ’­æ”¾ï¼Œæ”¯æŒç¼“å†²é¢„è½½å’Œå¤šç§éŸ³é¢‘åª’ä½“æ ¼å¼ã€‚<br><br>äº¤äº’æ€§å…ƒç´ ä¸»è¦ç”¨äºåŠŸèƒ½æ€§çš„å†…å®¹è¡¨è¾¾ï¼Œä¼šæœ‰ä¸€å®šçš„å†…å®¹å’Œæ•°æ®çš„å…³è”ï¼Œæ˜¯å„ç§äº‹ä»¶çš„åŸºç¡€ã€‚<br><br>detailsï¼šç”¨æ¥è¡¨ç¤ºä¸€æ®µå…·ä½“çš„å†…å®¹ï¼Œä½†æ˜¯å†…å®¹é»˜è®¤å¯èƒ½ä¸æ˜¾ç¤ºï¼Œé€šè¿‡æŸç§æ‰‹æ®µï¼ˆå¦‚å•å‡»ï¼‰ä¸ legend äº¤äº’æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚<br><br>datagridï¼šç”¨æ¥æ§åˆ¶å®¢æˆ·ç«¯æ•°æ®ä¸æ˜¾ç¤ºï¼Œå¯ä»¥ç”±åŠ¨æ€è„šæœ¬åŠæ—¶æ›´æ–°ã€‚<br><br>menuï¼šä¸»è¦ç”¨äºäº¤äº’èœå•ï¼ˆæ›¾è¢«åºŸå¼ƒåˆè¢«é‡æ–°å¯ç”¨çš„å…ƒç´ ï¼‰ã€‚<br><br>commandï¼šç”¨æ¥å¤„ç†å‘½ä»¤æŒ‰é’®ã€‚<br><br><br><br>2.CSS3çš„æ–°ç‰¹æ€§ï¼›<br><br>CSS3å®ç°åœ†è§’ï¼ˆborder-radiusï¼‰ï¼Œé˜´å½±ï¼ˆbox-shadowï¼‰<br><br>å¯¹æ–‡å­—åŠ ç‰¹æ•ˆï¼ˆtext-shadowã€ï¼‰ï¼Œçº¿æ€§æ¸å˜ï¼ˆgradientï¼‰ï¼Œæ—‹è½¬ï¼ˆtransformï¼‰<br><br>transform:rotate(9deg) scale(0.85,0.90) translate(0px,-30px) skew(-9deg,0deg);// æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œç­‰ç­‰å˜æ¢<br><br>å¢åŠ äº†æ›´å¤šçš„CSSé€‰æ‹©å™¨  å¤šèƒŒæ™¯ rgba<br><br>åœ¨CSS3ä¸­å”¯ä¸€å¼•å…¥çš„ä¼ªå…ƒç´ æ˜¯ ::selection.<br><br>åª’ä½“æŸ¥è¯¢ï¼Œå¤šæ å¸ƒå±€ï¼Œå¼¹æ€§ç›’å­<br><br>border-image<br><br>css3åŠ¨ç”»<br></p><p>3.canvasç»˜å›¾ï¼š<br><br>Canvasæ˜¯HTML5æ–°å¢çš„ç»„ä»¶ï¼Œå®ƒå°±åƒä¸€å—å¹•å¸ƒï¼Œå¯ä»¥ç”¨JavaScriptåœ¨ä¸Šé¢ç»˜åˆ¶å„ç§å›¾è¡¨ã€åŠ¨ç”»ç­‰ã€‚<br><br>æ²¡æœ‰Canvasçš„å¹´ä»£ï¼Œç»˜å›¾åªèƒ½å€ŸåŠ©Flashæ’ä»¶å®ç°ï¼Œé¡µé¢ä¸å¾—ä¸ç”¨JavaScriptå’ŒFlashè¿›è¡Œäº¤äº’ã€‚æœ‰äº†Canvasï¼Œæˆ‘ä»¬å°±å†ä¹Ÿä¸éœ€è¦Flashäº†ï¼Œç›´æ¥ä½¿ç”¨JavaScriptå®Œæˆç»˜åˆ¶ã€‚<br></p><p>4.JavaScriptçš„æ–°å¢APIï¼š<br><br>requestAnimationFrame,ç›¸æ¯”äºsetInterval,æ€§èƒ½æ›´é«˜çš„åŠ¨ç”»å®ç°æ–¹æ³•ã€‚<br><br>Page Visibility api,é¡µé¢æ˜¯å¦è¢«éšè—ï¼Œæœ€å°åŒ–çš„apiæ¥å£ã€‚<br><br>Geolocation Api,åœ°ç†ä½ç½®ã€‚<br><br>File Api:æ–‡ä»¶æ“ä½œã€‚<br><br>web Worker:åå°è¿è¡Œjsä»£ç ï¼Œä¸ä¼šå½±å“é¡µé¢æ˜¾ç¤ºã€‚<br><br><br></p><p>5.ç§»åŠ¨ç«¯ï¼š<br><br>å€ŸåŠ©äºå“åº”å¼å¼€å‘ï¼Œå’Œæ›´å¼ºå¤§çš„jså¼•æ“ï¼Œä»¥åŠæ–°çš„csså®ç°ï¼Œè¯­ä¹‰åŒ–ï¼Œç°åœ¨ç½‘é¡µåœ¨ç§»åŠ¨ç«¯ä¹Ÿå¯ä»¥è¡¨ç°çš„æ›´å¥½äº†ã€‚<br></p><h2 id="åè®°"><a class="header-anchor" href="#åè®°">Â¶</a>åè®°</h2><p>å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œä¸œæ‹¼è¥¿å‡‘åˆæ”’äº†ä¸€ç¯‡ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº†è§£ä¸‹Three.js(äºŒ)</title>
      <link href="/blog/posts/bf5e5ce9/"/>
      <url>/blog/posts/bf5e5ce9/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸Šç¯‡è®²äº†Three.jså…¥é—¨ï¼Œä»‹ç»äº†three.jsçš„åŸºæœ¬ä¿¡æ¯çš„ä¸‰å¤§éƒ¨åˆ†ï¼ˆscene,renderer,cameraï¼‰,ç®—æ˜¯å¯¹Three.jsæœ‰äº†åŸºæœ¬çš„è®¤è¯†ã€‚è¿™ç¯‡æ¥å…·ä½“åˆ›å»ºä¸€äº›ä¸‰ç»´ç‰©ä½“ï¼Œå¹¶ç”¨requestAnimationframeåšä¸€ä¸ªå¯ä»¥åŠ¨çš„æ•ˆæœã€‚</p></blockquote><h2 id="ç”»ä¸€ä¸ªä¸‰ç»´åœºæ™¯"><a class="header-anchor" href="#ç”»ä¸€ä¸ªä¸‰ç»´åœºæ™¯">Â¶</a>ç”»ä¸€ä¸ªä¸‰ç»´åœºæ™¯</h2><p>ä¸»è¦ç”¨åˆ°äº†ä¸‹é¢è¿™äº›ä¸œè¥¿ã€‚</p><table><thead><tr><th>å¯¹è±¡</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td>Panel(å¹³é¢)</td><td style="text-align:center">ä½œä¸ºåœ°é¢çš„äºŒç»´çŸ©é˜µ</td></tr><tr><td>Cube(æ–¹å—)</td><td style="text-align:center">ä¸‰ç»´ç«‹æ–¹ä½“</td></tr><tr><td>Sphere(çƒä½“)</td><td style="text-align:center">ä¸‰ç»´çƒä½“</td></tr><tr><td>Camera(ç›¸æœº)</td><td style="text-align:center">ç›¸æœºå†³å®šä½ å¯ä»¥çœ‹åˆ°çš„ä¸œè¥¿</td></tr><tr><td>Axes(è½´)</td><td style="text-align:center">xï¼Œyï¼Œzä¸‰ä¸ªè½´</td></tr></tbody></table><p>ä»£ç å¦‚ä¸‹</p><pre><code class="language-javascript">var scene = new THREE.Scene();var camera = new THREE.PerspctiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);var renderer = new THREE.WebGLRender();renderer.setClearColorHex();renderer.setClearColor(new THREE.Color(0xEEEEEE));renderer.setSize(window.innerWIth,window.innerHeight);// åˆ›å»ºä¸€ä¸ªè½´var axes = new THREE.AxisHelper(20);scene.add(axes);// åˆ›å»ºä¸€ä¸ªå¹³é¢var planeGeometry = new THREE.PlaneGeometry(60,40);var planeMaterial = new THREE.MeshBasicMaterial({color: 0xcccccc});var plane = new THREE.Mesh(planeGeometry,planeMaterial);plane.rotation.x = -0.5 * Math.PI;plane.position.x = 15;plane.position.y = 0;plane.position.z = 0;scene.add(plane)// åˆ›å»ºä¸€ä¸ªæ–¹ä½“var cubeGeometry = new THREE.BoxGeometry(4, 4, 4);var cubeMaterial = new THREE.MeshBasicMaterial({color: 0xff0000, wireframe: true});var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);cube.position.x = -4;cube.position.y = 3;cube.position.z = 0;scene.add(cube);// åˆ›å»ºä¸€ä¸ªçƒä½“ wireframeæ˜¯æ˜¯å¦æ˜¾ç¤ºç½‘æ ¼ã€‚var sphereGeometry = new THREE.SphereGeometry(4, 20, 20);var sphereMaterial = new THREE.MeshBasicMaterial({color: 0x7777ff, wireframe: true});var sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);sphere.position.x = 20;sphere.position.y = 4;sphere.position.z = 2;scene.add(sphere);camera.position.x = -30;camera.position.y = 40;camera.position.z = 30;camera.lookAt(scene.position);document.getElementById(&quot;WebGL-output&quot;).appendChild(renderer.domElement);// å¼€å§‹æ¸²æŸ“renderer.render(scene, camera);</code></pre><p>è¿™é‡Œç”¨åˆ°äº†é€è§†ç›¸æœºï¼Œè¯¥ç±»å‹çš„ç›¸æœºä½¿ç”¨é€è§†çŸ©é˜µï¼Œä¹Ÿå°±æ˜¯äººçœ¼çœ‹åˆ°çš„è¿‘å¤§è¿œå°çš„æ•ˆæœï¼›</p><p>æ„é€ å‡½æ•°ï¼š<br>PerspectiveCamera(fov, aspect, near, far)<br>Fov â€“ ç›¸æœºçš„è§†é”¥ä½“çš„å‚ç›´è§†é‡è§’<br>Aspect â€“ ç›¸æœºè§†é”¥ä½“çš„é•¿å®½æ¯”<br>Near â€“ ç›¸æœºè§†é”¥ä½“çš„è¿‘å¹³é¢<br>Far â€“ ç›¸æœºè§†é”¥ä½“çš„è¿œå¹³é¢</p><p>å…³äºç›¸æœºçš„å…·ä½“ä¿¡æ¯ï¼Œä»¥åä¼šå•ç‹¬ç”¨ä¸€ç¯‡æ¥è®²ã€‚</p><h2 id="å…³äºåæ ‡"><a class="header-anchor" href="#å…³äºåæ ‡">Â¶</a>å…³äºåæ ‡</h2><p>three.jsç”¨çš„æ˜¯å³æ‰‹åæ ‡ç³»</p><p><img src="/img/yszbx.jpg" alt="å³æ‰‹åæ ‡ç³»"></p><p>AxisHelperæ˜¯ä¸€ä¸ªåæ ‡è½´å¯¹è±¡ï¼Œæ·»åŠ åˆ°åœºæ™¯ä¸­æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä¸–ç•Œåæ ‡ç³»çš„å…·ä½“ä½ç½®ã€‚</p><h2 id="åŠ ç‚¹åˆ«çš„ä¸œè¥¿"><a class="header-anchor" href="#åŠ ç‚¹åˆ«çš„ä¸œè¥¿">Â¶</a>åŠ ç‚¹åˆ«çš„ä¸œè¥¿</h2><p>ä¸Šé¢ç”Ÿæˆçš„åœºæ™¯æ˜¯ä¸æ˜¯æœ‰ç‚¹å•è°ƒå‘¢ï¼Ÿæˆ‘ä»¬è¿˜å¯ä»¥å†åŠ ç‚¹è°ƒæ–™ï¼Œæ¯”å¦‚~~~ç¯å…‰ä»€ä¹ˆçš„ã€‚</p><pre><code class="language-javaScript">var spotLight = new THREE.SpotLight(0xffffff);spotLight.position.set(-40, 60, -10);scene.add(spotLight);</code></pre><p>ä½†æ˜¯ï¼æ·»åŠ å…‰æºåä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿï¼ŒåŸæ¥ï¼ŒMeshBasicMaterial(åŸºç¡€æè´¨)åˆ›å»ºçš„ç‰©ä½“ä¸èƒ½åå°„å…‰æºã€‚æ‰€ä»¥æˆ‘ä»¬è¦æ”¹å˜è¿™äº›å¯¹è±¡çš„æè´¨ã€‚ç”¨MeshLambertMaterialæˆ–è€…MeshPhongMaterialã€‚è¿™ä¸‹å¥½äº†ï¼Œå¯ä»¥çœ‹åˆ°å…‰æºäº†ã€‚</p><p>ä½†æ˜¯*2ï¼æ€ä¹ˆæ²¡æœ‰å½±å­å‘¢ï¼ŸåŸæ¥ï¼Œæ¸²æŸ“é˜´å½±éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºã€‚é»˜è®¤ä¸‹ï¼ŒThree.jsä¸æ¸²æŸ“é˜´å½±ã€‚<br>éœ€è¦ï¼š</p><pre><code class="language-javaSCript">renderer.shadowMapEnabled = true;// ç‰©ä½“ä¹Ÿéœ€è¦è®¾ç½®æ¥å—é˜´å½±plane.receveShadow = true;cube.castShadow = true;sphere.castShadow = true;// ç¯ä¹Ÿéœ€è¦è®¾ç½®spotLight.castShadow = true;</code></pre><p>æ¥ä¸‹æ¥ï¼Œå°±è¦ç”¨åˆ°requestAnimationframeäº†ï¼Œè®©ä¸‰ç»´ç‰©ä½“åŠ¨èµ·æ¥ã€‚<br>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ã€‚setInterval(f,i),ä½†æ˜¯ï¼Œæµè§ˆå™¨åˆ·æ–°é‡ç»˜æ˜¯æœ‰å›ºå®šé—´éš”çš„ï¼Œä¸€èˆ¬æ˜¯16msï¼Œæ‰€ä»¥ä¸€èˆ¬è¿™ä¸ªå®šæ—¶ä»»åŠ¡ä¹Ÿä¼šè®¾ç½®ä¸ºè¿™ä¸ªé—´éš”ï¼Œä½†æ˜¯æœ‰äº›ä¸æ˜¯ï¼Œå°±å¯ä»¥ç”¨requestAnimationframeï¼Œå®ƒä¼šæ ¹æ®æµè§ˆå™¨åˆ·æ–°æ‰§è¡Œå‡½æ•°ã€‚</p><pre><code class="language-javascript">function renderScene() {    /**/    requestAnimationframe(renderScene);    renderer.render(scene,camera);}</code></pre><p>è¿™æ ·å°±å¯ä»¥ä¸åœçš„æ‰§è¡Œæ¸²æŸ“å‡½æ•°äº†ï¼Œå‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼Œåœ¨ä¸Šé¢æ³¨é‡Šçš„éƒ¨åˆ†åŠ ä¸Šä»£ç ï¼Œè®©ç‰©ä½“åŠ¨èµ·æ¥å§ã€‚</p><p>æ¯”å¦‚ï¼Œæ—‹è½¬æ–¹å—</p><pre><code class="language-javascript">cube.rotation.x +=0.02;cube.rotation.y +=0.02;</code></pre><p>å°tipsï¼š<br>å¦‚ä½•åœ¨é¡µé¢æ˜¾ç¤ºFPS<br>åœ¨é¡µé¢ä¸ŠåŠ div</p><pre><code class="language-html">&lt;div id=&quot;state&quot;&gt;&lt;div&gt;&lt;script&gt;var stats = initstate();function initstate() {    var stats = new Stats();    stats.setMOde(0);    stats.domElement.style.position = 'absolute';    stats.domElement.style.left = '0px';    stats.domElement.style.top = '0px';    document.getElementById(&quot;Stats-output&quot;).appendChild(stats.domElement);    return stats;}&lt;script&gt;</code></pre><p>ç„¶åï¼Œåœ¨renderé‡Œæ‰§è¡Œ<code>stats.update();</code> å°±OKäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
            <tag> webGl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº†è§£ä¸‹Three.js</title>
      <link href="/blog/posts/e3a8ed0a/"/>
      <url>/blog/posts/e3a8ed0a/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¹´åˆå°±æœ‰äº†å­¦ä¹ Three.JSçš„æƒ³æ³•ï¼Œä½†æ˜¯æ‹–å»¶ç—‡çŠ¯äº†ï¼Œä¸€ç›´åˆ°ç°åœ¨æ‰å¼€å¤´ã€‚ä¸ºå•¥è¦å­¦ä¹ Three.jså‘¢ï¼Ÿå› ä¸ºOpenGLå¤ªéš¾äº†ï¼ŒwebGlåŒç†ï¼Œä½œä¸ºwebGLçš„å°è£…ï¼ŒThree.jsåº”è¯¥ä¼šç®€å•ä¸€ç‚¹å§ã€‚å­¦ä¹ æ–°çš„ä¸œè¥¿æ€»æ˜¯ä»¤äººå…´å¥‹çš„ï¼Œå¤§å­¦çš„æ—¶å€™æ›¾ç»æœ‰openGLçš„è¯¾ç¨‹ï¼Œå¯æƒœå½“æ—¶å¯¹ç¼–ç¨‹ä¸æ„Ÿå…´è¶£ï¼Œå› è€Œé”™è¿‡äº†å¥½å¤šï¼Œè¿™æ¬¡ä¸€å®šä¸è¦åŠé€”è€ŒåºŸï¼Œç›®æ ‡æ˜¯ï¼šç”¨Three.jsä½œä¸€ä¸ªç®€å•çš„Html5æ¸¸æˆã€‚</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯webglï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯webglï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯webGLï¼Ÿ</h2><p>WebGLï¼ˆå…¨å†™ Web Graphics Library ï¼‰æ˜¯ä¸€ç§ 3D ç»˜å›¾æ ‡å‡†ï¼Œè¿™ç§ç»˜å›¾æŠ€æœ¯æ ‡å‡†å…è®¸æŠŠ JavaScript å’Œ OpenGL ES 2.0 ç»“åˆåœ¨ä¸€èµ·ï¼Œé€šè¿‡å¢åŠ  OpenGL ES 2.0 çš„ä¸€ä¸ª JavaScript ç»‘å®šï¼Œ WebGL å¯ä»¥ä¸º HTML5 Canvas æä¾›ç¡¬ä»¶ 3D åŠ é€Ÿæ¸²æŸ“ï¼Œè¿™æ · Web å¼€å‘äººå‘˜å°±å¯ä»¥å€ŸåŠ©ç³»ç»Ÿæ˜¾å¡æ¥åœ¨æµè§ˆå™¨é‡Œæ›´æµç•…åœ°å±•ç¤º 3D åœºæ™¯å’Œæ¨¡å‹äº†ï¼Œè¿˜èƒ½åˆ›å»ºå¤æ‚çš„å¯¼èˆªå’Œæ•°æ®è§†è§‰åŒ–ã€‚æ˜¾ç„¶ï¼Œ WebGL æŠ€æœ¯æ ‡å‡†å…å»äº†å¼€å‘ç½‘é¡µä¸“ç”¨æ¸²æŸ“æ’ä»¶çš„éº»çƒ¦ï¼Œå¯è¢«ç”¨äºåˆ›å»ºå…·æœ‰å¤æ‚ 3D ç»“æ„çš„ç½‘ç«™é¡µé¢ï¼Œç”šè‡³å¯ä»¥ç”¨æ¥è®¾è®¡ 3D ç½‘é¡µæ¸¸æˆç­‰ç­‰ã€‚ å…¶å®è¦æƒ³å¥½å¥½äº†è§£webGLï¼Œå»ºè®®è¿˜æ˜¯ä»OpenGLå¼€å§‹äº†è§£ã€‚å› ä¸ºWebGLçš„æŠ€æœ¯è§„èŒƒç»§æ‰¿è‡ªå…è´¹å’Œå¼€æºçš„OpenGLæ ‡å‡†ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œä½ å¯ä»¥ç”¨webGLåœ¨ç½‘é¡µä¸Šä¸å€ŸåŠ©ä»»ä½•æ’ä»¶åˆ›å»º3Då›¾å½¢äº†ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯three-jsï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯three-jsï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯Three.jsï¼Ÿ</h2><p>threejsæ˜¯ä¸€ä¸ªè®©ç”¨æˆ·é€šè¿‡javascriptå…¥æ‰‹è¿›å…¥æ­å»ºwebglé¡¹ç›®çš„ç±»åº“ã€‚ä¼—æ‰€å‘¨çŸ¥å­¦ä¹ webgléœ€è¦å›¾å½¢å­¦çŸ¥è¯†ï¼Œè€Œè¯­è¨€éœ€è¦é€šè¿‡jså’Œglslä¸¤ç§è¯­è¨€ã€‚å¦‚æœæˆ‘ä»¬ä¸é€šè¿‡threejsä½¿ç”¨webglåŠ¿å¿…é€ƒä¸è¿‡ä»¥ä¸Šè¿™äº›ä¸œè¥¿ï¼Œä½ å¿…é¡»å…¨é¢äº†è§£ç€è‰²å™¨è¯­æ³•å’Œè‡ªå·±ç¼–å†™é¡¶ç‚¹ç€è‰²ç‰‡å…ƒç€è‰²ï¼›ä½†ä½ ä½¿ç”¨äº†threejsæ˜¾ç„¶å¯ä»¥ä¾¿æ·çš„é€ƒè¿‡è¿™äº›å¯¹äºä¼ ç»Ÿjsä»ä¸šäººå‘˜æŒ‘æˆ˜çš„shaderç¼–å†™ã€‚  ----æ¥è‡ªé€¼ä¹<a href="https://www.zhihu.com/question/36367846?from=profile_question_card" target="_blank" rel="noopener">å¦‚ä½•ç³»ç»Ÿçš„å­¦ä¹ three.jsï¼Ÿ</a></p><h2 id="å…¥é—¨å®ä¾‹"><a class="header-anchor" href="#å…¥é—¨å®ä¾‹">Â¶</a>å…¥é—¨å®ä¾‹</h2><p>è·å–Three.jsä»£ç ï¼šgithubåœ°å€ <a href="https://github.com/mrdoob/three.js" target="_blank" rel="noopener">https://github.com/mrdoob/three.js</a></p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­<br>æ—¢ç„¶æ˜¯åœ¨webé‡Œçš„é¦–å…ˆè¦ä¸€ä¸ªhtmlæ–‡ä»¶</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;&lt;/title&gt;    &lt;style&gt;canvas { width: 100%; height: 100% }&lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;!--å¼•å…¥three.jsä»£ç --&gt;    &lt;script src=&quot;https://raw.github.com/mrdoob/three.js/master/build/three.js&quot;&gt;&lt;/script&gt;    &lt;!--å¼•å…¥äº‹ä¾‹ä»£ç --&gt;    &lt;script src=&quot;demo.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>ç„¶åæ˜¯jsä»£ç </p><pre><code class="language-javascript">        var scene = new THREE.Scene();                var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);                var renderer = new THREE.WebGLRenderer();                renderer.setSize(window.innerWidth, window.innerHeight);                document.body.appendChild(renderer.domElement);        var geometry = new THREE.CubeGeometry(1,1,1);        var material = new THREE.MeshBasicMaterial({color: 0x00ff00});        var cube = new THREE.Mesh(geometry, material);         scene.add(cube);        camera.position.z = 5;        function render() {            requestAnimationFrame(render);            cube.rotation.x += 0.1;            cube.rotation.y += 0.1;            renderer.render(scene, camera);        }        render();</code></pre><p>æ•ˆæœå°±æ˜¯å±å¹•é‡Œå‡ºç°äº†ä¸€ä¸ªç«‹æ–¹ä½“ã€‚ã€‚ã€‚</p><p>è™½ç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯å·²ç»åŒ…æ‹¬äº†three.jsåŸºæœ¬éœ€è¦çš„å¯¹è±¡äº†ã€‚<br>åˆ†åˆ«æ˜¯ï¼š<br><em>åœºæ™¯ï¼ˆsceneï¼‰ã€ç›¸æœºï¼ˆcameraï¼‰å’Œæ¸²æŸ“å™¨ï¼ˆrendererï¼‰</em><br>æœ‰äº†è¿™ä¸‰æ ·ï¼Œå°±å¯ä»¥æŠŠç‰©ä½“æ¸²æŸ“åˆ°ç½‘é¡µé‡Œäº†ã€‚å½“ç„¶è¿™åªæ˜¯ç®€å•çš„ä»‹ç»ï¼Œå…¶å®åœºæ™¯é‡Œè¿˜è¦æœ‰æ¨¡å‹ï¼Œå…‰æºï¼›ç›¸æœºè¿˜è¦æœ‰ä½ç½®ï¼ŒæŠ•å½±æ–¹å¼ï¼Œè§†çº¿ç­‰ï¼›ä½†æ˜¯ç°åœ¨å…ˆä¸ä»‹ç»ï¼Œä»¥åä¼šä¸€ä¸€è¯¦ç»†è¯´æ˜ã€‚</p><p>åœºæ™¯ï¼š<code>var scene = new THREE.Scene();</code><br>åœºæ™¯å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œä½ æƒ³åŠ ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œéƒ½æ˜¯åŠ åˆ°åœºæ™¯é‡Œé¢å»ã€‚æ¯”å¦‚åŠ å…¥ä¸€ä¸ªboxï¼Œè¿™ä¸ªboxå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ¨¡å‹ï¼Œæ¨¡å‹ç”±å‡ ä½•ä½“å’Œæè´¨æ„æˆ</p><pre><code class="language-javascript">var geometry = new THREE.CubeGeometry(1,1,1);//è¿™æ˜¯é›†åˆä½“var material = new THREE.MeshBasicMaterial({color: 0x00ff00});//è¿™æ˜¯æè´¨var cube = new THREE.Mesh(geometry, material); </code></pre><p>ç”¨è¿‡unity3Dçš„äººåº”è¯¥å¾ˆç†Ÿæ‚‰æè´¨äº†ã€‚</p><p>ç›¸æœºï¼š<code>var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);</code></p><p>è¿™æ˜¯åˆ›å»ºç›¸æœºï¼Œå¯ä»¥æŠŠç›¸æœºçœ‹ä½œæˆ‘ä»¬çœ¼ç›æ‰€åœ¨çš„ä½ç½®ã€‚åœºæ™¯åªæœ‰ä¸€ç§ï¼Œä½†æ˜¯ç›¸æœºå´åˆå¾ˆå¤šç§ã€‚å’Œç°å®ä¸­ä¸€æ ·ï¼Œä¸åŒçš„ç›¸æœºç¡®å®šäº†å‘ˆç›¸çš„å„ä¸ªæ–¹é¢ã€‚æ¯”å¦‚æœ‰çš„ç›¸æœºé€‚åˆäººåƒï¼Œæœ‰çš„ç›¸æœºé€‚åˆé£æ™¯ï¼Œä¸“ä¸šçš„æ‘„å½±å¸ˆæ ¹æ®å®é™…ç”¨é€”ä¸ä¸€æ ·ï¼Œé€‰æ‹©ä¸åŒçš„ç›¸æœºã€‚å¯¹ç¨‹åºå‘˜æ¥è¯´ï¼Œåªè¦è®¾ç½®ä¸åŒçš„ç›¸æœºå‚æ•°ï¼Œå°±èƒ½å¤Ÿè®©ç›¸æœºäº§ç”Ÿä¸ä¸€æ ·çš„æ•ˆæœã€‚ä¸Šé¢æˆ‘ä»¬ç”¨çš„æ˜¯é€è§†ç›¸æœºã€‚</p><p>æ¸²æŸ“å™¨ï¼š<code>var renderer = new THREE.WebGLRenderer();</code></p><p>æœ€åä¸€æ­¥å°±æ˜¯è®¾ç½®æ¸²æŸ“å™¨ï¼Œæ¸²æŸ“å™¨å†³å®šäº†æ¸²æŸ“çš„ç»“æœåº”è¯¥ç”»åœ¨é¡µé¢çš„ä»€ä¹ˆå…ƒç´ ä¸Šé¢ï¼Œå¹¶ä¸”ä»¥æ€æ ·çš„æ–¹å¼æ¥ç»˜åˆ¶ã€‚<br>æ¸²æŸ“æœ‰ä¸¤ç§æ–¹å¼ï¼šå®æ—¶æ¸²æŸ“å’Œç¦»çº¿æ¸²æŸ“ ã€‚</p><p>å®æ—¶æ¸²æŸ“ï¼šå°±æ˜¯éœ€è¦ä¸åœçš„å¯¹ç”»é¢è¿›è¡Œæ¸²æŸ“ï¼Œå³ä½¿ç”»é¢ä¸­ä»€ä¹ˆä¹Ÿæ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿéœ€è¦é‡æ–°æ¸²æŸ“ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªæ¸²æŸ“å¾ªç¯ï¼š</p><pre><code class="language-javascript">function render() {    cube.rotation.x += 0.1;    cube.rotation.y += 0.1;    renderer.render(scene, camera);    requestAnimationFrame(render);}</code></pre><p>å…¶ä¸­ä¸€ä¸ªé‡è¦çš„å‡½æ•°æ˜¯requestAnimationFrameï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯è®©æµè§ˆå™¨å»æ‰§è¡Œä¸€æ¬¡å‚æ•°ä¸­çš„å‡½æ•°ï¼Œè¿™æ ·é€šè¿‡ä¸Šé¢renderä¸­è°ƒç”¨requestAnimationFrame()å‡½æ•°ï¼ŒrequestAnimationFrame()å‡½æ•°åˆè®©rander()å†æ‰§è¡Œä¸€æ¬¡ï¼Œå°±å½¢æˆäº†æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„æ¸¸æˆå¾ªç¯äº†ã€‚</p><p>å‚è€ƒï¼š<br><a href="http://www.hewebgl.com/article/getarticle/50" target="_blank" rel="noopener">webGlä¸­æ–‡ç½‘</a></p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
            <tag> webGl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶å§”æ‰˜</title>
      <link href="/blog/posts/ae7587e9/"/>
      <url>/blog/posts/ae7587e9/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è‡ªä»æœ‰äº†javaScriptè¿™ä¸ªæµè§ˆå™¨ç«¯çš„è„šæœ¬è¯­è¨€ï¼Œç”¨æˆ·ä»¬ç»ˆäºå¯ä»¥å‘Šåˆ«å•è°ƒçš„å±•ç¤ºç½‘é¡µäº†ï¼ŒjavaScriptç»™ç½‘é¡µå¸¦æ¥äº†æ–°çš„ç”Ÿå‘½åŠ›ï¼Œç½‘é¡µå‰ç«¯ä»æ­¤å˜å¾—æœ‰è¶£èµ·æ¥ï¼Œæœ€ä¸»è¦çš„ï¼Œç½‘é¡µä¸Šçš„å…ƒç´ æœ‰äº†äº‹ä»¶è¿™ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å…³äºäº‹ä»¶ï¼Œå°±ä¸å¾—ä¸æäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶å§”æ‰˜è¿™ä¸¤ä¸ªå…³é”®çš„çŸ¥è¯†ç‚¹ã€‚</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿ</h2><p>JavaScriptä¸htmlä¹‹é—´çš„äº¤äº’å…¨éƒ¨éƒ½æ˜¯ç”±äº‹ä»¶å®ç°çš„ã€‚äº‹ä»¶å°±æ˜¯ä½ æ“ä½œé¼ æ ‡æˆ–è€…é”®ç›˜ï¼Œå¯¹ç½‘é¡µè¿›è¡Œäº¤äº’ï¼Œæ¯”å¦‚ä½ ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå°±è§¦å‘äº†ä¸€ä¸ª<code>onClick</code>äº‹ä»¶ï¼Œä½ æ”¹å˜inputèŠ‚ç‚¹å†…çš„<code>value</code>,å°±å‡ºå‘äº†<code>onChange</code>äº‹ä»¶ã€‚</p><h2 id="äº‹ä»¶æµå’Œäº‹ä»¶å†’æ³¡"><a class="header-anchor" href="#äº‹ä»¶æµå’Œäº‹ä»¶å†’æ³¡">Â¶</a>äº‹ä»¶æµå’Œäº‹ä»¶å†’æ³¡</h2><p>ä½ å¯ä»¥æŠŠç½‘é¡µæƒ³è±¡æˆå‡ ä¸ªåŒå¿ƒåœ†ï¼Œå½“ä½ ç‚¹å‡»æœ€ä¸­å¿ƒçš„åœ†çš„æ—¶å€™ï¼Œä¹Ÿç›¸å½“ä¸ç‚¹å‡»å¤–å±‚çš„å‡ ä¸ªåœ†äº†ï¼Œæ‰€ä»¥è¯´ï¼Œå½“ä½ ç‚¹å‡»é¡µé¢ä¸Šçš„ä¸€ä¸ªæŒ‰é’®ï¼Œå°±ç›¸å½“äºç‚¹å‡»äº†æ•´å¼ é¡µé¢ï¼Œä¼šè§¦å‘è¿™ä¸ªæŒ‰é’®çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹çš„clickäº‹ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯äº‹ä»¶æµã€‚ä½†æ˜¯å½“æ—¶ieå’Œå…¶ä»–çš„æµè§ˆå™¨ååè¦ä¸ä¸€æ ·ï¼Œieæ”¯æŒçš„æ˜¯å†’æ³¡æµï¼Œè€Œç½‘æ™¯æå‡ºçš„æ˜¯æ•è·æµï¼Œåæ¥ï¼Œåœ¨w3cç»„ç»‡çš„ç»Ÿä¸€ä¸‹ï¼Œjsæ”¯æŒå†’æ³¡æµå’Œæ•è·æµï¼Œä½†æ˜¯å‘¢ï¼ŒæŸäº›ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼ˆie6,ie7,ie8ï¼‰å´åªæ”¯æŒå†’æ³¡æµã€‚ç›´æ¥ç”¨onClickå°±æ˜¯åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ äº‹ä»¶ã€‚</p><pre><code>&lt;div in=&quot;outer&quot;&gt;    &lt;div id=&quot;inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;</code></pre><p>å¯¹äºäº‹ä»¶æ•è·æ¥è¯´ï¼Œæ˜¯ä»å¤–åˆ°å†…çš„ï¼Œç‚¹å‡»#innerçš„divï¼Œä¼šä»windowå¼€å§‹æ•è·ï¼Œç„¶åæ˜¯document,html,â€¦,ä¸€ç›´åˆ°#outerï¼Œå†åˆ°#innerã€‚<br>å¯¹äºäº‹ä»¶å†’æ³¡æ¥è¯´ï¼Œæ˜¯ä»å†…åˆ°å¤–çš„ï¼Œç‚¹å‡»#innerçš„divï¼Œä¼šä»#innerå¼€å§‹ï¼Œåˆ°#outerï¼Œâ€¦ï¼Œæœ€åæ˜¯windowã€‚</p><p>domäº‹ä»¶æµåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ<br>1.äº‹ä»¶æ•è·ã€‚<br>2.å¤„äºç›®æ ‡é˜¶æ®µã€‚<br>3.äº‹ä»¶å†’æ³¡ã€‚</p><p>å¯ä»¥åˆ†åˆ«ç»™domå…ƒç´ æ·»åŠ äº‹ä»¶æµäº‹ä»¶</p><pre><code>document.addEventListener('click',function(){            console.log('documentå¤„äºäº‹ä»¶æ•è·é˜¶æ®µ');        }, true);// trueæ˜¯æ•è·é˜¶æ®µï¼Œfalseæ˜¯å†’æ³¡é˜¶æ®µã€‚</code></pre><p>é—®é¢˜æ¥äº†ï¼Œå¦‚æœä¸æƒ³äº‹ä»¶å†’æ³¡æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ç‚¹å‡»å­èŠ‚ç‚¹ï¼Œä¸æƒ³è§¦å‘çˆ¶èŠ‚ç‚¹çš„äº‹ä»¶ã€‚å¯ä»¥è¿™æ ·åšï¼š</p><pre><code>stopPropagation() æ–¹æ³•ç»ˆæ­¢äº‹ä»¶åœ¨ä¼ æ’­è¿‡ç¨‹çš„æ•è·ã€ç›®æ ‡å¤„ç†æˆ–èµ·æ³¡é˜¶æ®µè¿›ä¸€æ­¥ä¼ æ’­ã€‚è°ƒç”¨è¯¥æ–¹æ³•åï¼Œè¯¥èŠ‚ç‚¹ä¸Šå¤„ç†è¯¥äº‹ä»¶çš„å¤„ç†ç¨‹åºå°†è¢«è°ƒç”¨ï¼Œäº‹ä»¶ä¸å†è¢«åˆ†æ´¾åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚</code></pre><h2 id="äº‹ä»¶å§”æ‰˜"><a class="header-anchor" href="#äº‹ä»¶å§”æ‰˜">Â¶</a>äº‹ä»¶å§”æ‰˜</h2><p>å…ˆè¯´ä¸‹eventå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šä½œä¸ºäº‹ä»¶çš„é»˜è®¤å‚æ•°ã€‚<br>apiï¼š</p><pre><code>bubblesè¿”å›å¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºäº‹ä»¶æ˜¯å¦æ˜¯èµ·æ³¡äº‹ä»¶ç±»å‹ã€‚cancelableè¿”å›å¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºäº‹ä»¶æ˜¯å¦å¯æ‹¥å¯å–æ¶ˆçš„é»˜è®¤åŠ¨ä½œã€‚currentTargetè¿”å›å…¶äº‹ä»¶ç›‘å¬å™¨è§¦å‘è¯¥äº‹ä»¶çš„å…ƒç´ ã€‚eventPhaseè¿”å›äº‹ä»¶ä¼ æ’­çš„å½“å‰é˜¶æ®µã€‚targetè¿”å›è§¦å‘æ­¤äº‹ä»¶çš„å…ƒç´ ï¼ˆäº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼‰ã€‚timeStampè¿”å›äº‹ä»¶ç”Ÿæˆçš„æ—¥æœŸå’Œæ—¶é—´ã€‚typeè¿”å›å½“å‰ Event å¯¹è±¡è¡¨ç¤ºçš„äº‹ä»¶çš„åç§°ã€‚</code></pre><p>ä¸ºå•¥è¦è¿›è¡Œäº‹ä»¶å§”æ‰˜ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“domæ“ä½œæ˜¯å¾ˆèŠ±è´¹æ—¶é—´çš„ã€‚ä¸domèŠ‚ç‚¹äº¤äº’ï¼Œè®¿é—®domèŠ‚ç‚¹ï¼Œéå¸¸å½±å“æ€§èƒ½ã€‚æ¯”å¦‚è¦ç»™<code>ul</code>ä¸‹çš„<code>li</code>éƒ½æ·»åŠ ä¸Šclickäº‹ä»¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•ï¼Œå†™ä¸ªforå¾ªç¯ï¼ŒæŒ¨ä¸ªclickå°±è¡Œäº†ï¼Œä½†æ˜¯è¿™æ ·è¦å¤šæ¬¡æ“çºµdomèŠ‚ç‚¹ã€‚åˆ©ç”¨äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼ŒæŠŠ<code>click</code>äº‹ä»¶ç»‘å®šåˆ°<code>ul</code>ä¸Šï¼Œå› ä¸ºäº‹ä»¶å†’æ³¡çš„å­˜åœ¨ï¼Œä¼šè§¦å‘<code>ul</code>çš„<code>click</code>äº‹ä»¶ï¼Œè€Œä¸”å°±ä¸€æ¬¡domæ“ä½œï¼Œé‚£æ€ä¹ˆåˆ¤æ–­ç‚¹å‡»çš„æ˜¯å“ªä¸€ä¸ªliå‘¢ï¼Ÿè¿™æ—¶å€™ä¸Šé¢çš„eventå¯¹è±¡å°±èµ·ä½œç”¨äº†ï¼Œeventå¯¹è±¡æä¾›äº†ä¸€ä¸ªå±æ€§å«targetï¼Œå¯ä»¥è¿”å›äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œæˆ‘ä»¬æˆä¸ºäº‹ä»¶æºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtargetå°±å¯ä»¥è¡¨ç¤ºä¸ºå½“å‰çš„äº‹ä»¶æ“ä½œçš„domï¼Œä½†æ˜¯ä¸æ˜¯çœŸæ­£æ“ä½œdomï¼Œå½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æœ‰å…¼å®¹æ€§çš„ï¼Œæ ‡å‡†æµè§ˆå™¨ç”¨ev.targetï¼ŒIEæµè§ˆå™¨ç”¨event.srcElementã€‚<br>è¿™æ—¶å€™æˆ‘ä»¬å°±æ‹¿åˆ°äº†å…·ä½“ç‚¹å‡»çš„domèŠ‚ç‚¹ï¼Œç„¶åç”¨nodeNameè·å–èŠ‚ç‚¹åï¼Œåœ¨å‡½æ•°å†…éƒ¨åˆ¤æ–­ä¸‹ï¼Œå°±å®ç°æŠŠdomæ“ä½œæ”¾åœ¨jsä»£ç å†…éƒ¨æ¥å®ç°äº†ã€‚<br>è€Œä¸”è¿™æ ·åšè¿˜æœ‰ä¸€ç‚¹å¥½å¤„å°±æ˜¯ï¼Œæ–°æ·»åŠ çš„<code>li</code>æ ‡ç­¾ä¸ä¼šç‚¹å‡»æ— æ•ˆï¼Œå¦‚æœç›´æ¥æŠŠäº‹ä»¶ç»‘å®šåœ¨<code>li</code>ä¸Šï¼Œæ¯æ·»åŠ <code>li</code>éƒ½è¦é‡æ–°ç»‘å®šäº‹ä»¶ã€‚</p><pre><code>&lt;ul id=&quot;ul&quot;&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;window.onload = function(){    ã€€ã€€var oUl = document.getElementById(&quot;ul&quot;);    ã€€ã€€oUl.onclick = function(ev){    ã€€ã€€ã€€ã€€var ev = ev || window.event;   ã€€ã€€ã€€ã€€var target = ev.target || ev.srcElement;        ã€€ã€€ã€€ã€€if(target.nodeName.toLowerCase() == 'li'){        ã€€ ã€€ã€€ã€€ã€€ã€€ã€€alert(123);ã€€ã€€ã€€ã€€ã€€ã€€ã€€  alert(target.innerHTML);ã€€ã€€ã€€ã€€}    ã€€ã€€}}</code></pre>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>reactç»„ä»¶ç¼–å†™éæœ€ä½³å®è·µ</title>
      <link href="/blog/posts/3705f364/"/>
      <url>/blog/posts/3705f364/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¦‚æœé—®æˆ‘2018å¹´æœ€æƒ³æŒæ¡çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Œç¬¬ä¸€ä¸ªæ˜¯webglï¼Œç¬¬äºŒä¸ªå°±æ˜¯react.jså…¨å®¶æ¡¶äº†ã€‚ä¹‹å‰ä¹Ÿå†™äº†ä¸€äº›demoï¼Œä¹Ÿä¸ç»æ„é—´æ€»ç»“äº†ä¸€äº›ä¸œè¥¿ï¼Œå¯èƒ½ä¸æ˜¯æœ€å¥½çš„å†™æ³•ï¼Œåœ¨è¿™é‡Œåšä¸€äº›è®°å½•ã€‚</p></blockquote><h2 id="è¯­æ³•ç¯‡"><a class="header-anchor" href="#è¯­æ³•ç¯‡">Â¶</a>è¯­æ³•ç¯‡</h2><p>1 çµæ´»ä½¿ç”¨ç®­å¤´å‡½æ•°<br>åœ¨ç»™ç»„ä»¶ç»‘å®šç±»ä¼¼<code>onClick</code>äº‹ä»¶çš„æ—¶å€™,ç»„ä»¶å†…å®šä¹‰çš„å‡½æ•°é‡Œé¢çš„thisåœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šå˜æˆå…¨å±€ï¼Œä½†æ˜¯es6é»˜è®¤ä¸¥æ ¼æ¨¡å¼ä¸å…è®¸å…¨å±€ï¼Œå› æ­¤ä¸€èˆ¬ä¼šç”¨<code>bind</code>å‡½æ•°ç»‘å®šthisï¼Œå½“ç„¶ï¼Œç”¨ç®­å¤´å‡½æ•°æ›´ç®€å•ï¼Œå› ä¸ºç®­å¤´å‡½æ•°ä¼šç»§æ‰¿ä¸Šä¸‹æ–‡çš„thisã€‚</p><p>2 å¤šç”¨ä¸‰ç›®è¡¨è¾¾å¼å’Œé€»è¾‘ç¬¦å·<br>å› ä¸ºjsxè¯­æ³•ä¸æ”¯æŒå†™ifè¯­å¥,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨ä¸‰ç›®è¡¨è¾¾å¼æ¥ä»£æ›¿<br><code>{a?&lt;A/&gt;:&lt;B/&gt;}</code><br>ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬åªç”¨åˆ¤æ–­ä¸€æ¬¡,ä¸éœ€è¦falseæƒ…å†µä¸‹åšå¤„ç†ï¼Œå¯ä»¥ç”¨é€»è¾‘ä¸<br><code>!!a&amp;&amp;&lt;A/&gt;</code></p><p>3 åˆ©ç”¨è§£æ„èµ‹å€¼è§£å†³propsè¿‡é•¿å¯¼è‡´çš„ä»£ç é‡è¿‡å¤§<br>es6 é‡Œé¢åœ¨èµ‹å€¼æ–°å¢åŠ äº†è§£æ„èµ‹å€¼çš„è¯­æ³•ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä¾‹å¦‚ï¼š<br><code>let [a, b, c] = [1, 2, 3];</code><br><code>let {a,b,c} = {4,5};\\ cçš„å€¼æ˜¯undefined</code><br>åœ¨ç»„ä»¶é‡Œé¢å¯ä»¥<br><code>const {id,name,title,time} = this.props</code><br>è¿™æ ·å¯ä»¥èŠ‚çº¦å¾ˆå¤šä»£ç ã€‚</p><p>4 ç”¨SFCï¼ˆStateless Functional Componentï¼‰ä»£æ›¿ä¸€èˆ¬çš„çº¯ç»„ä»¶çš„classå†™æ³•</p><p>sfcå°±æ˜¯è¿™æ ·çš„ä»£ç ï¼š</p><pre><code class="language-javascript">const _handleClick(suggestedUrl, onClick, event) =&gt; {  event.preventDefault();};const RelatedSearch = ({ relatedQueries, onClick }) =&gt;  &lt;section className=&quot;related-search-container&quot;&gt;    &lt;h1 className=&quot;related-search-title&quot;&gt;Related Searches:&lt;/h1&gt;    &lt;Layout x-small={2} small={3} medium={4} padded={true}&gt;      {relatedQueries.map((query, index) =&gt;        &lt;Link          className=&quot;related-search-link&quot;          onClick={(event) =&gt;            _handleClick(query.searchQuery, onClick, event)}          key={index}&gt;          {query.searchText}        &lt;/Link&gt;      )}    &lt;/Layout&gt;  &lt;/section&gt;export default RelatedSearch;</code></pre><p>å‚æ•°å°±æ˜¯propsï¼Œè¿™ç§å†™æ³•æ¯”ç”¨classå†™æ³•çœç•¥å¾ˆå¤šä¸œè¥¿ï¼Œæ²¡æœ‰æ„é€ å‡½æ•°ï¼Œç”¨ç®­å¤´å‡½æ•°ä»£æ›¿render(),å› ä¸ºç°åœ¨éƒ½ç”¨reduxç®¡ç†çŠ¶æ€ï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šçº¯ç»„ä»¶ï¼Œè¿™ç§å†™æ³•å¯ä»¥å‡å°‘ä»£ç é‡ã€‚</p><h2 id="æ€è·¯ç¯‡"><a class="header-anchor" href="#æ€è·¯ç¯‡">Â¶</a>æ€è·¯ç¯‡</h2><p>1 å…³äºstateå’Œpropsçš„åŒºåˆ«<br>props ï¼šä¸€èˆ¬ç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡ï¼Œåœ¨ç»„ä»¶ä¹‹é—´é€šä¿¡ä½¿ç”¨ã€‚<br>state :  ä¸€èˆ¬ç”¨äºç»„ä»¶å†…éƒ¨çš„çŠ¶æ€ç»´æŠ¤ï¼Œæ›´æ–°ç»„å»ºå†…éƒ¨çš„æ•°æ®ï¼ŒçŠ¶æ€ï¼Œæ›´æ–°å­ç»„ä»¶çš„propsç­‰ã€‚<br>æ‰€ä»¥å¦‚æœæ˜¯ç»„ä»¶æœ¬èº«çš„çŠ¶æ€,ä¸éœ€è¦ç”¨åˆ°çŠ¶æ€ç®¡ç†æ¯”å¦‚reduxï¼Œå°±ç”¨stateå°±è¡Œäº†ï¼›ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ç”¨propsçš„ã€‚</p><p>2 å°½é‡æ˜¯ç”¨çº¯ç»„ä»¶ï¼Œç»†åŒ–ç»„ä»¶ï¼Œæé«˜ç»„ä»¶å¤ç”¨<br>çŠ¶æ€ç”¨reduxå¤„ç†ï¼Œå› ä¸ºå½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå¦‚æœç»„ä»¶çš„ props å’Œ state éƒ½æ²¡å‘ç”Ÿæ”¹å˜ï¼Œrender æ–¹æ³•å°±ä¸ä¼šè§¦å‘ï¼Œçœå» Virtual DOM çš„ç”Ÿæˆå’Œæ¯”å¯¹è¿‡ç¨‹ï¼Œæ²¡çŠ¶æ€çš„ç»„ä»¶ä¼šæé«˜æ€§èƒ½ã€‚ç»†åŒ–ç»„ä»¶å¯ä»¥å¤šæ¬¡ä½¿ç”¨ä¸€ä¸ªç»„ä»¶ï¼Œå› ä¸ºreactå…¶å®å°±åƒå †ç§¯æœ¨ä¸€æ ·ï¼Œç»„ä»¶å°±æ˜¯æ¯ä¸€å—ç§¯æœ¨ï¼Œç§¯æœ¨è¶Šå°è¶Šçµæ´»ã€‚</p><p>3 reducerè¦çµæ´»<br>é¦–å…ˆè¯´ä¸€ç‚¹reduceræ˜¯å®ç°(state, action) -&gt; newStateçš„çº¯å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½æœ‰å¼‚æ­¥æ“ä½œï¼Œéœ€è¦å¼‚æ­¥çš„è¯<code>yarn add react-thunk</code>ï¼Œè¯·ï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–çš„ä¸­é—´ä»¶ï¼Œreduceræ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œæ¯”å¦‚æœ‰studentlistçš„reducerï¼Œå°±å¯ä»¥å†™ä¸ªstudentçš„å‡½æ•°ï¼Œå¤„ç†å•ä¸ªstudentçš„æ•°æ®ï¼Œåœ¨studentså‡½æ•°é‡Œæ¥å¤„ç†æ‰€æœ‰çš„studentçš„æ•°æ®ã€‚è¿™æ ·é¿å…å•ä¸ªreducerå¤ªé•¿ï¼Œé€»è¾‘æ··æ‚å¾ˆéš¾çœ‹çš„ã€‚reducerçš„ç¼–å†™æ¯”èµ·ç»„ä»¶æ¥è¯´è¦å¤æ‚ä¸€ç‚¹æˆ‘è§‰å¾—ï¼Œå†™æ³•ä¸Šä¹Ÿå¾ˆè€ƒéªŒjsæ°´å¹³ã€‚å…³äºreduceræœ‰æ–‡ç« å¯ä»¥å‚è€ƒ<a href="https://www.jianshu.com/p/938f8121ba0f" target="_blank" rel="noopener">Reducer æœ€ä½³å®è·µï¼ŒRedux å¼€å‘æœ€é‡è¦çš„éƒ¨åˆ†</a>ã€‚</p><p>æœªå®Œå¾…ç»­â€“è¿˜è¦è®²çš„æœ‰é«˜é˜¶ç»„ä»¶ï¼Œä¸­é—´ä»¶ï¼Œå¼‚æ­¥æ“ä½œç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ çœŸçš„ä¼šç”¨æœç´¢å¼•æ“å—ï¼Ÿ</title>
      <link href="/blog/posts/c475ea5/"/>
      <url>/blog/posts/c475ea5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¯å¤©,åœ°çƒä¸Šä¸åŒå›½å®¶çš„äººä»¬éƒ½ä¼šä½¿ç”¨åˆ°æœç´¢å¼•æ“,æˆ–è®¸ç”¨æ¥äº†è§£æ–°äº‹ç‰©,æˆ–è®¸ç”¨æ¥æŸ¥æ‰¾èµ„æ–™æ–‡ä»¶,å½“ç„¶ä¹Ÿæœ‰ç”¨æ¥ä¸‹è½½ç›—ç‰ˆç”µå½±æˆ–è€…æ¸¸æˆçš„ã€‚ç›¸ä¿¡è¯»è€…å¯èƒ½ä¼šå¯¹æœ¬ç¯‡æ ‡é¢˜ä¸å±‘ä¸€é¡¾,ç™¾åº¦ä¸€ä¸‹å˜›,è°ä¸ä¼šå•Šï¼Ÿä½†æ˜¯,é‚£äº›é«˜çº§çš„æœç´¢æŠ€å·§ä½ å´ä¸ä¸€å®šçŸ¥é“ã€‚</p></blockquote><h2 id="é€‰æ‹©åˆé€‚çš„æœç´¢å¼•æ“"><a class="header-anchor" href="#é€‰æ‹©åˆé€‚çš„æœç´¢å¼•æ“">Â¶</a>é€‰æ‹©åˆé€‚çš„æœç´¢å¼•æ“</h2><p>å…ˆè¯´ä¸€ä¸‹ä¸ºå•¥æˆ‘ä¸ç”¨ç™¾åº¦,ä¸å•å•æ˜¯å› ä¸ºâ€œé­æ³½è¥¿äº‹ä»¶â€,ä¸€å¼€å§‹æˆ‘ä¹Ÿä¼šä¾èµ–ç™¾åº¦çš„,è‡ªä»æˆ‘æ¥è§¦åˆ°googleå,æ…¢æ…¢çš„å°±ä¹ æƒ¯ç”¨googleäº†,ä¸ºä»€ä¹ˆä¸ç”¨ç™¾åº¦äº†å‘¢ï¼ŸåŸå› æœ‰ä¸€ä¸‹å‡ ç‚¹ï¼š<br>1.æœç´¢ç»“æœé˜‰å‰²ä¸¥é‡ï¼ˆæ„å»ºå’Œè°ç¤¾ä¼šå¿…è¦æ¡ä»¶,ä½ æ‡‚å¾—ï¼‰<br>2.å› ä¸ºâ€œgfwâ€çš„å­˜åœ¨,è¢«å¢™çš„ç½‘ç«™æœä¸å‡ºæ¥,å…¶ä¸­å¯èƒ½åŒ…æ‹¬ä¸€äº›æŠ€æœ¯ç«™ç‚¹<br>3.å¯¹æ´‹æ–‡çš„æ”¶å½•å¤ªå°‘äº†,ä¸å¾—ä¸æ‰¿è®¤,åœ¨æŠ€æœ¯ä¸Š,æ´‹æ–‡ç«™ç‚¹å¾€å¾€æ›´æ–°æ›´å…¨<br>4.ç™¾åº¦æœ¬èº«çš„å¼Šç«¯,çƒ‚çš„ä¸è¡Œçš„ç™¾åº¦çŸ¥é“,å‘äººçš„ç«ä»·æ’å</p><p>æ‰€ä»¥,æˆ‘å°±æŠ›å¼ƒç™¾åº¦,æ”¹ç”¨googleäº†,ä½†æ˜¯ä½ çŸ¥é“çš„,googleç°åœ¨åœ¨å¢™å†…æ— æ³•è®¿é—®,ä½†ä¹Ÿä¸æ˜¯æ¯«æ— åŠæ³•,åªè¦ä½ èŠ±è´¹ä¸€ç‚¹æ—¶é—´,å°±å¯ä»¥çªç ´&quot;gwf&quot;,æ‹¥æŠ±freedomäº†,å…·ä½“æ–¹æ³•ä¸åœ¨æœ¬æ–‡è®¨è®ºå†…å®¹é‡Œ,ä½†æ˜¯æˆ‘å¯ä»¥æè¿‡ä¸€äº›å…³é”®è¯----â€œèµ›é£â€,â€œtorâ€,â€œlanternâ€,â€œè‡ªç”±é—¨â€,â€œvpnâ€,å¤§éƒ¨åˆ†æˆ‘éƒ½ç”¨è¿‡,ç°åœ¨æ­£åœ¨ç”¨&quot;lantern&quot;,å¦‚æœä½ æœ‰éœ€æ±‚,å¯ä»¥ç”¨è¿™ä¸ªè½¯ä»¶,å…·ä½“å†…å®¹åœ¨å¦å¤–ä¸€ç¯‡åšæ–‡é‡Œæœ‰ã€‚</p><h2 id="æœç´¢æŠ€å·§"><a class="header-anchor" href="#æœç´¢æŠ€å·§">Â¶</a>æœç´¢æŠ€å·§</h2><p>æ—¢ç„¶è¯´åˆ°äº†google,å°±ä»‹ç»ä¸€ä¸‹å‡ ä¸ªå¸¸ç”¨çš„æœç´¢æŠ€å·§å§ï¼</p><p>1.å·§ç”¨â€œä¸â€å’Œâ€œæˆ–â€<br>â€œä¸â€å¾ˆç®€å•ï¼Œä½ è¾“å…¥å¤šä¸ªå…³é”®è¯,é»˜è®¤æƒ…å†µä¸‹,å°±æ˜¯ä¸çš„å…³ç³»ã€‚åªæœ‰ç½‘é¡µåŒæ—¶åŒ…å«è¿™äº›å…³é”®è¯,æ‰ä¼šè¢«æŠ“å–åˆ°ã€‚<br>â€œæˆ–â€ å°±æ˜¯åœ¨å…³é”®è¯ä¹‹é—´åŠ ä¸Šå¤§å†™çš„ORï¼Œæ¯”å¦‚ <code>å…³é”®è¯1 OR å…³é”®è¯2</code>è¿™æ ·åªè¦åŒ…å«ä»»ä¸€å…³é”®è¯,éƒ½å¯ä»¥è¢«æœç´¢åˆ°ã€‚</p><p>2.å…³é”®è¯æ’åˆ—<br>æ¯”å¦‚ä½ æƒ³æœç´¢ç¾å›½è‹¹æœ,ä½†æ˜¯å¯èƒ½ä¼šæœç´¢åˆ°ç½‘é¡µçš„å¼€å¤´æ˜¯ç¾å›½,ç»“å°¾æ˜¯è‹¹æœçš„é¡µé¢,å¾ˆæ˜æ˜¾,è¿™ä¸ªä¸æ˜¯ä½ çœŸæ­£è¦æŸ¥çš„ä¸œè¥¿ã€‚è¿™æ—¶å€™,ä½ ç”¨<code>&quot;ç¾å›½è‹¹æœ&quot;</code>,å°±èƒ½æœåˆ°çœŸæ­£çš„ç¾å›½è‹¹æœäº†ã€‚</p><p>3.google hacking<br>è¿™ä¸€éƒ¨åˆ†æ¯”è¾ƒå¤š,ä½†æ˜¯åŠŸèƒ½éå¸¸å¼ºå¤§ã€‚</p><ul><li>åªæœç´¢æŸä¸ªç½‘ç«™çš„å†…å®¹  <code>site:example.com</code> ï¼Œä¹Ÿå¯ä»¥site:.comï¼Œè¿™æ ·,å°±åªä¼šæœåˆ°.comåŸŸåçš„ç½‘ç«™äº†ã€‚</li><li>é™å®šæ–‡ä»¶æ ¼å¼  <code>å…³é”®è¯ filetype:[filetype]</code>,filetypeå¯ä»¥æ˜¯pdf,xlsx,docç­‰æ–‡ä»¶æ ¼å¼ã€‚</li><li>é™å®šæ ‡é¢˜å†…å®¹ <code>intitle:å…³é”®è¯</code>,è¿™æ ·,åªæœ‰æ ‡é¢˜é‡Œé¢å«å…³é”®è¯çš„æ‰ä¼šè¢«æœç´¢å‡ºæ¥ã€‚</li><li>é™å®šç½‘é¡µæ­£æ–‡ <code>intext:å…³é”®è¯</code>æˆ–è€…<code>allintext:å…³é”®è¯</code>,å…³é”®è¯åªæœ‰åœ¨ç½‘é¡µæ­£æ–‡ä¸­ã€‚</li><li>é™å®šç½‘é¡µurl <code>inurl:å…³é”®è¯</code>ï¼Œä¸¾ä¸ªæ —å­,<code>inurl:id=1</code>,å¾ˆå¤šphpç«™ç‚¹åœ¨è¿™é‡Œå¯ä»¥å°è¯•sqlæ³¨å…¥è„±åº“ã€‚<code>inurl:login</code>å¯ä»¥æ‰¾åˆ°ä¸€äº›åå°ç®¡ç†çš„ç™»å½•é¡µé¢ã€‚</li><li>æ¨¡ç³Šæœç´¢åŒä¹‰è¯ <code>~å…³é”®è¯</code>,googleå¯ä»¥æœåˆ°å…³é”®è¯çš„åŒä¹‰è¯çš„é¡µé¢ã€‚</li><li>é€šé…ç¬¦ <code>*</code> ä½ å¯ä»¥ç”¨æ˜Ÿå· * æŒ‡ä»£ä»»ä½•ä¸€ä¸ªè¯æ±‡ã€‚ä¹Ÿå¯ä»¥é…åˆä¸Šé¢çš„ç¬¬äºŒç‚¹<code>&quot;*å·å¸‚&quot;</code>,çŒœçŒœå¯ä»¥æœåˆ°å•¥ï¼Ÿ</li><li>æ’é™¤ <code>-</code>  ç´§æŒ¨ç€å…³é”®è¯ä¹‹å‰æ”¾å‡å·ï¼Œè¡¨ç¤ºæ’é™¤è¯¥å…³é”®è¯,æ¯”å¦‚ä½ æƒ³æœç´¢è‹¹æœ,ä½†ä¸æ˜¯è‹¹æœæ‰‹æœºå°±è¿™æ · <code>è‹¹æœ -æ‰‹æœº</code></li></ul><p>æ³¨æ„ï¼šä¸Šé¢è¿™äº›æŠ€å·§å¯ä»¥ç»„åˆä½¿ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•™ç»ƒ,æˆ‘æƒ³å­¦webSocket</title>
      <link href="/blog/posts/9ceb5dee/"/>
      <url>/blog/posts/9ceb5dee/</url>
      
        <content type="html"><![CDATA[<blockquote><p>html5é‡Œ,æˆ‘æœ€æ„Ÿå…´è¶£çš„ä¸¤ä¸ªéƒ¨åˆ†ä¸€ä¸ªæ˜¯canvas,å› ä¸ºå¯ä»¥å®ç°åœ¨é¡µé¢ä¸Šç”»ç”»,åŸºäºwebglçš„æŠ€æœ¯åœ¨æœªæ¥ç½‘é¡µæ¸¸æˆä¸Šä¸€å®šä¼šå¤§æ”¾å¼‚å½©,è€Œå¦å¤–ä¸€éƒ¨åˆ†,å°±æ˜¯webSocketäº†ã€‚<strong>ä½†æ˜¯å®é™…ä¸Šwebsocketä¸æ˜¯HTML5 çš„ä¸œè¥¿</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªåè®®,å½’å±äºIETFã€‚HTML5åªæ˜¯æä¾›äº†WebSocket API ï¼Œä¸¤ä¸ªè§„èŒƒæ˜¯ç‹¬ç«‹å‘å¸ƒçš„ã€‚</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯websocket-ï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯websocket-ï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯webSocket ï¼Ÿ</h2><p>WebSocketæ˜¯ä¸€ç§ç½‘ç»œé€šè®¯åè®®,ç›®å‰å¸‚é¢ä¸Šå¾ˆå¤šç½‘ç«™éƒ½ç”¨åˆ°äº†è¿™é¡¹æŠ€æœ¯,æ¯”å¦‚åœ¨çº¿èŠå¤©å®¤,åœ¨çº¿å®¢æœç³»ç»Ÿ,è¿˜æœ‰ä¸€äº›è¯„è®ºç³»ç»Ÿ,WebIMç­‰ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯ï¼šæŒä¹…åŒ–,å®æ—¶æ€§,å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒå‘é€šè®¯ã€‚<br>ä¸ºä»€ä¹ˆéœ€è¦webSocketå‘¢ï¼Ÿç›¸ä¿¡å¾ˆå¤šç¨‹åºå‘˜éƒ½é‡åˆ°è¿‡è¿™æ ·ç±»ä¼¼çš„éœ€æ±‚----å®æ—¶çš„æ˜¾ç¤ºç‰©å“çš„ä»·æ ¼ã€è‚¡ç¥¨èµ°åŠ¿çš„å›¾æ ‡ã€ç½‘é¡µä¸Šå®ç°èŠå¤©ç­‰äº¤äº’åŠŸèƒ½ã€‚è¿™äº›éœ€æ±‚å¦‚æœç”¨httpåè®®,åªèƒ½å®¢æˆ·ç«¯å‘è¯·æ±‚,æœåŠ¡ç«¯è¿”å›ç»“æœ,å°±éœ€è¦ä¸åœçš„&quot;è½®è¯¢&quot;ï¼šæ¯éš”ä¸€æ®µæ—¶å€™ï¼Œå°±å‘å‡ºä¸€ä¸ªè¯¢é—®ï¼Œäº†è§£æœåŠ¡å™¨æœ‰æ²¡æœ‰æ–°çš„ä¿¡æ¯ã€‚è½®è¯¢çš„æ•ˆç‡å¾ˆä½,å¹¶ä¸”æµªè´¹èµ„æº,éœ€è¦æœåŠ¡å™¨æœ‰å¾ˆå¿«çš„å¤„ç†é€Ÿåº¦å’Œèµ„æºã€‚å¦å¤–è¿˜æœ‰ä¸€ç§é•¿è¿æ¥çš„æ–¹å¼ï¼ˆlong pollï¼‰,æ˜¯é˜»å¡å¼çš„ajax,ä¸€æ¬¡è¯·æ±‚ç›´åˆ°æœ‰ç»“æœè¿”å›æ‰ä¼šè¿›è¡Œä¸‹ä¸€æ¬¡è¯·æ±‚,è¿™ç§æ–¹å¼éœ€è¦æœåŠ¡å™¨é«˜å¹¶å‘èƒ½åŠ›ã€‚</p><p>è€ŒWebSocketå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="æ€ä¹ˆåšåˆ°çš„"><a class="header-anchor" href="#æ€ä¹ˆåšåˆ°çš„">Â¶</a>æ€ä¹ˆåšåˆ°çš„ ?</h2><p>WebSocketåŸºäºHTTPåè®®,å€Ÿç”¨HTTPçš„åè®®å®Œæˆä¸€éƒ¨åˆ†æ¡æ‰‹ã€‚<br>åœ¨æ¡æ‰‹é˜¶æ®µæ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸‹é¢æ˜¯WebSocketçš„æ¡æ‰‹ï¼ˆå¦‚æœä½ ç»å¸¸çœ‹htppçš„åŒ…,å°±å¾ˆå®¹æ˜“çœ‹æ‡‚ä¸‹é¢çš„ä¸œè¥¿ï¼‰ã€‚</p><pre><code>GET /chat HTTP/1.1Host: server.example.comUpgrade: websocketConnection: UpgradeSec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==Sec-WebSocket-Protocol: chat, superchatSec-WebSocket-Version: 13Origin: http://example.com</code></pre><p>è¿™é‡Œæ¯”HTTPå¤šäº†å‡ ä¸ªä¸œè¥¿</p><pre><code>Upgrade: websocketConnection: Upgrade</code></pre><p>è¿™ä¸¤è¡Œä¼šå‘Šè¯‰æœåŠ¡å™¨ï¼šè¿™æ˜¯ä¸€ä¸ªWebSocketåè®®,è¯·ç”¨å¯¹åº”çš„æ¨¡å—å¤„ç†ã€‚</p><pre><code>Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==Sec-WebSocket-Protocol: chat, superchatSec-WebSocket-Version: 13</code></pre><p>Sec-WebSocket-Key æ˜¯ä¸€ä¸ªBase64 encodeçš„å€¼ï¼Œè¿™ä¸ªæ˜¯æµè§ˆå™¨éšæœºç”Ÿæˆçš„å¯†æ–‡,è¦æ±‚æœåŠ¡ç«¯å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹åº”çš„åŠ å¯†Sec-WebSocket-Acceptåº”ç­”,å¦åˆ™å®¢æˆ·ç«¯ä¼šæŠ›å‡ºError during WebSocket handshakeé”™è¯¯ï¼Œå¹¶å…³é—­è¿æ¥ã€‚<br>Sec-WebSocket-Protocol æ˜¯ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å­—ç¬¦ä¸²ï¼Œç”¨æ¥åŒºåˆ†åŒURLä¸‹ï¼Œä¸åŒçš„æœåŠ¡æ‰€éœ€è¦çš„åè®®ã€‚<br>Sec-WebSocket-Version æ˜¯å‘Šè¯‰æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„Websocket Draft(åè®®ç‰ˆæœ¬),ç°åœ¨éƒ½æ˜¯13ã€‚</p><p>ç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸‹åˆ—ä¸œè¥¿ï¼Œè¡¨ç¤ºå·²ç»æ¥å—åˆ°è¯·æ±‚ï¼Œ æˆåŠŸå»ºç«‹Websocketå•¦ï¼</p><pre><code>HTTP/1.1 101 Switching ProtocolsUpgrade: websocketConnection: UpgradeSec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=Sec-WebSocket-Protocol: chat</code></pre><p>è¿™æ ·å°±æ˜¯websocketé“¾æ¥æˆåŠŸ,æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ç”¨requestå’Œresponseæ„‰å¿«çš„æ”¶å‘æ•°æ®äº†ã€‚<br>ä¸åŒçš„æœåŠ¡ç«¯æœ‰ä¸åŒè¯­è¨€çš„å®ç°æ–¹å¼,è€Œåœ¨å®¢æˆ·ç«¯é€šå¸¸ä½¿ç”¨jsæˆ–è€…å…¶ä»–å°è£…åº“ã€‚</p><p>å¯¹æ¯”ä¸€ä¸‹HTTPå’ŒWebSocket,æ˜¯è¿™æ ·çš„~~</p><h3 id="http"><a class="header-anchor" href="#http">Â¶</a>http:</h3><p>å®¢æˆ·ç«¯ï¼šç°åœ¨æ¯”ç‰¹å¸ä»·æ ¼å¤šå°‘ï¼<br>æœåŠ¡ç«¯ï¼š20000åˆ€ï¼<br>10så<br>å®¢æˆ·ç«¯ï¼šç°åœ¨æ¯”ç‰¹å¸ä»·æ ¼å¤šå°‘ï¼<br>æœåŠ¡ç«¯ï¼š18000åˆ€ï¼<br>å¼€å§‹è½®è¯¢~~~<br>å®¢æˆ·ç«¯ï¼šç°åœ¨æ¯”ç‰¹å¸ä»·æ ¼å¤šå°‘ï¼<br>0.5så<br>å®¢æˆ·ç«¯ï¼šç°åœ¨æ¯”ç‰¹å¸ä»·æ ¼å¤šå°‘ï¼<br>0.5så<br>å®¢æˆ·ç«¯ï¼šç°åœ¨æ¯”ç‰¹å¸ä»·æ ¼å¤šå°‘ï¼<br>æœåŠ¡ç«¯ï¼š19000åˆ€<br>æœåŠ¡ç«¯ï¼š19000åˆ€<br>æœåŠ¡ç«¯ï¼š@%#â€¦â€¦&amp;@<em>â€¦â€¦</em>#*ï¼ˆå†…å¿ƒos:ç´¯æ­»æˆ‘äº†ï¼Œä¸å¹²äº†ï¼ï¼‰</p><h3 id="websocket"><a class="header-anchor" href="#websocket">Â¶</a>WebSocket</h3><p>å¥¥ä¹‰â€“websocketé“¾æ¥ï¼ï¼<br>å®¢æˆ·ç«¯ï¼šè¦æ˜¯æ¯”ç‰¹å¸ä»·æ ¼å˜äº†åŠæ—¶å‘Šè¯‰æˆ‘ã€‚<br>æœåŠ¡ç«¯ï¼šokï¼Œæ²¡é—®é¢˜ã€‚<br>æœåŠ¡ç«¯ï¼šæƒŠå¤©å¤§æ¶ˆæ¯ï¼Œæ¯”ç‰¹å¸æš´è·Œï¼<br>å®¢æˆ·ç«¯ï¼šä¸æ…Œä¸æ…Œ,ç»§ç»­åŠ ä»“ã€‚<br>20så<br>æœåŠ¡ç«¯ï¼šæ¶¨äº†ï¼æ¶¨äº†ï¼<br>å®¢æˆ·ç«¯ï¼šè¿˜ä¼šå†æ¶¨ï¼ŒåŠ ä»“ï¼Œæ‹‰æ»¡ã€‚</p><p>æ€»ç»“å°±æ˜¯ï¼š<br>1  å»ºç«‹åœ¨ TCP åè®®ä¹‹ä¸Šï¼ŒæœåŠ¡å™¨ç«¯çš„å®ç°æ¯”è¾ƒå®¹æ˜“ã€‚<br>2  ä¸ HTTP åè®®æœ‰ç€è‰¯å¥½çš„å…¼å®¹æ€§ã€‚é»˜è®¤ç«¯å£ä¹Ÿæ˜¯80å’Œ443ï¼Œå¹¶ä¸”æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ï¼Œå› æ­¤æ¡æ‰‹æ—¶ä¸å®¹æ˜“å±è”½ï¼Œèƒ½é€šè¿‡å„ç§ HTTP ä»£ç†æœåŠ¡å™¨ã€‚<br>3  æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ï¼Œé€šä¿¡é«˜æ•ˆã€‚<br>4  å¯ä»¥å‘é€æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥å‘é€äºŒè¿›åˆ¶æ•°æ®ã€‚<br>5  æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡å™¨é€šä¿¡ã€‚<br>6  åè®®æ ‡è¯†ç¬¦æ˜¯wsï¼ˆå¦‚æœåŠ å¯†ï¼Œåˆ™ä¸ºwssï¼‰ï¼ŒæœåŠ¡å™¨ç½‘å€å°±æ˜¯ URLã€‚</p><h2 id="å®¢æˆ·ç«¯ä¾‹å­"><a class="header-anchor" href="#å®¢æˆ·ç«¯ä¾‹å­">Â¶</a>å®¢æˆ·ç«¯ä¾‹å­</h2><p>åœ¨å®¢æˆ·ç«¯,webSocketä½¿ç”¨èµ·æ¥å¾ˆç®€å•</p><pre><code class="language-javascript">var ws = new WebSocket(&quot;wss://echo.websocket.org&quot;);ws.onopen = function(evt) {   console.log(&quot;Connection open ...&quot;);   ws.send(&quot;Hello WebSockets!&quot;);};ws.onmessage = function(evt) {  console.log( &quot;Received Message: &quot; + evt.data);  ws.close();};ws.onclose = function(evt) {  console.log(&quot;Connection closed.&quot;);};  </code></pre><p>åˆä¸­è‹±è¯­éƒ½èƒ½çœ‹æ‡‚æ˜¯ä»€ä¹ˆæ„æ€,å°±ä¸è§£é‡Šäº†ã€‚<br>å¦å¤–è¿˜æœ‰å¸¸ç”¨çš„webSocketåº“,<a href="http://xn--socket-hh4k.io" target="_blank" rel="noopener">å¦‚socket.io</a>ã€‚</p><h3 id="api"><a class="header-anchor" href="#api">Â¶</a>api:</h3><p>webSocket.readyState readyStateå±æ€§è¿”å›å®ä¾‹å¯¹è±¡çš„å½“å‰çŠ¶æ€,0:è¡¨ç¤ºæ­£åœ¨è¿æ¥;1,è¡¨ç¤ºè¿æ¥æˆåŠŸ;<br>2ï¼Œè¡¨ç¤ºè¿æ¥æ­£åœ¨å…³é—­;3ï¼Œè¡¨ç¤ºè¿æ¥å·²ç»å…³é—­ï¼Œæˆ–è€…æ‰“å¼€è¿æ¥å¤±è´¥ã€‚<br>webSocket.onopen ç”¨äºæŒ‡å®šè¿æ¥æˆåŠŸåçš„å›è°ƒå‡½æ•°ã€‚<br>webSocket.onclose ç”¨äºæŒ‡å®šè¿æ¥å…³é—­åçš„å›è°ƒå‡½æ•°ã€‚<br>webSocket.onmessage ç”¨äºæŒ‡å®šæ”¶åˆ°æœåŠ¡å™¨æ•°æ®åçš„å›è°ƒå‡½æ•°ã€‚<br>webSocket.send() ç”¨äºå‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚<br>webSocket.bufferedAmount è¡¨ç¤ºè¿˜æœ‰å¤šå°‘å­—èŠ‚çš„äºŒè¿›åˆ¶æ•°æ®æ²¡æœ‰å‘é€å‡ºå»ã€‚<br>webSocket.onerror  ç”¨äºæŒ‡å®šæŠ¥é”™æ—¶çš„å›è°ƒå‡½æ•°ã€‚<br>ä»¥ä¸Šapiä»…ç®€å•ä»‹ç»ã€‚è¯¦æƒ…å‚ç…§å®˜æ–¹<br><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket" target="_blank" rel="noopener">æ–‡æ¡£</a></strong></p><h2 id="æœåŠ¡ç«¯"><a class="header-anchor" href="#æœåŠ¡ç«¯">Â¶</a>æœåŠ¡ç«¯</h2><p>åŸºæœ¬ä¸Šæ”¯æŒç½‘ç»œç¼–ç¨‹çš„è¯­è¨€éƒ½å¯ä»¥åˆ›å»ºwebSocketæœåŠ¡,æ¯”å¦‚java,php,python,nodeç­‰ï¼Œç½‘ä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆã€‚<br>ä¸‹é¢æ˜¯ç”¨pythonå†™çš„æœåŠ¡ç«¯ä»£ç ,åªç”¨åˆ°äº†ä¸€äº›ç½‘ç»œæ¨¡å—,æ–¹ä¾¿ç†Ÿæ‚‰webSocketåè®®å†…å®¹å’Œæ­¥éª¤</p><pre><code class="language-python">import simplejsonimport socketimport sysimport base64import hashlibimport timeHOST = '127.0.0.1'PORT = 9000MAGIC_STRING = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'HANDSHAKE_STRING = &quot;HTTP/1.1 101 Switching Protocols\r\n&quot; \    &quot;Upgrade:WebSocket\r\n&quot; \    &quot;Connection: Upgrade\r\n&quot; \    &quot;Sec-WebSocket-Accept: {1}\r\n&quot; \    &quot;WebSocket-Location: ws://{2}/chat\r\n&quot; \    &quot;WebSocket-Protocol:chat\r\n\r\n&quot;def parse_data(msg):    v = ord(msg[1]) &amp; 0x7f    if v == 0x7e:        p = 4    elif v == 0x7f:        p = 10    else:        p = 2    mask = msg[p:p+4]    data = msg[p+4:]    return ''.join([chr(ord(v) ^ ord(mask[k%4])) for k, v in enumerate(data)])def start():    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)    try:        sock.bind((HOST, PORT))        sock.listen(100)    except Exception as e:        print('bind error')        print(e)        sys.exit()    while True:        conn, add = sock.accept()        try:            handshake(conn)        finally:            print('finally')            conn.close()    sock.close()    passdef handshake(conn):    headers = {}    shake = conn.recv(1024)    print shake    if not len(shake):        print('len error')        return False    header, data = shake.split('\r\n\r\n', 1)    for line in header.split('\r\n')[1:]:        key, value = line.split(': ', 1)        headers[key] = value    if 'Sec-WebSocket-Key' not in headers:        print('this is not websocket, client close.')        print headers        conn.close()        return False    sec_key = headers['Sec-WebSocket-Key']    res_key = base64.b64encode(hashlib.sha1(sec_key + MAGIC_STRING).digest())    str_handshke = HANDSHAKE_STRING.replace('{1}', res_key).replace('{2}', HOST + &quot;:&quot; + str(PORT))    print str_handshke    conn.send(str_handshke)    time.sleep(1)    conn.send('%c%c%s' % (0x81, 6, 'suren1'))    msg = conn.recv(1024)    msg = parse_data(msg)    print('msg : ' + msg)    time.sleep(1)    conn.send('%c%c%s' % (0x81, 6, 'suren2'))    msg = conn.recv(1024)    msg = parse_data(msg)    print('msg : ' + msg)    time.sleep(1)    conn.send('%c%c%s' % (0x81, 6, 'suren3'))    msg = conn.recv(1024)    msg = parse_data(msg)    print('msg : ' + msg)    return True    passif __name__ == '__main__':    try:        start()    except Exception as e:        print(e)</code></pre><p>å‚è€ƒï¼š<br>ï¼ˆ1ï¼‰<a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener">WebSocket æ•™ç¨‹</a><br>ï¼ˆ2ï¼‰<a href="https://www.zhihu.com/question/20215561" target="_blank" rel="noopener">çŸ¥ä¹â€“WebSocket æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿä¸ºä»€ä¹ˆå¯ä»¥å®ç°æŒä¹…è¿æ¥ï¼Ÿ</a><br>ï¼ˆ3ï¼‰<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket" target="_blank" rel="noopener">webApiæ¥å£|mdn</a></p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webSocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScriptæŸ¯é‡ŒåŒ–</title>
      <link href="/blog/posts/2b34be88/"/>
      <url>/blog/posts/2b34be88/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€ç›´å¯¹å‡½æ•°å¼ç¼–ç¨‹éå¸¸æ„Ÿå…´è¶£ï¼Œå› æ­¤æ—¶å¸¸ä¼šç•™æ„ä¸‹å…³äºå‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µï¼Œä¹‹å‰ä¸€ç›´å¬åˆ°æŸ¯é‡ŒåŒ–ï¼Œä½†æ˜¯åªé—»å…¶åï¼ŒçŸ¥é“ä»–å¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¿”å›å€¼ä¹Ÿæ˜¯å‡½æ•°ï¼Œè¿”å›çš„å‡½æ•°å¯ä»¥ç»§ç»­æ¥å—å‚æ•°è¿ç®—ï¼Œç›´åˆ°å‡ºå‘åŸå§‹å‡½æ•°çš„æ‰§è¡Œæ¡ä»¶ï¼Œå¹¶æ²¡æœ‰è®¤çœŸç ”ç©¶ï¼Œä»Šå¤©å°±èŠ±ç‚¹æ—¶é—´å¥½å¥½ç ”ç©¶ä¸‹ï¼Œçœ‹çœ‹å¦‚ä½•å†™å‡ºç¬¦åˆæŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰çš„å‡½æ•°ï¼Œ</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼Ÿ"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼Ÿ">Â¶</a>ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼Ÿ</h3><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚è¿™ä¸ªæŠ€æœ¯ç”± Christopher Strachey ä»¥é€»è¾‘å­¦å®¶ Haskell Curry å‘½åçš„ï¼Œå°½ç®¡å®ƒæ˜¯ Moses Schnfinkel å’Œ Gottlob Frege å‘æ˜çš„ã€‚</p><blockquote><p>æŸ¯é‡ŒåŒ–å…è®¸æˆ‘ä»¬æŠŠå‡½æ•°ä¸ä¼ é€’ç»™å®ƒçš„å‚æ•°ç»“åˆï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚[å¼•è‡ªã€ŠJavaScriptè¯­è¨€ç²¾é«“ã€‹ï¼Œç¬¬43é¡µ æŸ¯é‡ŒåŒ–]</p></blockquote><p>é€šä¿—ä¸€ç‚¹ï¼Œå°±æ˜¯ä¹‹å‰çš„å‡½æ•°æ˜¯è¿™æ ·çš„</p><pre><code class="language-javascript">function add(x,y) {return x+y;}</code></pre><p>è€ŒæŸ¯é‡ŒåŒ–å</p><pre><code class="language-javascript">var curryAdd = curry(add)</code></pre><p>è¦è®¡ç®—çš„æ—¶å€™ï¼Œå°±æ˜¯</p><pre><code class="language-javascript">cuurryAdd(1)(2)</code></pre><p>çœ‹ä¸Šå»å¾ˆä¸é”™å§ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹é‡Œé¢ï¼Œç®€åŒ–äº†ä»£ç çš„å¤æ‚æ€§ï¼Œä»£ç é‡å˜å°ï¼Œçœ‹èµ·æ¥æ›´åŠ ä¼˜é›…ï¼Œå¯ä»¥è¾¾åˆ°å»¶è¿Ÿè®¡ç®—çš„æ–¹æ³•ï¼Œä¸æ–­ä¼ å…¥å‚æ•°ï¼Œæœ€åæ‰§è¡Œï¼›å¦å¤–ï¼Œæ ¹æ®ç½‘ä¸Šçš„è¯´æ³•:</p><blockquote><p>å‡½æ•°æŸ¯é‡ŒåŒ–å…è®¸å’Œé¼“åŠ±ä½ åˆ†éš”å¤æ‚åŠŸèƒ½å˜æˆæ›´å°æ›´å®¹æ˜“åˆ†æçš„éƒ¨åˆ†ã€‚è¿™äº›å°çš„é€»è¾‘å•å…ƒæ˜¾ç„¶æ˜¯æ›´å®¹æ˜“ç†è§£å’Œæµ‹è¯•çš„ï¼Œç„¶åä½ çš„åº”ç”¨å°±ä¼šå˜æˆå¹²å‡€è€Œæ•´æ´çš„ç»„åˆï¼Œç”±ä¸€äº›å°å•å…ƒç»„æˆçš„ç»„åˆã€‚</p></blockquote><p>å…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘è¿˜åœ¨è‡ªå·±å“å‘³ã€‚æ˜¯ä¸æ˜¯å¯ä»¥çœç•¥å¤šå‚å‡½æ•°çš„å‚æ•°ï¼Œå¸¦å…¥å…·ä½“çš„å‡½æ•°ä»¥æä¾›æ›´ç»†åˆ†çš„æ–¹æ³•è°ƒç”¨ï¼Ÿ</p><h3 id="é€šç”¨çš„æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼š"><a class="header-anchor" href="#é€šç”¨çš„æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼š">Â¶</a>é€šç”¨çš„æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼š</h3><p>[ä»£ç å¼•è‡ªã€ŠJavaScript: Novice to Ninjaã€‹ï¼Œç¬¬319é¡µ A General Curry Function]</p><pre><code class="language-javascript">function curry(func) {  var fixedArgs = [].slice.call(arguments,1);  return function() {    args = fixedArgs.concat([].slice.call(arguments))    return func.apply(null, args);  };}</code></pre><p>è¿è¡Œæ–¹æ³•ï¼š</p><pre><code class="language-javascript">function divider(x,y) {  return x/y;}reciprocal = curry(divider,1);reciprocal(2);</code></pre><p>æ‰§è¡Œreciprocal(2)ç›¸å½“äºæ‰§è¡Œcurry(divider,1)(2)ã€‚ç„¶åçœ‹curryæ–¹æ³•é€šè¿‡[].sliceæ–¹æ³•å»æ‰äº†ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³function divider(x,y) {return x/y;}ï¼Œä¹‹åä¿ç•™äº†å˜é‡x=1å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒåŒæ—¶ä¼ å…¥å˜é‡y=2ï¼Œè¿™æ—¶fixedArgs.concat([].slice.call(arguments))å°†ä¹‹å‰ä¼ å…¥çš„å˜é‡xå’Œç°åœ¨ä¼ å…¥çš„å˜é‡yé‡æ–°ç»„åˆæˆä¸€ä¸ªæ•°ç»„ï¼Œæœ€åæ‰§è¡Œå‡½æ•°dividerï¼Œè¿™æ—¶ä½¿ç”¨çš„å‚æ•°æ˜¯ç»„åˆåçš„[1,2]ã€‚æ•´ä¸ªcurryæ–¹æ³•ä¸»è¦å·¥ä½œå°±æ˜¯ç»„ç»‡ä¸¤æ¬¡ä¼ å…¥çš„å‚æ•°ï¼Œç„¶åé€šè¿‡applyæ–¹å¼è°ƒç”¨å‡½æ•°ã€‚</p><p>æœ€åï¼Œå¦‚æœåˆ©ç”¨es6çš„æ–°ç‰¹æ€§çš„è¯ï¼Œå°±å¯ä»¥ä¸€è¡Œå†™å‡ºä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°</p><pre><code class="language-javascript">var currySingle = fn =&gt; ((limit) =&gt; judgeCurry = (...args) =&gt; args.length &gt;= limit ? fn.apply(null, args) : (...args2) =&gt; judgeCurry.apply(null, args.concat(args2)))(fn.length)</code></pre><p>æ‘˜è‡ª[ä¸€è¡Œå†™å‡ºjavascriptå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„curry] <a href="https://segmentfault.com/a/1190000008248646" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008248646</a></p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>reactè„šæ‰‹æ¶</title>
      <link href="/blog/posts/773e1506/"/>
      <url>/blog/posts/773e1506/</url>
      
        <content type="html"><![CDATA[<blockquote><p>reactæ˜¯facebookå·¥ç¨‹å¸ˆåˆ¶ä½œçš„ä¸€æ¬¾webæ¡†æ¶ï¼Œä¸€å¼€å§‹åªæ˜¯å•çº¯å¾—å¾—å¾—uiæ¡†æ¶ï¼Œä½†æ˜¯å› ä¸ºå®ƒçš„æ¶æ„å¾ˆä¸é”™ï¼Œç”¨èµ·æ¥å¾ˆçˆ½ï¼Œäºæ˜¯å°±å¼€æºäº†ï¼Œç°åœ¨ï¼Œreactæ˜¯æœ€çƒ­é—¨çš„å‰ç«¯æ¡†æ¶ï¼Œä¸šå†…äººå£«ç”šè‡³é¢„æµ‹ä»–å°†æ¥ä¼šé¢ è¦†webappç°æœ‰æŠ€æœ¯ï¼ŒåŸºäºreactçš„react-nativeåœ¨å‘å¸ƒçš„ç¬¬ä¸€å¤©å°±æ”¶è·äº†5000é¢—star,å¯è§å®ƒçš„æœªæ¥ä¸å¯é™é‡ã€‚</p></blockquote><p><a href="http://ot5267s9k.bkt.clouddn.com/v2-d6281f9eae238597d7c3eef15171d4fa_hd.jpg" title="è€å¤«å°±ç”¨jquery!" target="_blank" rel="noopener"><img src="http://ot5267s9k.bkt.clouddn.com/v2-d6281f9eae238597d7c3eef15171d4fa_hd.jpg" alt="è€å¤«å°±ç”¨jquery!" title="è€å¤«å°±ç”¨jquery!"></a></p><h3 id="å…ˆè¯´è¯´webpack"><a class="header-anchor" href="#å…ˆè¯´è¯´webpack">Â¶</a>å…ˆè¯´è¯´webpack</h3><p>WebPackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆScssï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢å’Œæ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚<br>å‡ ä¸ªæ¯”è¾ƒå¥½çš„æ•™ç¨‹ï¼š<br><a href="http://www.jianshu.com/p/42e11515c10f" title="å…¥é—¨webpackï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†ã€‚" target="_blank" rel="noopener">å…¥é—¨webpackï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†ã€‚</a><br><a href="http://www.jianshu.com/p/b95bbcfc590d" title="wwebpackç®€æ˜å­¦ä¹ æ•™ç¨‹" target="_blank" rel="noopener">webpackç®€æ˜å­¦ä¹ æ•™ç¨‹</a></p><p><strong>æ€»ç»“ï¼šçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ… ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ</strong></p><h3 id="å†è¯´è¯´create-react-app"><a class="header-anchor" href="#å†è¯´è¯´create-react-app">Â¶</a>å†è¯´è¯´create-react-app</h3><p>create-react-appæ˜¯æ¥è‡ªäºFacebookå‡ºå“çš„é›¶é…ç½®å‘½ä»¤è¡Œå·¥å…·ï¼Œèƒ½å¤Ÿå¸®ä½ è‡ªåŠ¨åˆ›å»ºåŸºäºWebpack+ES6çš„æœ€ç®€æ˜“çš„Reacté¡¹ç›®æ¨¡æ¿ï¼Œæœ‰åŠ©äºåˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹å®è·µã€‚å®‰è£…create-react-appçš„æ–¹å¼ä¹Ÿéå¸¸ç®€å•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨npmå‘½ä»¤è¿›è¡Œå…¨å±€å®‰è£…ã€‚</p><pre><code class="language-shell">    npm install -g create-react-app        create-react-app my-app    cd my-app/    npm start</code></pre><p>æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œä½ å¯ä»¥ç›´æ¥æ‰“å¼€http://localhost:3000ï¼Œ å³å¯ä»¥çœ‹åˆ°è¿è¡Œæ•ˆæœã€‚æ­¤æ—¶ä¹Ÿæ˜¯å¤„äºå¼€å‘æ¨¡å¼ä¸‹ã€‚</p><p>é¡¹ç›®çš„ç»“æ„å¦‚ä¸‹ï¼š<br><a href="http://ot5267s9k.bkt.clouddn.com/webappreact.PNG" title="ç»“æ„" target="_blank" rel="noopener"><img src="http://ot5267s9k.bkt.clouddn.com/webappreact.PNG" alt="ç»“æ„" title="ç»“æ„"></a></p><p>å¦‚æœä½ è¦è¿›è¡Œå‘å¸ƒï¼Œåˆ™ä½¿ç”¨npm run buildè¿›è¡Œç¼–è¯‘ã€‚ç¼–è¯‘åï¼Œé¡¹ç›®ç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ªbuildç›®å½•ï¼Œå°±æ˜¯ç¼–è¯‘å®Œçš„é¡¹ç›®ã€‚</p><p>åˆ’é‡ç‚¹äº†ï¼Œæ€ä¹ˆçœ‹ä¸åˆ°webpackçš„é…ç½®æ–‡ä»¶å•Šï¼Ÿï¼Ÿï¼Ÿ<br>åŸæ¥ä¸ºäº†â€œä¼˜é›…â€ï¼Œè„šæ‰‹æ¶éšè—äº†æ‰€æœ‰çš„webpackçš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><p><code>npm run eject</code></p><p>å†çœ‹é¡¹ç›®ç›®å½•æ˜¯ä¸æ˜¯æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½æœ‰äº†ã€‚</p><p>fackbookç»™æ‰€æœ‰çš„é…ç½®éƒ½å†™äº†è¯¦ç»†çš„æ³¨é‡Šï¼Œè‹±æ–‡å¥½çš„åŒå­¦å¯ä»¥å‚è€ƒå­¦ä¹ ä¸€ä¸‹ã€‚</p><p>ä¸è¿‡ä¸çœ‹é…ç½®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨app.js é‡Œä¿®æ”¹ä»£ç ï¼Œçœ‹ä¸€ä¸‹é¡µé¢çš„å˜åŒ–ï¼Œä½“ä¼šä¸€ä¸‹webpackçƒ­éƒ¨ç½²ï¼Œæ‰“åŒ…ï¼Œæ„å»ºçš„æ–¹ä¾¿ä¹‹å¤„ï¼Œç»ƒä¹ ä¸€ä¸‹reactçš„åŸºç¡€è¯­æ³•ï¼Œä¹Ÿæ˜¯ä¸é”™çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue.jså®ä¾‹åˆ†æ</title>
      <link href="/blog/posts/7008012c/"/>
      <url>/blog/posts/7008012c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä»ä¸€å¼€å§‹ç”¨åŸç”Ÿjavascriptï¼Œåˆ°ç”¨jQuery,backbone.js,æ¥å®ç°å‰ç«¯çš„å„ç§åŠŸèƒ½ï¼Œè¶Šæ¥è¶Šä½“ä¼šåˆ°ä½¿ç”¨æ¡†æ¶æ˜¯å¤šä¹ˆé‡è¦çš„ä¸€ä»¶äº‹,é‚£äº›æ‚ä¹±ï¼Œå„ç§å†™æ³•æ··æ‚ï¼Œä¸šåŠ¡å’Œuié€»è¾‘å†™åœ¨ä¸€èµ·çš„jsè„šæœ¬,ç»´æŠ¤èµ·æ¥ç®€ç›´æ˜¯å™©æ¢¦ğŸ˜±ã€‚</p></blockquote><p>è¿˜å¥½ç°åœ¨æœ‰å¾ˆå¤šmvcï¼Œmvvmæ¡†æ¶ï¼ŒæŒæ¡äº†è¿™äº›ï¼Œå‰ç«¯æ¨¡å—åŒ–å°±è½»æ¾å¤šäº†,ä¹‹å‰å…¬å¸ç”¨çš„æ˜¯backbone.js,ä½†æ˜¯æ‰€æœ‰é€»è¾‘åŸºæœ¬éƒ½æ˜¯åœ¨viewå±‚å®ç°ï¼Œå¹¶ä¸”bacjbone.jsæ•°æ®æ˜¯å•å‘ç»‘å®š,åŠŸèƒ½å®ç°å¾€å¾€éœ€è¦é¢‘ç¹çš„æ‰‹åŠ¨renderæ¸²æŸ“,è‡ªå·±æ°´å¹³æœ‰é™ï¼Œæœ‰æ—¶å¤ªå¤æ‚çš„é€»è¾‘ï¼Œå†™èµ·æ¥ä¹Ÿæ„Ÿè§‰è‡ªå·±å†™çš„ç‰¹åˆ«å•°å—¦ã€‚æœ€è¿‘çœ‹äº†vue.jsçš„å®˜ç½‘ï¼Œé€šè¯»äº†èµ·æ­¥æ–‡æ¡£,å¤§è‡´äº†è§£äº†vueï¼Œä½†æ˜¯å…·ä½“å®ç°è‡ªå·±å†™èµ·æ¥è¿˜æ˜¯æ²¡æœ‰å¤´ç»ªï¼Œæ‰€ä»¥ç°åœ¨å¼€å§‹çœ‹vueå®ä¾‹ï¼Œä¸€ç‚¹ä¸€ç‚¹åˆ†æã€‚</p><p><strong>Talk is cheap,Show me the code!</strong></p><h3 id="å®ä¾‹åˆ†æï¼š"><a class="header-anchor" href="#å®ä¾‹åˆ†æï¼š">Â¶</a>å®ä¾‹åˆ†æï¼š</h3><p>åœ°å€ï¼š<a href="https://jsfiddle.net/yyx990803/xkkbfL3L/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=xkkbfL3L" title="vue ç½‘æ ¼ç»„ä»¶" target="_blank" rel="noopener">vue ç½‘æ ¼ç»„ä»¶</a></p><p>è¿™æ˜¯ä¸€ä¸ªç½‘æ ¼ç»„ä»¶ï¼Œå¯ä»¥æ ¹æ®æŸä¸€åˆ—è¿›è¡Œæ­£åºæˆ–è€…é€†åºæ’åº,ä¹Ÿå¯ä»¥æ ¹æ®inputæ¡†æœç´¢ï¼Œæ¨¡ç³ŠæŸ¥è¯¢åªæ˜¾ç¤ºåŒ¹é…çš„æ•°æ®ã€‚<br><a href="http://ot5267s9k.bkt.clouddn.com/imageGrid.PNG" title="æˆªå›¾" target="_blank" rel="noopener"><img src="http://ot5267s9k.bkt.clouddn.com/imageGrid.PNG" alt="æˆªå›¾" title="æˆªå›¾"></a><br>ä¸‹é¢çš„è¡¨æ ¼æ˜¯ä¸€ä¸ªvueç»„ä»¶ï¼Œä¸¤ä¸ª<th>å¯ä»¥ç‚¹å‡»ç”¨æ¥è§¦å‘æ’åºã€‚</th></p><h3 id="ä»£ç ï¼š"><a class="header-anchor" href="#ä»£ç ï¼š">Â¶</a>ä»£ç ï¼š</h3><h4 id="html"><a class="header-anchor" href="#html">Â¶</a>html</h4><pre><code class="language-html">&lt;!-- component template --&gt;&lt;script type=&quot;text/x-template&quot; id=&quot;grid-template&quot;&gt;  &lt;table&gt;    &lt;thead&gt;      &lt;tr&gt;        &lt;th v-for=&quot;key in columns&quot;          @click=&quot;sortBy(key)&quot;          :class=&quot;{ active: sortKey == key }&quot;&gt;          {{ key | capitalize }}          &lt;span class=&quot;arrow&quot; :class=&quot;sortOrders[key] &gt; 0 ? 'asc' : 'dsc'&quot;&gt;          &lt;/span&gt;        &lt;/th&gt;      &lt;/tr&gt;    &lt;/thead&gt;    &lt;tbody&gt;      &lt;tr v-for=&quot;entry in filteredData&quot;&gt;        &lt;td v-for=&quot;key in columns&quot;&gt;          {{entry[key]}}        &lt;/td&gt;      &lt;/tr&gt;    &lt;/tbody&gt;  &lt;/table&gt;&lt;/script&gt;&lt;!-- demo root element --&gt;&lt;div id=&quot;demo&quot;&gt;  &lt;form id=&quot;search&quot;&gt;    Search &lt;input name=&quot;query&quot; v-model=&quot;searchQuery&quot;&gt;  &lt;/form&gt;  &lt;demo-grid    :data=&quot;gridData&quot;    :columns=&quot;gridColumns&quot;    :filter-key=&quot;searchQuery&quot;&gt;  &lt;/demo-grid&gt;&lt;/div&gt;</code></pre><p>ä¸Šæ–¹æ˜¯ç»„ä»¶çš„æ¨¡æ¿<br>sortKeyæ˜¯æ’åºçš„å…³é”®å­—ï¼ˆé‚£ä¸€åˆ—ï¼‰ï¼ŒsortOrdersè¿™ä¸ªæ•°ç»„å‚¨å­˜çš„æ˜¯æ­£åºè¿˜æ˜¯é€†åºã€‚è¿™ä¸¤ä¸ªç”¨æ¥æ§åˆ¶classæ ·å¼ <code>ï¼šclass</code> æ˜¯<code>v-bind:class</code>.<br>ä¸‹é¢æ˜¯å®ä¾‹éƒ¨åˆ†, é€šè¿‡props å±æ€§å°†æ•°æ®ä¼ å…¥ç»„ä»¶demo-gridã€‚dataæ˜¯è¦å±•ç¤ºçš„æ•°æ®ï¼Œfilter-keyæ˜¯æŸ¥è¯¢å‚æ•°ï¼Œcolumnsæ˜¯æ¯ä¸€è¡Œçš„æ•°æ®çš„keyç»„æˆå¾—æ•°ç»„ã€‚<br>jséƒ¨åˆ†</p><pre><code class="language-javascript">// register the grid component  Vue.component('demo-grid', {    template: '#grid-template',    props: {//propså¯ä»¥é€šè¿‡ç»„ä»¶çš„å±æ€§ä»çˆ¶ç»„ä»¶ä¼ é€’ã€‚      data: Array,//è¦å±•ç¤ºçš„å¯¹è±¡æ•°ç»„      columns: Array,//æ¯ä¸€è¡Œçš„å¯¹è±¡çš„keyç»„æˆçš„æ•°ç»„ï¼Œç”¨æ¥ä¾¿åˆ©å¯¹è±¡çš„æ—¶å€™å–å€¼ç”¨      filterKey: String//æŸ¥è¯¢å‚æ•°    },    data: function () {//ç»„ä»¶æ•°æ®,éœ€è¦åœ¨æ¨¡æ¿é‡Œç”¨åˆ°ï¼Œæ¥æ§åˆ¶æ ·å¼      var sortOrders = {}      this.columns.forEach(function (key) {        sortOrders[key] = 1  //ç”¨æ•°ç»„å‚¨å­˜ä¸¤ä¸ªæ’åºå‚æ•°çš„æ­£é€†åºï¼ˆ1ï¼Œ-1ï¼‰      })      return {        sortKey: '',//åˆ¤æ–­æ’åºå‚æ•°åŒ¹é…        sortOrders: sortOrders//åˆ¤æ–­æ­£åºè¿˜æ˜¯é€†åºã€‚      }    },    computed: {//è®¡ç®—å±æ€§      filteredData: function () {        var sortKey = this.sortKey        var filterKey = this.filterKey &amp;&amp; this.filterKey.toLowerCase()        var order = this.sortOrders[sortKey] || 1 //é»˜è®¤æ˜¯æ­£åº        var data = this.data        if (filterKey) {//æ ¹æ®æŸ¥è¯¢å‚æ•°,å¾—åˆ°åŒ¹é…æ•°æ®          data = data.filter(function (row) {            return Object.keys(row).some(function (key) {              return String(row[key]).toLowerCase().indexOf(filterKey) &gt; -1            })          })        }        if (sortKey) {//æ ¹æ®æ’åºå‚æ•°æ’åº          data = data.slice().sort(function (a, b) {//æ’åºæ–¹æ³•å‚ç…§spliceå’Œsortï¼Œå¯ä»¥åˆ°w3cçœ‹ä¸€ä¸‹ã€‚a,båˆ†åˆ«æ˜¯ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´             a = a[sortKey]            b = b[sortKey]            return (a === b ? 0 : a &gt; b ? 1 : -1) * order //orderç”¨æ¥æ§åˆ¶æ’åºæ–¹å¼          })        }        return data      }    },    filters: {// æ¸²æŸ“è¿‡æ»¤å™¨,è¯­æ³• {{ text|filter }}      capitalize: function (str) {//é¦–å­—æ¯å¤§å†™è¿‡æ»¤å™¨        return str.charAt(0).toUpperCase() + str.slice(1)      }    },    methods: {//ç»‘å®šçš„ç‚¹å‡»å‡½æ•°,è¿™é‡Œå°±ä½“æ£€äº†æ•°æ®ç»‘å®šçš„æ„ä¹‰,æ”¹å˜modelï¼Œmodelä¹Ÿå˜åŒ–ä¹Ÿä½“ç°åœ¨é¡µé¢ä¸Š,é¿å…æ‰‹åŠ¨ç®¡ç†æ¸²æŸ“      sortBy: function (key) {        this.sortKey = key  //æ’åºå‚èµ‹å€¼        this.sortOrders[key] = this.sortOrders[key] * -1 //æ’åºæ–¹å¼èµ‹å€¼ã€‚      }    }  })    // bootstrap the demo  var demo = new Vue({    el: '#demo',    data: {      searchQuery: '',      gridColumns: ['name', 'power'],      gridData: [        { name: 'Chuck Norris', power: Infinity },        { name: 'Bruce Lee', power: 9000 },        { name: 'Jackie Chan', power: 7000 },        { name: 'Jet Li', power: 8000 }      ]    }  })</code></pre><p>ä¸Šé¢æ˜¯å…·ä½“çš„å®ç°æ³¨é‡Š,å…¶å®ä¸æ˜¯å¾ˆéš¾ç†è§£,ä¸»è¦æ˜¯è¦æ˜ç™½<br>1ï¸âƒ£.vueæ˜¯åŸºäºåŒå‘æ•°æ®ç»‘å®š,æ”¹å˜modelä¼šåŒæ—¶åæ˜ åˆ°é¡µé¢ä¸Šã€‚<br>2ï¸âƒ£.çµæ´»è¿ç”¨æ•°æ®ç»“æ„,æ¥å‚¨è“„éœ€è¦çš„æ•°æ®ã€‚<br>3ï¸âƒ£.ç”¨å‡½æ•°å¼çš„ç¼–ç æŠ€å·§ï¼Œæ¯”å¦‚mapï¼Œfilter,some å‡½æ•°å¤„ç†é›†åˆï¼Œä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascriptç¼–ç æŠ€å·§</title>
      <link href="/blog/posts/6cf112d6/"/>
      <url>/blog/posts/6cf112d6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨å¹³æ—¶çš„å·¥ä½œä¸­ï¼Œä¸€äº›å‰ç«¯çš„å·¥ä½œï¼Œç»å¸¸è¦ç”¨çš„åˆ°javaScriptï¼Œè€Œä¸”ç°åœ¨è‡ªå·±æ­£åœ¨å­¦ä¹ react.jså’Œnode.js,æ‰€ä»¥ç°åœ¨æŠŠè‡ªå·±å¹³æ—¶é‡åˆ°çš„å†™ä»£ç çŒœåˆ°çš„ä¸€äº›å‘è®°å½•ä¸‹æ¥ï¼Œæ­¤ç¯‡æ–‡ç« ä¼šéšæ—¶æ›´æ–°ã€‚</p></blockquote><hr><h1>1. é¿å…TypeErrorå¼‚å¸¸</h1><p>æœ‰æ—¶ä»åå°å–åˆ°çš„jsonå¯¹è±¡ï¼Œé‡Œé¢æŸä¸ªå±æ€§å¯èƒ½ä¸å­˜åœ¨ï¼Œå°±ä¼šè¿”å›undefined,æ¯”å¦‚</p><pre><code class="language-javascript">    var cat = {name: &quot;mm&quot;}    cat.color //undefinedd    cat.color.code // æŠ¥å¼‚å¸¸TypeError ï¼ˆå»æ‹¿é¢œè‰²ä»£ç ï¼‰    //å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç     var code = cat.color &amp;&amp; cat.color.code // &amp;&amp; å…·æœ‰çŸ­è·¯åŠŸèƒ½,å‰é¢æ˜¯falseå°±ä¸å»æ‰§è¡Œåé¢çš„,å‰é¢æ˜¯trueï¼Œå¾—åˆ°åé¢çš„å€¼</code></pre><h1>2. é«˜é˜¶å‡½æ•°çš„ä½¿ç”¨</h1><p>æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿™æ ·çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°.<br>é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚ å¯¹äºç»“é›†åˆçš„æ“ä½œï¼Œéå†åšä¸€äº›æ“ä½œï¼Œç”¨é«˜é˜¶å‡½æ•°å¾ˆç®€æ´ä¹Ÿå¯ä»¥å†™æˆé“¾å¼è¯­æ³•ã€‚</p><p><code>map</code></p><pre><code class="language-javascript">var l = [1,2,3,4,5,6,7]l = l.map(v =&gt; v*v)[1, 4, 9, 16, 25, 36, 49]</code></pre><p><strong>mapå°±æ˜¯å¯¹é›†åˆé‡Œæ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œ,æ¯”å¦‚æ±‚æ¯ä¸€ä¸ªå…ƒç´ çš„å¹³æ–¹ã€‚</strong></p><p><code>filter</code></p><pre><code class="language-javascript">var l = [1,2,3,4,5,6];l = l.filter(v =&gt; v%2 === 0);[2, 4, 6]</code></pre><p><strong>filterè¿‡æ»¤å‡ºé›†åˆé‡ç¬¦åˆæŸäº›æ¡ä»¶çš„å…ƒç´ ï¼Œå¾—åˆ°è¿™äº›å…ƒç´ ç»„æˆçš„æ–°çš„é›†åˆã€‚</strong></p><p><code>every</code></p><pre><code class="language-javascript">var l = [1,2,3,4,5,6,7,8]l.every(v =&gt; v&lt;3)false</code></pre><p><strong>every å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œï¼Œå…¨éƒ¨ä¸ºtrueï¼Œå°±è¿”å›trueï¼Œæœ‰ä¸€ä¸ªfalseå°±è¿”å›false,å®ƒåªå¯¹æ•°ç»„ä¸­çš„éç©ºå…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œæ²¡æœ‰èµ‹å€¼æˆ–è€…å·²ç»åˆ é™¤çš„å…ƒç´ å°†è¢«å¿½ç•¥.ç”¨æ¥åˆ¤æ–­é›†åˆæ˜¯ä¸æ˜¯æ¯ä¸€ä¸ªéƒ½ç¬¦åˆç­›é€‰æ¡ä»¶ã€‚</strong></p><p><code>some</code><br><strong>ç±»ä¼¼ä¸Šé¢çš„everyï¼Œå®ƒåªè¦æœ‰ä¸€ä¸ªç¬¦åˆå°±è¿”å›true,ç”¨æ¥åˆ¤æ–­é›†åˆå†…æœ‰æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚</strong></p><p><code>reduce</code></p><pre><code class="language-javascript">var numbers = [65, 44, 12, 4]; function getSum(total, num) {    return total + num;}function myFunction(item) {    document.getElementById(&quot;demo&quot;).innerHTML = numbers.reduce(getSum);}</code></pre><p>è¿™ä¸ªå‡½æ•°ï¼š<br><code>array.reduce(function(total, currentValue, currentIndex, arr), initialValue)</code></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>total</td><td>å¿…éœ€ã€‚åˆå§‹å€¼, æˆ–è€…è®¡ç®—ç»“æŸåçš„è¿”å›å€¼ã€‚</td></tr><tr><td>currentValue</td><td>å¿…éœ€ã€‚å½“å‰å…ƒç´ </td></tr><tr><td>currentIndex</td><td>å¯é€‰ã€‚å½“å‰å…ƒç´ çš„ç´¢å¼•</td></tr><tr><td>arr</td><td>å¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„å¯¹è±¡ã€‚</td></tr></tbody></table><p><strong>reduce() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆä¸ºä¸€ä¸ªå€¼ï¼Œæ˜¯ES5ä¸­æ–°å¢çš„åˆä¸€ä¸ªæ•°ç»„é€é¡¹å¤„ç†æ–¹æ³•</strong></p><p>æ³¨æ„ sortå‡½æ•°ï¼š<br><code>arr.sort()</code> é»˜è®¤æƒ…å†µä¸‹æ˜¯ç”¨unicode ç æ¥æ’åºï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªè¿”å›å€¼ä¸º&quot;æ•°å€¼&quot;çš„å‡½æ•°:</p><pre><code class="language-javascript">function compare(a,b){    return a-b;}</code></pre><p>å› æ­¤ï¼Œå¦‚æœä¸èƒ½ç›´æ¥å‡çš„å˜é‡ï¼Œè¦å…ˆåˆ¤æ–­å¤§å°ï¼Œåœ¨è¿”å›ï¼ˆ-1ï¼Œ1,0ï¼‰ç­‰æ•°å€¼ã€‚</p><h1>3.ç‰¹æ®Šçš„æŠ€å·§</h1><p>jsæ˜¯ä¸€ä¸ªå¾ˆç¥å¥‡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæœ‰å„ç§éªšæ“ä½œï¼Œä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><p>å‘ä¸‹å–æ•´<br><code>var a = ~~1.3;//1</code></p><p>è½¬æ•°å­—<br><code>var a = +&quot;22&quot;;//22</code></p><p>æ—¥æœŸè½¬æ•°å­—<br><code>var date = +new Date()</code></p><p>è®¾ç½®é»˜è®¤å€¼<br><code>var b = &quot;cat&quot;||&quot;default&quot;</code>;</p><p>ç±»æ•°ç»„å¯¹è±¡è½¬æˆæ•°ç»„<br><code>var arr = Array.prototype.slice.call(arguments)</code></p><p>æ¼‚äº®çš„éšæœºç </p><pre><code>Math.random().toString(16).substring(2); //14ä½Math.random().toString(36).substring(2); //11ä½</code></pre><p>äº¤æ¢å€¼<br><code>a= [b, b=a][0];</code></p><p>åŒ¿åå‡½æ•°ç«‹å³æ‰§è¡Œï¼Œå¯ä»¥é¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“</p><pre><code>(function(){ //code here})();</code></pre><p>æ€ä¹ˆåœ¨æ‰‹æœºä¸Šè°ƒè¯•jsä»£ç ?<br>è¿™é‡Œæ¨èä»¥ä¸‹ å¾®ä¿¡ å›¢é˜Ÿåšçš„ jsè°ƒè¯•åˆ©å™¨â€“vconsole.<br><code>npm install vconsole</code><br>æˆ–è€…</p><pre><code class="language-javascript">&lt;script src=&quot;path/to/vconsole.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt;  // init vConsole  var vConsole = new VConsole();  console.log('Hello world');&lt;/script&gt; </code></pre><h2 id="4-ç¼–ç¨‹ä¹ æƒ¯"><a class="header-anchor" href="#4-ç¼–ç¨‹ä¹ æƒ¯">Â¶</a>4.ç¼–ç¨‹ä¹ æƒ¯</h2><p><code>if else</code><br>ä¸è¦å°çœ‹<code>if else</code> è¯­å¥ï¼Œå°¤å…¶æ˜¯åœ¨æœ‰å¼‚å¸¸å¤„ç†çš„æ—¶å€™ã€‚<br>æœ‰äº›åŒå­¦å–œæ¬¢è¿™æ ·å†™</p><pre><code class="language-javascript">if(/*æ¡ä»¶*/){    //æ­£å¸¸é€»è¾‘}else{    //å‡ºé”™çš„æ—¶å€™å¤„ç†}</code></pre><p>è¿™æ ·å¾ˆå®¹æ˜“å¿½ç•¥é”™è¯¯çš„æ¡ä»¶,æ”¹æˆè¿™æ ·</p><pre><code class="language-javascript">if(/*å‡ºé”™çš„æ¡ä»¶*/){    // å¯¹é”™è¯¯å¤„ç†}//æ­£å¸¸é€»è¾‘</code></pre><p>è¿™æ ·å°±å¾ˆæ¸…æ™°äº†ã€‚çªå‡ºé”™è¯¯çš„æ¡ä»¶ï¼Œå°±ä¼šé¿å…è¿™äº›ä¸åˆæ³•çš„è¾“å…¥ã€‚</p><p>å˜é‡çš„åˆå§‹åŒ–<br><code>var a = &quot;&quot;;</code><br><code>var b = [];</code><br><code>var c= {};</code><br>ç›´æ¥ç”¨å­—é¢è¡¨è¾¾å±•ç¤ºæ•°æ®ç±»å‹,é¿å…ç”¨new æ“ä½œç¬¦ã€‚</p><p>ç®€å•çš„æŠ€å·§æé«˜ç½‘é¡µå‡½æ•°å¤ç”¨<br>æˆ‘æ›¾çœ‹åˆ°è¿‡é•¿è¾¾ä¸¤ç™¾å¤šè¡Œçš„javascriptå‡½æ•°ï¼Œåªæ˜¯ä¸ºäº†å¤„ç†é¡µé¢ä¸Šçš„ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œå…¶å®æœ‰ä¸ªå¾ˆç®€å•çš„èŒƒå¼ï¼Œä¸€ä¸ªå‡½æ•°ç”¨æ¥å¤„ç†äº‹ä»¶ï¼Œæ¥å—äº‹ä»¶ï¼Œå¦å¤–ä¸€ä¸ªå‡½æ•°ç”¨æ¥å¤„ç†ä¸šåŠ¡ï¼Œå‚æ•°æ¥è‡ªä¸Šä¸ªå‡½æ•°ã€‚è¿™æ ·ä¸€èˆ¬æƒ…å†µä¸‹å°±ä¼šæé«˜å‡½æ•°å¤ç”¨ã€‚</p><p>å£°æ˜å±€éƒ¨å˜é‡<br>æ¯ä¸€ä¸ªjså‡½æ•°éƒ½ä¼šå¸¦æœ‰ä¸€ä¸ªå«åš[[Scope]]çš„å†…éƒ¨å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯¥å‡½æ•°çš„ä½œç”¨åŸŸé“¾ï¼Œå®ƒå†³å®šäº†å“ªäº›æ•°æ®èƒ½è¢«å‡½æ•°è®¿é—®ã€‚<br>ä¸€ä¸ªå‡½æ•°è‹¥è¦ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œå®ƒä¼šä»æœ€è¿‘çš„åœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡é‡Œé¢å»æ‰¾ï¼›è‹¥æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å¾€æ›´è¿œå¤„çš„å…¨å±€å˜é‡ï¼ˆæˆ–è€…ä¸Šä¸€çº§ä½œç”¨åŸŸï¼‰é‡Œé¢å»æ‰¾ã€‚æ°æ°æ˜¯è¿™ä¸ªâ€œæ‰¾â€çš„è¿‡ç¨‹ï¼Œäº§ç”Ÿäº†æ€§èƒ½çš„é—®é¢˜ã€‚ å› æ­¤ï¼Œå¯ä»¥æŠŠä¸€ä¸ªè¾ƒæ·±çš„å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°å†…éƒ¨ç›´æ¥è°ƒç”¨è¿™ä¸ªå±€éƒ¨å˜é‡æ¥æå‡æ€§èƒ½ã€‚</p><p>ä½¿ç”¨jqueryé€‰æ‹©å™¨çš„æ—¶å€™,æŠŠé€‰åˆ°çš„jqueryå¯¹è±¡ç¼“å­˜åˆ°ä¸€ä¸ªå˜é‡é‡Œ,é¿å…æ¯æ¬¡ä½¿ç”¨åˆ°è¿™ä¸ªå…ƒç´ éƒ½é‡æ–°æŸ¥è¯¢ã€‚<br>å¦‚ï¼š</p><pre><code class="language-javascript">var $input = $(&quot;input&quot;);</code></pre><h2 id="none"><a class="header-anchor" href="#none">Â¶</a></h2>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>processing-å°ç™½ä¹Ÿå¯ä»¥åšè‰ºæœ¯å®¶</title>
      <link href="/blog/posts/e318f551/"/>
      <url>/blog/posts/e318f551/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¯¹äºéè®¡ç®—æœºä¸“ä¸šçš„äººæ¥è¯´ï¼Œä¸ºäº†åšè®¡ç®—æœºå›¾å½¢è€Œå»å­¦ä¹ opencvï¼Œå­¦ä¹ openglï¼Œä¼šæ˜¯ä¸€ä»¶å¾ˆæ¼«é•¿è€Œä¸”è‰°éš¾çš„ç»å†ï¼Œé¦–å…ˆä½ è¦æœ‰æœ€å°‘ä¸€é—¨è¯­è¨€åŸºç¡€ï¼Œc++ï¼Œpythonéƒ½å¯ä»¥ï¼ŒæŒæ¡è¿™äº›å°±è¦èŠ±å¾ˆé•¿çš„æ—¶é—´ï¼Œå¦‚æœä½ åªæ˜¯æƒ³åƒç”¨è‰ç¨¿çº¸ä¸€æ ·ç”»å›¾ï¼Œä¸è¦å»å…³å¿ƒä¸€æ¡ç›´çº¿æ˜¯æ€ä¹ˆä¸€ä¸ªä¸€ä¸ªåƒç´ ç”Ÿæˆçš„ï¼Œä¹Ÿä¸å…³å¿ƒå›¾å½¢å­¦ä¸­æœ‰å¤šå°‘ç§æ›²çº¿çš„ç”Ÿæˆæ–¹å¼ï¼Œä½ åªæ˜¯æƒ³ç”»ç‚¹å¯èƒ½ä¼šå¾ˆcoolçš„å›¾åƒï¼Œprocessingå¾ˆé€‚åˆä½ ã€‚</p></blockquote><h2 id="processingç®€ä»‹"><a class="header-anchor" href="#processingç®€ä»‹">Â¶</a>processingç®€ä»‹</h2><p>Processingæ˜¯ä¸€ç§å…·æœ‰é©å‘½å‰ç»æ€§çš„æ–°å…´è®¡ç®—æœºè¯­è¨€ï¼Œå®ƒçš„æ¦‚å¿µæ˜¯åœ¨ç”µå­è‰ºæœ¯çš„ç¯å¢ƒä¸‹ä»‹ç»ç¨‹åºè¯­è¨€ï¼Œå¹¶å°†ç”µå­è‰ºæœ¯çš„æ¦‚å¿µä»‹ç»ç»™ç¨‹åºè®¾è®¡å¸ˆã€‚å®ƒæ˜¯ Java è¯­è¨€çš„å»¶ä¼¸ï¼Œå¹¶æ”¯æŒè®¸å¤šç°æœ‰çš„ Java è¯­è¨€æ¶æ„ï¼Œä¸è¿‡åœ¨è¯­æ³• (syntax) ä¸Šç®€æ˜“è®¸å¤šï¼Œå¹¶å…·æœ‰è®¸å¤šè´´å¿ƒåŠäººæ€§åŒ–çš„è®¾è®¡ã€‚Processing å¯ä»¥åœ¨ Windowsã€MAC OS Xã€MAC OS 9 ã€Linux ç­‰æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚ç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸ºProcessing 3ã€‚ä»¥ Processing å®Œæˆçš„ä½œå“å¯åœ¨ä¸ªäººæœ¬æœºç«¯ä½œç”¨ï¼Œæˆ–ä»¥Java Applets çš„æ¨¡å¼å¤–è¾“è‡³ç½‘ç»œä¸Šå‘å¸ƒã€‚ è™½ç„¶å›¾å½¢ç”¨æˆ·ç•Œé¢(GUI)æ—©åœ¨äºŒåå¹´å‰æˆä¸ºä¸»æµï¼Œä½†æ˜¯åŸºç¡€ç¼–ç¨‹è¯­è¨€çš„æ•™å­¦åˆ°ä»Šå¤©ä»æ˜¯ä»¥å‘½ä»¤è¡Œæ¥å£ä¸ºä¸»ï¼Œå­¦ä¹ ç¼–ç¨‹è¯­è¨€ä¸ºä»€ä¹ˆè¦é‚£ä¹ˆæ¯ç‡¥å‘¢ï¼Ÿäººè„‘å¤©ç”Ÿæ“…é•¿ç©ºé—´è¾¨è¯†ï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢åˆ©ç”¨çš„æ­£æ˜¯è¿™ç§ä¼˜åŠ¿ï¼ŒåŠ ä¸Šå®ƒèƒ½æä¾›å„ç§å®æ—¶ä¸”é²œæ˜çš„å›¾åƒå¼åé¦ˆ (feedback)ï¼Œå¯ä»¥å¤§å¹…ç¼©çŸ­å­¦ä¹ æ›²çº¿ï¼Œå¹¶å¸®åŠ©ç†è§£æŠ½è±¡é€»è¾‘æ³•åˆ™ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè®¡ç®—æœºå±å¹•ä¸Šçš„ä¸€ä¸ªåƒç´ (pixel) å°±æ˜¯ä¸€ä¸ªå˜é‡å€¼(the value of a variable) çš„å¯è§†åŒ–è¡¨ç°ã€‚Processingå°†Javaçš„è¯­æ³•ç®€åŒ–å¹¶å°†å…¶è¿ç®—ç»“æœâ€œæ„Ÿå®˜åŒ–â€ï¼Œè®©ä½¿ç”¨è€…èƒ½å¾ˆå¿«äº«æœ‰å£°å…‰å…¼å¤‡çš„äº¤äº’å¼å¤šåª’ä½“ä½œå“ã€‚ Processingçš„æºä»£ç æ˜¯å¼€æ”¾çš„ï¼Œå’Œè¿‘æ¥å¹¿å—æ¬¢è¿çš„Linux æ“ä½œç³»ç»Ÿã€Mozillaæµè§ˆå™¨ã€æˆ–Perlè¯­è¨€ç­‰ä¸€æ ·ï¼Œç”¨æˆ·å¯ä¾ç…§è‡ªå·±çš„éœ€è¦è‡ªç”±è£å‰ªå‡ºæœ€åˆé€‚çš„ä½¿ç”¨æ¨¡å¼ã€‚Processingçš„åº”ç”¨éå¸¸ä¸°å¯Œï¼Œè€Œä¸”å®ƒä»¬å…¨éƒ¨éµå®ˆå¼€æ”¾æºä»£ç çš„è§„å®šï¼Œè¿™æ ·çš„è®¾è®¡å¤§å¹…å¢åŠ äº†æ•´ä¸ªç¤¾ç¾¤çš„äº’åŠ¨æ€§ä¸å­¦ä¹ æ•ˆç‡ã€‚ ä»¥ä¸Šæ¥è‡ªç™¾åº¦ç™¾ç§‘ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œå­¦ä¹ processingä¼šæ˜¯ä¸€ä»¶æœ‰è¶£ï¼Œä¸é‚£ä¹ˆè‰°éš¾çš„ä¸€ä»¶äº‹ã€‚</p><p><a href="https://processing.org/" target="_blank" rel="noopener">processingçš„å®˜ç½‘</a></p><p>ä¸‹é¢è´´å‡ å¼ å¤§ä½¬ä»¬ç”¨processingåšçš„è‰ºæœ¯å“ï¼Œå¸Œæœ›è‡ªå·±ä¹Ÿå¯ä»¥åšå‡ºè¿™æ ·æ°´å¹³çš„ä½œå“å‡ºæ¥ã€‚</p><p><img src="https://wx3.sinaimg.cn/mw1024/bca3c023gy1g1xw3d8sggj20b4069jse.jpg" alt="img"></p><p>â€‹                                                                                                                          è§†é¢‘ä¸­ä¸¤ä¸ªé…·ç‚«å›¾å½¢è¿‡æ¸¡</p><p><img src="https://wx2.sinaimg.cn/mw1024/bca3c023gy1g1xw3d8nq8j20go0610tx.jpg" alt="img"></p><p>â€‹                                                                                                                     æ—‹è½¬ï¼ˆrotateï¼‰ã€éšæœºï¼ˆrandomï¼‰</p><p><img src="https://wx1.sinaimg.cn/mw1024/bca3c023gy1g1xw3d8kbzj20go09d3ze.jpg" alt="img"></p><p>â€‹                                                                                                                              åŠ ä¸Šé¢œè‰²é…·ç‚«çš„éšæœºå’Œæ—‹è½¬</p><h2 id="processing-js"><a class="header-anchor" href="#processing-js">Â¶</a>processing.js</h2><p>processing.jsæ˜¯ä¸€ä¸ªjavascriptå®ç°çš„canvasç»˜å›¾åº“,ä»–çš„ä½œç”¨å°±æ˜¯æŠŠprocessingçš„ä»£ç ç¿»è¯‘æˆjavascriptä»£ç ,ä»è€Œå®ç°åœ¨æµè§ˆå™¨é‡Œé¢ä½¿ç”¨processingç»˜å›¾.</p><p>ç”¨æ³• :<br>é¦–å…ˆä¸‹è½½processing.js<br>åœ¨htmlä»£ç é‡Œåˆ›å»º<canvas>å¯¹è±¡,ä»–çš„data-processing-sourceså±æ€§æŒ‡å‘ä½ å†™å¥½çš„.pdeä»£ç .<br>å¦‚:</canvas></p><pre><code class="language-html">&lt;script src=&quot;processing-1.3.6.min.js&quot;&gt;&lt;/script&gt; &lt;canvas data-processing-sources=&quot;hello-web.pde&quot;&gt;&lt;/canvas&gt;</code></pre><p>æœ€å,canvasé‡Œå°±å‡ºç°äº†ä½ åœ¨.pdeé‡Œç»˜åˆ¶çš„å›¾åƒäº†ã€‚</p><p>ä¸‹é¢ä»‹ç»<code>youtube</code>é‡Œé¢ä¸€ä¸ªæ•™ä½ ç”¨<code>processing</code>è¯­è¨€çš„é¢‘é“</p><p><strong>The Coding Train</strong></p><div class="video-container"><iframe src="//www.youtube.com/embed/5N31KNgOO0g" frameborder="0" allowfullscreen></iframe></div>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> processing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>locustio</title>
      <link href="/blog/posts/638a2703/"/>
      <url>/blog/posts/638a2703/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä»€ä¹ˆæ˜¯locustio?<br>Locustæ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„åˆ†å¸ƒå¼è´Ÿè½½æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨æ¥å¯¹ç½‘ç«™è¿›è¡Œè´Ÿè½½å‹åŠ›æµ‹è¯•ã€‚åŸºäºgeventåç¨‹ï¼Œå¯ä»¥è½»æ¾å®ç°ä¸Šåƒçš„å¹¶å‘é‡ï¼Œè‡ªå·±å®šåˆ¶taskä»»åŠ¡ï¼Œå¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·çš„å„ç§è¡Œä¸ºï¼Œè‡ªå¸¦webé¡µé¢ï¼Œå®æ—¶ç›‘æ§æµ‹è¯•æƒ…å†µï¼Œä¸ä»…å¦‚æ­¤ï¼Œloucusioè¿˜å¯ä»¥å®ç°è‡ªå·±çš„å®¢æˆ·ç«¯ç±»ï¼Œç†è®ºä¸Šå¯ä»¥å¯¹å„ç§ç³»ç»Ÿè¿›è¡Œå¹¶å‘å‹åŠ›æµ‹è¯•ã€‚</p></blockquote><p>##1.å¦‚ä½•å®‰è£…locustio</p><p>åœ¨liunxä¸‹ï¼Œå¯ä»¥ç”¨<code>pip install locustio</code>æˆ–è€…<code>easy_install locustio</code>å®‰è£…ã€‚<br>å®‰è£…å®Œæ¯•åï¼Œshellé‡Œé”®å…¥<code>locust --help</code>æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ã€‚</p><p><img src="https://x1nes.github.io/img/help.png" alt="help"></p><p>##2.å¦‚ä½•ä½¿ç”¨locustioè¿›è¡Œå‹åŠ›æµ‹è¯•<br>å¯¹äºä¸€ä¸ªå·²ç»ç¼–ç å®Œæˆçš„locustæµ‹è¯•è„šæœ¬ï¼Œä¾‹å¦‚ï¼š<a href="http://basic.py" target="_blank" rel="noopener">basic.py</a></p><p>æ‰§è¡Œ<code>locust -f basic.py -H host</code> è¿›è¡Œå¯åŠ¨</p><p><a href="http://xn--locustfile-0m4pu20c3wqx6fl3x9kqytcu9ibl3a437b2f1hx7i.py" target="_blank" rel="noopener">è¿™é‡Œæ³¨æ„å¦‚æœæ–‡ä»¶çš„åå­—æ˜¯locustfile.py</a> ,å¯ä»¥çœç•¥ -f ,å¦‚æœè„šæœ¬é‡ŒæŒ‡æ˜äº†host(è¦æµ‹è¯•çš„ç›®æ ‡åœ°å€ï¼Œä¾‹å¦‚ï¼š192.168.100.199ï¼š8080),ä¹Ÿå¯ä»¥çœç•¥ -H ï¼Œå¦åˆ™ä¼šè¦†ç›–è„šæœ¬é‡Œçš„host.<br>å¦‚æœæƒ³ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼Œåˆ™åŠ ä¸Š<code>-L LOGLEVEL --logfile=LOGFILE</code></p><p>å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨é‡Œè¾“å…¥<code>localhost:8089</code>,è¿›å…¥webé¡µé¢ï¼Œè¾“å…¥è¦æ¨¡æ‹Ÿçš„å¹¶å‘æ•°é‡å’Œæ¯ç§’å¢åŠ çš„æ•°é‡ã€‚</p><p><img src="https://x1nes.github.io/img/web.png" alt="æ§åˆ¶é¡µé¢"></p><p>##3.å¦‚ä½•ç¼–å†™mqttå®¢æˆ·ç«¯çš„æµ‹è¯•è„šæœ¬</p><p>å†™ä¸€ä¸ªlocustfile,å°±å¯ä»¥è¿›è¡Œè´Ÿè½½æµ‹è¯•äº†ã€‚</p><hr><p>å¯¹äºlocustio,ä¸€ä¸ªç”¨æˆ·å°±æ˜¯ä¸€ä¸ªlocust(è—è™«)ç±»ï¼Œlocustioé‡Œé¢å·²ç»å®ç°äº†ä¸€ä¸ªHttpLocustç±»ï¼Œå¯ä»¥å‘é€httpè¯·æ±‚å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•ï¼Œä¸€ä¸ªlocustç±»æœ‰ä¸€ä¸ªclientå±æ€§ï¼Œè€ŒHttpLocustçš„clientå°±æ˜¯HttpSessionçš„å®ä¾‹,è€ŒHttpSessionæ˜¯requestsåº“é‡Œçš„ç±»ï¼Œå¯ä»¥ç”¨å¾ˆç®€å•çš„è¯­å¥å‘é€httpè¯·æ±‚ã€‚<br>éœ€è¦ä¸€ä¸ªuserç±»ï¼ˆåå­—å¯ä»¥éšä¾¿è¿™é‡Œçš„useråªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼‰ï¼Œç»§æ‰¿locustç±»ï¼ŒHttpLocustç±»æˆ–è€…è‡ªå·±å®ç°çš„locustç±»ã€‚è¿™ä¸ªç±»å®šä¹‰äº†è¦æµ‹è¯•çš„åœ°å€host,æ‰§è¡Œä»»åŠ¡çš„æœ€å°å’Œæœ€å¤§æ—¶é—´å·®min_wait.max_waitï¼ˆè¿™äº›å±æ€§ä¹Ÿå¯ä»¥å®šä¹‰åˆ°ç»§æ‰¿TaskSetçš„ç±»é‡Œï¼‰ã€‚<br>userç±»è¿˜è¦æœ‰ä¸€ä¸ªtask_setå±æ€§ï¼Œç»§æ‰¿TaskSetç±»ï¼Œå®šä¹‰äº†è„šæœ¬è¦æ‰§è¡Œçš„å…·ä½“ä»»åŠ¡ï¼Œå°±æ˜¯æ¨¡æ‹Ÿç”¨æˆ·è¦è¿›è¡Œçš„è¡Œä¸ºï¼ˆå‡½æ•°ï¼‰ï¼Œæ¨èç”¨@taskè£…é¥°å™¨æ¥å®šä¹‰è¦è¿›è¡Œçš„ä»»åŠ¡ã€‚é‡Œé¢çš„å‡½æ•°éƒ½æ˜¯éšæœºæ‰§è¡Œï¼Œæ ¹æ®æƒé‡çš„å¤§å°ï¼Œæ‰§è¡Œçš„é¢‘ç‡ä¹Ÿä¼šä¸åŒã€‚</p><blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ä¾‹å­ï¼š</p></blockquote><pre><code class="language-python">from locust import HttpLocust, TaskSet, taskclass UserBehavior(TaskSet):    def login(self):        self.client.post(&quot;/login&quot;, {&quot;username&quot;:&quot;ellen_key&quot;, &quot;password&quot;:&quot;education&quot;})    @task(2)    def index(self):        self.client.get(&quot;/&quot;)class WebsiteUser(HttpLocust):    task_set = UserBehavior    min_wait=5000    max_wait=9000</code></pre><p>è¿™é‡Œç»§æ‰¿è‡ªTaskSetçš„ç±»å°±æ˜¯ç”¨æˆ·çš„è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥ç”¨è£…é¥°å™¨@taskï¼ˆ1ï¼‰è¿™é‡Œçš„1æ˜¯ä»»åŠ¡æ‰§è¡Œçš„æƒé‡ï¼Œæ‰€ä»¥index å‡½æ•°å°±æ˜¯è¦æ‰§è¡Œçš„è¡Œä¸ºï¼Œæƒé‡æ˜¯1ã€‚min_wait,max_waitçš„å•ä½æ˜¯æ¯«ç§’ã€‚</p><p>ä¸ºäº†æµ‹è¯•mqttæœåŠ¡å™¨ï¼Œè¿™é‡Œè¦å®ç°MqttClientå’ŒMqttlocustï¼ˆå› ä¸ºæ¨¡æ‹Ÿçš„æ˜¯ç›’å­ï¼Œæ‰€ä»¥å–åAgentLocust,æ¨¡æ‹Ÿç›’å­agentï¼‰ã€‚<br>clientå¯ä»¥ä½¿ç”¨paho-mqttåº“</p><p><code>pip install paho-matt</code><br>å…·ä½“å¦‚ä½•ä½¿ç”¨å¯ä»¥çœ‹pahoçš„å®˜æ–¹æ–‡æ¡£ã€‚<br>å®¢æˆ·ç«¯ä»£ç </p><pre><code class="language-python">class MqttClient(mqtt.Client):def __init__(self,*args, **kwargs):    super(MqttClient,self).__init__(*args, **kwargs)def on_message(self,client, userdata, msg):    print(msg.topic+&quot; &quot;+str(msg.payload))def on_connect(self,client,userdata,flags,rc):    data = msgProcess.register(self._client_id,itemCount)    self.publish(topic=data[0], payload=data[1], qos=qos, retain = retain)    self.subscribe(topic='/at/'+str(self._client_id)+'/AID', qos=2)def on_disconnect(self,client,userdata,rc):    fire_locust_failure(    request_type = 'mqtt',    name = client,    response_time = 0,    exception = DisconnectError(&quot;disconnected&quot;),    )    self.reconnect()</code></pre><p>è¿™é‡ŒæŠŠæµ‹è¯•äº‘å¹³å°çš„â€œæ³¨å†Œâ€è¡Œä¸ºå†™è¿›äº†clientè¿æ¥çš„å›è°ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥è½½taskç±»é‡Œç”¨on_start()å‡½æ•°å®ç°ã€‚on_start()å°±æ˜¯taskç±»å¼€å§‹æ—¶æ‰§è¡Œçš„ã€‚<br>locustä»£ç </p><pre><code class="language-python">class AgentLocust(Locust):def __init__(self,*args, **kwargs):    super(AgentLocust,self).__init__(*args, **kwargs)    if self.host is None:        raise LocustError(&quot;You must specify the base host. Either in the host attribute in the           Locust class, or on the command line using the --host option.&quot;)    try:        [host, port] = self.host.split(&quot;:&quot;)    except:        host, port = self.host, 1883    global agentIDbegin    clientID = agentIDbegin    agentIDbegin = agentIDbegin + 1    self.client = MqttClient(client_id=str(clientID), clean_session=False)    self.client.connect(host, port=port,keepalive=60)    self.client.loop_start()</code></pre><p>å®ç°çš„æ–¹å¼æ˜¯å¾ˆçµæ´»çš„ï¼Œ<a href="http://xn--locustfile-sj2p2kx7f97offp69ann4a3f2gl83i.py" target="_blank" rel="noopener">ä¸å«Œéº»çƒ¦å¯ä»¥å†å†™ä¸ªlocustfile.py</a></p><pre><code class="language-python">class AnylinkUser(AgentLocust):host = &quot;ip:port&quot;min_wait = minmax_wait = maxclass task_set(TaskSet):@task(1)def hisItemdata(self):    data = msgProcess.saveItemData(self.client._client_id,itemCount)    self.client.publish(topic=data[0], payload=data[1], qos=qos, retain = retain)</code></pre><p>ä»¥åè¦æ¨¡æ‹Ÿagentçš„è¡Œä¸ºï¼Œåœ¨task_seté‡Œæ·»åŠ å‡½æ•°ï¼ŒåŠ ä¸Š@taskè£…é¥°å™¨å’Œæƒé‡å°±å¥½äº†ï¼Œå¦å¤–ï¼Œtask_setä¹Ÿæ”¯æŒåµŒå¥—ï¼Œå¯ä»¥æ›´çµæ´»çš„å®ç°ç”¨æˆ·è¡Œä¸ºã€‚<br>ä¸ºäº†ç”Ÿæˆtopicå’Œpayload,å†™äº†æ ¹æ®å‚æ•°ç”Ÿæˆçš„æ¨¡å—æ¥è°ƒç”¨ï¼š</p><pre><code class="language-python">def register(agentID,itemCount):topic = '/at/' + str(agentID) + '/[60]'msg = []msg.append('[60]&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;')//çœç•¥nè¡Œåè®®ä»£ç return topic,''.join(msg)def saveItemData(agentID,itemCount):topic = '/at/' + str(agentID) + '/[31]'msg = []msg.append(&quot;[31]{z:&quot;+str(agentID)+&quot;,y:[{d:&quot;+ str(agentID) +&quot;,t:$t,c:[&quot;)for i in xrange(itemCount):    msg.append(&quot;[&quot;+str(i)+&quot;,&quot;+str(random.randint(1,100))+&quot;,g],&quot;)msg.append(&quot;]}]}&quot;)msg = ''.join(msg).replace(&quot;$t&quot;,str(int(round(time.time() * 1000))))return topic,msg</code></pre><p>è¿˜æœ‰å‚æ•°ï¼Œæ”¾åœ¨å“ªé‡Œéƒ½å¯ä»¥åªè¦è°ƒç”¨æ–¹ä¾¿ï¼Œç°åœ¨æ”¾åœ¨ä¸€ä¸ªpara.pyæ¨¡å—é‡Œï¼Œç›´æ¥æ”¾åœ¨locustfile.pyé‡Œæ›´ç®€å•ä¸€ç‚¹ã€‚</p><pre><code class="language-python">agentIDbegin = 5999  #agentID,IncrementitemCount = 100 #æ¯ä¸ªagentçš„æ•°æ®é‡qos = 0  #mqttè´¨é‡retain = False #æ˜¯å¦æ˜¯é—å˜±æ¶ˆæ¯min = 590000max = 610000</code></pre><p>ç°åœ¨ï¼Œåªè¦åœ¨locustfileç›®å½•ä¸‹ï¼Œæ‰§è¡Œlocust -H åŠ ä¸Šè¦æµ‹è¯•çš„æœåŠ¡å™¨å°±å¥½äº†ã€‚ç„¶åè¿›å…¥webé¡µé¢è¾“å…¥è—è™«æ•°é‡å’Œå­µåŒ–ç‡ï¼Œç‚¹å‡»start,å°±å¯ä»¥çœ‹åˆ°é¡µé¢ä¸Šuserçš„æ•°é‡åœ¨å¢åŠ ï¼Œç„¶åå»mqttçš„18083ç«¯å£å·çš„é¡µé¢æŸ¥çœ‹è¿æ¥å®¢æˆ·ç«¯æ•°é‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux sarå‘½ä»¤</title>
      <link href="/blog/posts/aa18d564/"/>
      <url>/blog/posts/aa18d564/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä»Šå¤©è¦è¿›è¡ŒæœåŠ¡å™¨å‹åŠ›æµ‹è¯•ï¼Œç”¨åˆ°äº†Linuxä¸‹çš„sarå‘½ä»¤ã€‚</p></blockquote><p>sar(System Activity Reporter)æ˜¯Linuxä¸Šæœ€å…¨é¢çš„ç³»ç»Ÿæ€§èƒ½åˆ†æå·¥å…·ä¹‹ä¸€ï¼Œå¯ä»¥ä»å¤šæ–¹é¢å¯¹ç³»ç»Ÿçš„æ´»åŠ¨è¿›è¡ŒæŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼šç³»ç»Ÿè°ƒç”¨çš„ä½¿ç”¨æƒ…å†µï¼Œæ–‡ä»¶çš„è¯»å†™æƒ…å†µï¼Œç£ç›˜I/Oï¼Œcpuæ•ˆç‡ï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œè¿›ç¨‹æ´»åŠ¨åŠIPCæœ‰å…³çš„æ´»åŠ¨ç­‰ã€‚</p><p>sarå‘½ä»¤å¸¸ç”¨æ ¼å¼ï¼š<br><code>sar [option] [-A] [-o file] t [n]</code><br>å…¶ä¸­ï¼š<br>tä¸ºé‡‡æ ·é—´éš”ï¼Œnä¸ºé‡‡æ ·æ¬¡æ•°ï¼Œé»˜è®¤å€¼ä¸º1ï¼š</p><ul><li>o fileè¡¨ç¤ºå°†å‘½ä»¤ç»“æœä»¥äºŒè¿›åˆ¶æ ¼å¼å­˜æ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œfileæ˜¯æ–‡ä»¶åã€‚<br>options æ˜¯ å‘½ä»¤è¡Œé€‰é¡¹ï¼Œå¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹ï¼š<br><code>ç”¨æ³•: sar [ é€‰é¡¹ ] [ &lt;æ—¶é—´é—´éš”&gt; [ &lt;æ¬¡æ•°&gt; ] ] é€‰é¡¹: [ -A ] [ -B ] [ -b ] [ -C ] [ -d ] [ -H ] [ -h ] [ -p ] [ -q ] [ -R ] [ -r ] [ -S ] [ -t ] [ -u [ ALL ] ] [ -V ] [ -v ] [ -W ] [ -w ] [ -y ] [ -I { &lt;ä¸­æ–­&gt; [,...] | SUM | ALL | XALL } ] [ -P { &lt;cpu&gt;[,...] | ALL } ] [ -m { &lt;å…³é”®è¯&gt; [,...] | ALL } ] [ -n { &lt;å…³é”®è¯&gt; [,...] | ALL } ] [ -j { ID | LABEL | PATH | UUID | ... } ] [ -f [ &lt;æ–‡ä»¶å&gt; ] | -o [ &lt;æ–‡ä»¶å&gt; ] | -[0-9]+ ] [ -i &lt;é—´éš”&gt; ] [ -s [ &lt;æ—¶:åˆ†:ç§’&gt; ] ] [ -e [ &lt;æ—¶:åˆ†:ç§’&gt; ] ]&lt;/cpu&gt;</code></li></ul><p>æ­¤æ¬¡ç”¨åˆ°äº†ï¼š<br>-uï¼šè¾“å‡ºCPUä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯<br>-bï¼šæ˜¾ç¤ºI/Oå’Œä¼ é€é€Ÿç‡çš„ç»Ÿè®¡ä¿¡æ¯<br>-rï¼šè¾“å‡ºå†…å­˜å’Œäº¤æ¢ç©ºé—´çš„ç»Ÿè®¡ä¿¡æ¯</p><p>sar -u:<br>è¾“å‡ºé¡¹è¯´æ˜ï¼š<br>CPUï¼šall è¡¨ç¤ºç»Ÿè®¡ä¿¡æ¯ä¸ºæ‰€æœ‰ CPU çš„å¹³å‡å€¼ã€‚</p><p>%userï¼šæ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«(application)è¿è¡Œä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>%niceï¼šæ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«ï¼Œç”¨äºniceæ“ä½œï¼Œæ‰€å ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>%systemï¼šåœ¨æ ¸å¿ƒçº§åˆ«(kernel)è¿è¡Œæ‰€ä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>%iowaitï¼šæ˜¾ç¤ºç”¨äºç­‰å¾…I/Oæ“ä½œå ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>%stealï¼šç®¡ç†ç¨‹åº(hypervisor)ä¸ºå¦ä¸€ä¸ªè™šæ‹Ÿè¿›ç¨‹æä¾›æœåŠ¡è€Œç­‰å¾…è™šæ‹Ÿ CPU çš„ç™¾åˆ†æ¯”ã€‚</p><p>%idleï¼šæ˜¾ç¤º CPU ç©ºé—²æ—¶é—´å ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>sar - b:<br>è¾“å‡ºé¡¹è¯´æ˜ï¼š<br>tpsï¼šæ¯ç§’é’Ÿç‰©ç†è®¾å¤‡çš„ I/O ä¼ è¾“æ€»é‡</p><p>rtpsï¼šæ¯ç§’é’Ÿä»ç‰©ç†è®¾å¤‡è¯»å…¥çš„æ•°æ®æ€»é‡</p><p>wtpsï¼šæ¯ç§’é’Ÿå‘ç‰©ç†è®¾å¤‡å†™å…¥çš„æ•°æ®æ€»é‡</p><p>bread/sï¼šæ¯ç§’é’Ÿä»ç‰©ç†è®¾å¤‡è¯»å…¥çš„æ•°æ®é‡ï¼Œå•ä½ä¸º å—/s</p><p>bwrtn/sï¼šæ¯ç§’é’Ÿå‘ç‰©ç†è®¾å¤‡å†™å…¥çš„æ•°æ®é‡ï¼Œå•ä½ä¸º å—/s</p><p>sar -r:<br>è¾“å‡ºé¡¹è¯´æ˜ï¼š<br>kbmemfreeï¼šè¿™ä¸ªå€¼å’Œfreeå‘½ä»¤ä¸­çš„freeå€¼åŸºæœ¬ä¸€è‡´,æ‰€ä»¥å®ƒä¸åŒ…æ‹¬bufferå’Œcacheçš„ç©ºé—´.</p><p>kbmemusedï¼šè¿™ä¸ªå€¼å’Œfreeå‘½ä»¤ä¸­çš„usedå€¼åŸºæœ¬ä¸€è‡´,æ‰€ä»¥å®ƒåŒ…æ‹¬bufferå’Œcacheçš„ç©ºé—´.</p><p>%memusedï¼šè¿™ä¸ªå€¼æ˜¯kbmemusedå’Œå†…å­˜æ€»é‡(ä¸åŒ…æ‹¬swap)çš„ä¸€ä¸ªç™¾åˆ†æ¯”.</p><p>kbbufferså’Œkbcachedï¼šè¿™ä¸¤ä¸ªå€¼å°±æ˜¯freeå‘½ä»¤ä¸­çš„bufferå’Œcache.</p><p>kbcommitï¼šä¿è¯å½“å‰ç³»ç»Ÿæ‰€éœ€è¦çš„å†…å­˜,å³ä¸ºäº†ç¡®ä¿ä¸æº¢å‡ºè€Œéœ€è¦çš„å†…å­˜(RAM+swap).</p><p>%commitï¼šè¿™ä¸ªå€¼æ˜¯kbcommitä¸å†…å­˜æ€»é‡(åŒ…æ‹¬swap)çš„ä¸€ä¸ªç™¾åˆ†æ¯”.</p><p><strong>è¦åˆ¤æ–­ç³»ç»Ÿç“¶é¢ˆé—®é¢˜ï¼Œæœ‰æ—¶éœ€å‡ ä¸ª sar å‘½ä»¤é€‰é¡¹ç»“åˆèµ·æ¥</strong></p><p>æ€€ç–‘CPUå­˜åœ¨ç“¶é¢ˆï¼Œå¯ç”¨ sar -u å’Œ sar -q ç­‰æ¥æŸ¥çœ‹</p><p>æ€€ç–‘å†…å­˜å­˜åœ¨ç“¶é¢ˆï¼Œå¯ç”¨ sar -Bã€sar -r å’Œ sar -W ç­‰æ¥æŸ¥çœ‹</p><p>æ€€ç–‘I/Oå­˜åœ¨ç“¶é¢ˆï¼Œå¯ç”¨ sar -bã€sar -u å’Œ sar -d ç­‰æ¥æŸ¥çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
